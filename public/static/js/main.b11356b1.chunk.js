(this.webpackJsonpgetaways=this.webpackJsonpgetaways||[]).push([[0],{127:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(16),c=t.n(r),i=(t(98),t(8)),o=(t(99),t(100),t(132)),s=t(133),m=t(76),u=t(137),d=t(77),p=function(){var e=Object(n.useState)({location:"",type:"",copyButton:"",isClicked:!1}),a=Object(i.a)(e,2),t=a[0],r=a[1],c=function(){return t.isClicked?null:r({copyButton:"Search"})};return l.a.createElement(u.a,{className:"header-form d-flex align-items-center"},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Location"),l.a.createElement(u.a.Control,{onClick:c,type:"text",placeholder:"Search where you'd like to escape..."})),l.a.createElement("span",{className:"header-form---sep"}),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Type"),l.a.createElement(u.a.Control,{onClick:c,type:"text",placeholder:"Search where you'd like to escape..."})),l.a.createElement(u.a.Group,{className:"header-form---submit"},l.a.createElement(d.a,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"10",cy:"10",r:"7"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"15",y2:"15"})),t.copyButton)))},h=t(7),g=function(e){var a=e.background_url,t=e.title,n=e.subtitle;return l.a.createElement("section",{id:"hero",style:{background:"linear-gradient(rgba(46,105,228,.2), rgba(46,105,228,.3)),url('".concat(a,"')")}},l.a.createElement(o.a,null,l.a.createElement(s.a,null,l.a.createElement(m.a,{lg:12},l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"header-col left"},l.a.createElement("h1",{className:"header-title"},t),l.a.createElement("p",{className:"header-subtitle"},n),l.a.createElement(p,null))))),l.a.createElement("div",{className:"header-indicator d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),l.a.createElement("p",null,l.a.createElement("b",null,"McWay Falls"),", Big Sur, California |",l.a.createElement(h.b,{to:"/"},l.a.createElement("b",null," Check getaway")," ",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-narrow-right",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),l.a.createElement("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"19",y2:"12"})))))))},E=t(139),v=t(138),b=t(140),y=function(e){var a=void 0;return void 0===e.user&&(a=l.a.createElement("div",{className:"content-bar"},l.a.createElement(o.a,{fluid:!0},l.a.createElement("div",{className:"content-bar---wrapper d-flex align-items-center"},l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 20l-7 -7a4 4 0 0 1 6.5 -6a.9 .9 0 0 0 1 0a4 4 0 0 1 6.5 6l-7 7"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Romantic",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-directions",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 5h10l2 2l-2 2h-10a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),l.a.createElement("path",{d:"M13 13h-7l-2 2l2 2h7a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1"}),l.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"17"}),l.a.createElement("line",{x1:"12",y1:"13",x2:"12",y2:"9"}),l.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"3"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Adventure",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-droplet",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 3l5 5a7 7 0 1 1 -10 0l5 -5"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Relax",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-glass",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"21"}),l.a.createElement("path",{d:"M16 4l1 6a5 5 0 0 1 -10 0l1 -6z"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Gastronomic",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-snowflake",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(60 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(120 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(180 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(240 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(300 12 12)"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Winter",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-sun",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M3 12h1M12 3v1M20 12h1M12 20v1M5.6 5.6l.7 .7M18.4 5.6l-.7 .7M17.7 17.7l.7 .7M6.3 17.7l-.7 .7"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Summer",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-car",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"7",cy:"17",r:"2"}),l.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),l.a.createElement("path",{d:"M5 17h-2v-6l2-5h9l4 5h1a2 2 0 0 1 2 2v4h-2m-4 0h-6m-6 -6h15m-6 0v-5"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Weekend",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-building-bridge",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"6",y1:"5",x2:"6",y2:"19"}),l.a.createElement("line",{x1:"18",y1:"5",x2:"18",y2:"19"}),l.a.createElement("line",{x1:"2",y1:"15",x2:"22",y2:"15"}),l.a.createElement("path",{d:"M3 8a7.5 7.5 0 0 0 3 -2a6.5 6.5 0 0 0 12 0a7.5 7.5 0 0 0 3 2"}),l.a.createElement("line",{x1:"12",y1:"10",x2:"12",y2:"15"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Cultural",l.a.createElement("br",null),"Getaways"))))))),l.a.createElement("div",null,a)},f=function(e){var a=e.logo_url,t=e.user,n=e.path,r=t?{boxShadow:"none",borderBottom:"1px solid #e8e8e8"}:void 0,c=void 0;return c=t?l.a.createElement(E.a,{className:"logged-user"},l.a.createElement(v.a,null,l.a.createElement(v.a.Toggle,{variant:"none",id:"dropdown-basic"},l.a.createElement("div",{className:"avatar avatar-nav"},l.a.createElement("img",{src:t.avatar,alt:t.fullName})),l.a.createElement("div",{className:"user-meta"},t.fullName,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("polyline",{points:"6 9 12 15 18 9"})))),l.a.createElement(v.a.Menu,null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(E.a.Link,{href:"/dashboard"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-list",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),l.a.createElement("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})),"Dashboard")),l.a.createElement("li",null,l.a.createElement(E.a.Link,{href:"/users/".concat(t._id)},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-user",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"7",r:"4"}),l.a.createElement("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})),"See your profile")),l.a.createElement("li",null,l.a.createElement(E.a.Link,{href:"/settings"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-settings",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))," ","Settings & Privacy")),l.a.createElement("li",null,l.a.createElement(E.a.Link,{href:"/logout"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-power",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 6a7.75 7.75 0 1 0 10 0"}),l.a.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"12"}))," ","Logout")))))):l.a.createElement(E.a,null,l.a.createElement(E.a.Link,{href:"/login"},"Log in"),l.a.createElement(E.a.Link,{href:"/signup",className:"btn signup"},"Sign up")),"/activity-composer"===n||"/place-composer"===n||"/story-composer"===n?l.a.createElement("header",{style:r},l.a.createElement(b.a,null,l.a.createElement(o.a,{fluid:!0,className:"align-items-center"},l.a.createElement("div",{className:"nav-col left d-flex"},l.a.createElement(b.a.Brand,{href:"/feed"},l.a.createElement("img",{src:a,alt:"Logo Getaways.guru"}))),l.a.createElement("div",{className:"nav-col right d-flex"},l.a.createElement(E.a,null),c))),l.a.createElement(y,{user:t})):l.a.createElement("header",{style:r},l.a.createElement(b.a,null,l.a.createElement(o.a,{fluid:!0,className:"align-items-center"},l.a.createElement("div",{className:"nav-col left d-flex"},l.a.createElement(b.a.Brand,{href:"/feed"},l.a.createElement("img",{src:a,alt:"Logo Getaways.guru"})),l.a.createElement(E.a,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"10",cy:"10",r:"7"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"15",y2:"15"})),l.a.createElement(u.a,null,l.a.createElement(u.a.Control,{type:"text",placeholder:"Search where you'd like to escape..."})))),l.a.createElement("div",{className:"nav-col right d-flex"},l.a.createElement(E.a,null,l.a.createElement(E.a.Link,{href:"/activities"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),"Activities"),l.a.createElement(E.a.Link,{href:"/places"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bed",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M3 7v11m0 -4h18m0 4v-8a2 2 0 0 0 -2 -2h-8v6"}),l.a.createElement("circle",{cx:"7",cy:"10",r:"1"})),"Places"),l.a.createElement(E.a.Link,{href:"/stories"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-notebook",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18"}),l.a.createElement("line",{x1:"13",y1:"8",x2:"15",y2:"8"}),l.a.createElement("line",{x1:"13",y1:"12",x2:"15",y2:"12"})),"Stories")),c))),l.a.createElement(y,{user:t}))},k=function(e){var a=Object(n.useState)("perfect"),t=Object(i.a)(a,2),r=t[0],c=t[1],o=["weekend","romantic","gastronomic","adventure","relax","cultural","winter","summer"];Object(n.useEffect)((function(){var e=setInterval((function(){var e=o[Math.floor(o.length*Math.random())];c(e)}),3500);return function(){return clearInterval(e)}}));var s="Your next ".concat(r," getaway starts here");return l.a.createElement("div",{id:"homepage"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg"}),l.a.createElement(g,{background_url:"../jumbotron-bg.jpg",title:s,subtitle:"Search, find and book among thousands of verified getaways from local  travellers"}))},w=t(79),x=t(82),N=t(80),j=t.n(N),C=t(81),_=t.n(C);function O(){var e=Object(w.a)(["\n@font-face {\n    font-family: 'MADE';\n    src: url(",") format('truetype');\n    font-weight: bold;\n    font-style: normal;\n    font-display: auto;\n}\n\n@font-face {\n    font-family: 'INTER';\n    src: url(",") format('truetype');\n    font-weight: regular;\n    font-style: normal;\n    font-display: auto;\n}"]);return O=function(){return e},e}var L=Object(x.a)(O(),j.a,_.a),M=t(13),S=t(10),D=t(1),B=t(134),A=t(58),P=t(67).default,T=function e(){var a=this;Object(A.a)(this,e),this.signup=function(e,t,n){return a.service.post("/auth/signup",{fullName:e,email:t,password:n}).then((function(){return void 0===a.error?(console.log(a.response),a.response):(console.log(a.error),a.error)}))},this.login=function(e,t){return a.service.post("/auth/login",{username:e,password:t}).then((function(){return void 0===a.error?(console.log(a.response),a.response):(console.log(a.error),a.error)}))},this.logout=function(){return a.service.post("/auth/logout",{}).then((function(e){return e.data}))},this.googleAuth=function(e,t,n){return a.service.post("/auth/googlesignup",{fullName:e,email:t,imageUrl:n}).then((function(){return void 0===a.error?a.response:a.error}))};var t=P.create({baseURL:"".concat("https://getaways-guru.herokuapp.com/"),withCredentials:!0});t.interceptors.response.use((function(e){return a.response=e.data}),(function(e){if(!(e.response.status>=400&&e.response.status<=500))return Promise.reject(e);a.error={message:e.response.data.message,status:e.response.status}})),this.service=t,this.error=void 0,this.response=void 0},G=t(86),R=t.n(G),U=function(e){var a=Object(M.g)();null!==e.user&&a.push("/feed");var t,r={formData:{fullName:"",email:"",password:""},errorMessage:{},googleResponse:{received:!1,data:{}}},c=Object(n.useState)(r),o=Object(i.a)(c,2),s=o[0],m=o[1],p=new T,g=function(e){m(Object(D.a)(Object(D.a)({},s),{},{formData:Object(D.a)(Object(D.a)({},s.formData),{},Object(S.a)({},e.target.name,e.target.value))}))},E=function(e){console.log(e),m(Object(D.a)(Object(D.a)({},s),{},{googleResponse:{received:!0,data:e.profileObj}}))};return Object(n.useEffect)((function(){s.googleResponse.received&&function(){var t=s.googleResponse.data,n=t.name,l=t.email,c=t.imageUrl;console.log({name:n,email:l,imageUrl:c}),p.googleAuth(n,l,c).then((function(t){t.status?(console.log("error =>",t),m(Object(D.a)(Object(D.a)({},s),{},{errorMessage:t,googleResponse:Object(D.a)(Object(D.a)({},s.googleResponse),{},{received:!1})}))):(console.log("respuesta del servidor =>",t),m(r),e.getUserDetails(t),a.push("/feed"))})).catch((function(e){return console.log(e)}))}()})),s.errorMessage.message?"Please provide fullname, email and password"===s.errorMessage.message?t=l.a.createElement(B.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shield-x",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"}),l.a.createElement("path",{d:"M10 10l4 4m0 -4l-4 4"})),s.errorMessage.message):"Please provide a stronger password of at least 8 alphanumeric characters"===s.errorMessage.message?t=l.a.createElement(B.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-key",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"8",cy:"15",r:"4"}),l.a.createElement("line",{x1:"10.85",y1:"12.15",x2:"19",y2:"4"}),l.a.createElement("line",{x1:"18",y1:"5",x2:"20",y2:"7"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"17",y2:"10"})),s.errorMessage.message):"Email already exists. Choose another one"===s.errorMessage.message&&(t=l.a.createElement(B.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"})),s.errorMessage.message)):t=null,l.a.createElement("section",{id:"signup"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"signup-col left"},l.a.createElement("div",{className:"title-area"},l.a.createElement(h.b,{to:"/"},l.a.createElement("img",{src:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",alt:""})),l.a.createElement("h2",null,"Discover the world's top getaways and places to escape to.")),l.a.createElement("div",{className:"graphic"},l.a.createElement("img",{src:"../../signup-graphic.svg",alt:""}))),l.a.createElement("div",{className:"signup-col right"},l.a.createElement("div",{className:"signup-col-wrapper right"},l.a.createElement("div",{className:"navlink"},"Already have an account? ",l.a.createElement(h.b,{to:"/login"},"Log in")),l.a.createElement("div",{className:"title-area"},l.a.createElement("h1",null,"Sign up to Getaways.guru"),l.a.createElement("p",{className:"sub-h1"},"Create an account to easily search, find and book your next perfect getaways.")),l.a.createElement("div",{className:"social-signup d-flex align-items-center"},l.a.createElement(R.a,{clientId:"1001464092709-hi8kknnaqhokalsior0s2kukhtupa7a8.apps.googleusercontent.com",render:function(e){return l.a.createElement("button",{type:"submit",className:"btn google",onClick:e.onClick,disabled:e.disabled},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-google",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M17.788 5.108A9 9 0 1021 12h-8"})),"Sign up with Google")},buttonText:"Sign up with Google",onSuccess:E,onFailure:E,cookiePolicy:"single_host_origin"}),l.a.createElement("button",{type:"submit",className:"btn facebook"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-facebook",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"none",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",style:{fill:"#173572"}})))),l.a.createElement(u.a,{onSubmit:function(t){t.preventDefault();var n=s.formData,l=n.fullName,c=n.email,i=n.password;p.signup(l,c,i).then((function(t){t.status?(console.log("error =>",t),m(Object(D.a)(Object(D.a)({},s),{},{errorMessage:t}))):(console.log("signed up =>",t),m(r),e.getUserDetails(t),a.push("/feed"))})).catch((function(e){return console.log(e)}))}},t,l.a.createElement("div",{className:"d-flex"},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Name"),l.a.createElement(u.a.Control,{type:"text",name:"fullName",onChange:g,placeholder:"Enter your full name"}))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Email"),l.a.createElement(u.a.Control,{type:"email",name:"email",onChange:g,placeholder:"Enter your email address"})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Password"),l.a.createElement(u.a.Control,{type:"password",name:"password",onChange:g,placeholder:"6+ characters"})),l.a.createElement(d.a,{type:"submit"},"Create account"))))))},z=function(e){var a=Object(M.g)();null!==e.user&&a.push("/feed");var t,r={formData:{email:"",password:""},errorMessage:{}},c=Object(n.useState)(r),o=Object(i.a)(c,2),s=o[0],m=o[1],p=new T,g=function(e){m(Object(D.a)(Object(D.a)({},s),{},{formData:Object(D.a)(Object(D.a)({},s.formData),{},Object(S.a)({},e.target.name,e.target.value))}))};return s.errorMessage.message?"Missing credentials"===s.errorMessage.message?t=l.a.createElement(B.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shield-x",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"}),l.a.createElement("path",{d:"M10 10l4 4m0 -4l-4 4"})),s.errorMessage.message):"Incorrect email"===s.errorMessage.message?t=l.a.createElement(B.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"})),s.errorMessage.message):"Incorrect password"===s.errorMessage.message&&(t=l.a.createElement(B.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-key",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"8",cy:"15",r:"4"}),l.a.createElement("line",{x1:"10.85",y1:"12.15",x2:"19",y2:"4"}),l.a.createElement("line",{x1:"18",y1:"5",x2:"20",y2:"7"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"17",y2:"10"})),s.errorMessage.message)):t=null,l.a.createElement("section",{id:"signup"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"signup-col left"},l.a.createElement("div",{className:"title-area"},l.a.createElement(h.b,{to:"/"},l.a.createElement("img",{src:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",alt:""})),l.a.createElement("h2",null,"Discover the world's top getaways and places to escape to.")),l.a.createElement("div",{className:"graphic"},l.a.createElement("img",{src:"../../signup-graphic.svg",alt:""}))),l.a.createElement("div",{className:"signup-col right"},l.a.createElement("div",{className:"signup-col-wrapper right"},l.a.createElement("div",{className:"navlink"},"Not have an account yet? ",l.a.createElement(h.b,{to:"/signup"},"Sign up")),l.a.createElement("div",{className:"title-area"},l.a.createElement("h1",null,"Log in to Getaways.guru"),l.a.createElement("p",{className:"sub-h1"},"Access your account to easily search, find and book your next perfect getaways.")),l.a.createElement("div",{className:"social-signup d-flex align-items-center"},l.a.createElement("button",{type:"submit",className:"btn google"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-google",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M17.788 5.108A9 9 0 1021 12h-8"})),"Log in with Google"),l.a.createElement("button",{type:"submit",className:"btn facebook"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-facebook",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"none",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",style:{fill:"#666666"}})))),l.a.createElement(u.a,{onSubmit:function(t){t.preventDefault();var n=s.formData,l=n.email,c=n.password;p.login(l,c).then((function(t){t.status?m(Object(D.a)(Object(D.a)({},s),{},{errorMessage:t})):(m(r),e.getUserDetails(t),a.push("/feed"))})).catch((function(e){return console.log(e)}))}},t,l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Email"),l.a.createElement(u.a.Control,{type:"email",name:"email",onChange:g,placeholder:"Enter your email address"})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Password"),l.a.createElement(u.a.Control,{type:"password",name:"password",onChange:g,placeholder:"6+ characters"})),l.a.createElement(d.a,{type:"submit"},"Log in"))))))},W=t(136),H=function(e){var a=e.visibility,t=e.hideModal;return l.a.createElement(W.a,{show:a,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"publicationModal"},l.a.createElement(W.a.Header,{closeButton:!0},l.a.createElement(W.a.Title,null,"Create a post")),l.a.createElement(W.a.Body,null,l.a.createElement("ul",{className:"d-flex flex-column"},l.a.createElement("li",null,l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Activity"),l.a.createElement("p",null,"Lorem ipsum")),l.a.createElement("div",{className:"col"},l.a.createElement(h.b,{to:"/activity-composer",className:"btn btn-primary"},"Create"))),l.a.createElement("li",null,l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Place"),l.a.createElement("p",null,"Lorem ipsum")),l.a.createElement("div",{className:"col"},l.a.createElement(h.b,{to:"/place-composer",className:"btn btn-primary"},"Create"))),l.a.createElement("li",null,l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Story"),l.a.createElement("p",null,"Lorem ipsum")),l.a.createElement("div",{className:"col"},l.a.createElement(h.b,{to:"/story-composer",className:"btn btn-primary"},"Create"))))))},I=function(e){var a=e.user,t={loggedUser:a},r=Object(n.useState)(t),c=Object(i.a)(r,1)[0],m=Object(n.useState)(!1),u=Object(i.a)(m,2),p=u[0],g=u[1];return l.a.createElement("div",{id:"feed"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"user-meta"},l.a.createElement("div",{className:"user-meta-wrapper"},l.a.createElement("div",{className:"avatar avatar-s"},l.a.createElement("img",{src:c.loggedUser.avatar,alt:c.loggedUser.fullName})),l.a.createElement("div",{className:"user-text"},l.a.createElement("p",null,"Welcome back,"),l.a.createElement("h1",null,a.fullName)))),l.a.createElement("div",{className:"weather-meta"}),l.a.createElement("div",{className:"left-menu"},l.a.createElement("div",{className:"topics"},l.a.createElement("p",null,"Topics you follow"),l.a.createElement("ul",{className:"menu-topics"},l.a.createElement("li",null,l.a.createElement(h.b,{to:"/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 20l-7 -7a4 4 0 0 1 6.5 -6a.9 .9 0 0 0 1 0a4 4 0 0 1 6.5 6l-7 7"}))," ","Romantic")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),"Barcelona")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),"Costa Brava")))),l.a.createElement("div",{className:"content"},l.a.createElement("p",null,"Explore and engage"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(h.b,{to:"/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-compass",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("polyline",{points:"8 16 10 10 16 8 14 14 8 16"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"9"})),"Discover")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/users"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-users",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),l.a.createElement("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),l.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),l.a.createElement("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})),"Community")))),l.a.createElement("div",{className:"links"},l.a.createElement("p",null,"Manage your account"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(h.b,{to:"/dashboard"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-list",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),l.a.createElement("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})),"Dashboard")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/bookmarks"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"})),"Bookmarks")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/users/".concat(c.loggedUser._id)},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-user",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"7",r:"4"}),l.a.createElement("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})),"Profile")))),l.a.createElement("div",{className:"new"},l.a.createElement(d.a,{className:"btn btn-primary text-center sidebar",onClick:function(){return g(!0)}},"Add getaway")))),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"})))),l.a.createElement(H,{visibility:p,hideModal:function(){return g(!1)}}))},F=t(91),V=function(e){var a=e.component,t=e.user,n=Object(F.a)(e,["component","user"]);return l.a.createElement(M.b,Object.assign({},n,{render:function(e){return t?l.a.createElement(a,Object.assign({},e,{user:t})):l.a.createElement(M.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},q=t(60),K=t.n(q),Z=function(e){return(new T).logout().then((function(){e.getUserDetails(null)})).catch((function(e){return console.log(e)})),l.a.createElement(M.a,{to:"/"})},Y=t(30),J=t(67).default,X=function e(){var a=this;Object(A.a)(this,e),this.activity=function(e,t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w){return a.service.post("/activity",{type:e,title:t,subtitle:n,categories:l,seasons:r,region:c,image:i,description:o,phone:s,website:m,activity_full_address:u,activity_locality:d,activity_province:p,activity_state:h,activity_country:g,activity_lat:E,activity_lng:v,activity_rating:b,activity_place_id:y,activity_opening_hours:f,duration:k,price:w}).then((function(e){return e.data}))},this.activities=function(){return a.service.get("/activities").then((function(e){return e.data}))},this.userActivities=function(e){return a.service.get("/users/".concat(e,"/activities")).then((function(e){return e.data}))},this.activityDetails=function(e){return a.service.get("/activities/".concat(e)).then((function(e){return e.data}))},this.removeActivity=function(e){return a.service.put("/activities/".concat(e),{isRemoved:!0}).then((function(e){return e.data}))},this.editActivity=function(e,t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w){return a.service.put("/activities/".concat(e),{title:t,subtitle:n,categories:l,seasons:r,region:c,images:i,description:o,phone:s,website:m,activity_full_address:u,activity_locality:d,activity_province:p,activity_state:h,activity_country:g,activity_lat:E,activity_lng:v,activity_rating:b,activity_place_id:y,activity_opening_hours:f,duration:k,price:w})},this.uploadFile=function(e){return a.service.post("/upload",e).then((function(e){return e.data}))},this.getUserProfile=function(e){return a.service.get("/users/".concat(e)).then((function(e){return e.data}))},this.editProfile=function(e,t,n,l,r,c){return a.service.put("/users/".concat(e),{avatar:t,fullName:n,username:l,bio:r,location:c})},this.editUserCover=function(e,t){return a.service.put("/users/".concat(e),{cover:t})},this.getAllUsers=function(){return a.service.get("/users").then((function(e){return e.data}))},this.place=function(e,t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w){return a.service.post("/place",{type:e,title:t,subtitle:n,categories:l,seasons:r,region:c,placeType:i,image:o,description:s,phone:m,website:u,place_full_address:d,place_locality:p,place_province:h,place_state:g,place_country:E,place_lat:v,place_lng:b,place_rating:y,place_id:f,place_opening_hours:k,price:w}).then((function(e){return e.data}))},this.getAllPlaces=function(){return a.service.get("/places").then((function(e){return e.data}))},this.getPlaceDetails=function(e){return a.service.get("/places/".concat(e)).then((function(e){return e.data}))},this.removePlace=function(e){return a.service.put("/places/".concat(e),{isRemoved:!0}).then((function(e){return e.data}))},this.editPlace=function(e,t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w){return a.service.put("/places/".concat(e),{title:t,subtitle:n,categories:l,seasons:r,region:c,placeType:i,images:o,description:s,phone:m,website:u,place_full_address:d,place_locality:p,place_province:h,place_state:g,place_country:E,place_lat:v,place_lng:b,place_rating:y,place_place_id:f,place_opening_hours:k,price:w})},this.getUserPlaces=function(e){return a.service.get("/users/".concat(e,"/places")).then((function(e){return e.data}))},this.story=function(e,t,n,l,r){return a.service.post("/story",{type:e,title:t,subtitle:n,image:l,description:r}).then((function(e){return e.data}))},this.getAllStories=function(){return a.service.get("/stories").then((function(e){return e.data}))},this.getStoryDetails=function(e){return a.service.get("/stories/".concat(e)).then((function(e){return e.data}))},this.getUserStories=function(e){return a.service.get("/users/".concat(e,"/stories")).then((function(e){return e.data}))},this.editStory=function(e,t,n,l,r,c){return a.service.put("/stories/".concat(e),{title:t,subtitle:n,description:l,location:r,status:c})},this.removeStory=function(e){return a.service.delete("/stories/".concat(e)).then((function(e){return e.data}))},this.bookmark=function(e,t){return a.service.post("/bookmark",{listingId:e,listingType:t}).then((function(e){return e.data}))},this.getUserActiveBookmarks=function(){return a.service.get("/activebookmarks").then((function(e){return e.data}))},this.getUserAllBookmarks=function(){return a.service.get("/bookmarks").then((function(e){return e.data}))},this.searchPlaces=function(e,t,n,l){return a.service.get("/searchPlaces?".concat(e,"&").concat(t,"&").concat(n,"&").concat(l)).then((function(e){return e.data}))},this.searchActivities=function(e,t,n){return a.service.get("/searchActivities?".concat(e,"&").concat(t,"&").concat(n)).then((function(e){return e.data}))};var t=J.create({baseURL:"".concat("https://getaways-guru.herokuapp.com/"),withCredentials:!0});this.service=t},$=t(33),Q=t.n($),ee=function(e){var a=e.user,t=e.match,r={loggedUser:a,formData:{emptyForm:!0,type:"activity",title:"",subtitle:"",categories:[],seasons:[],region:"",images:[],description:"",phone:"",website:"",activity_full_address:"",activity_locality:"",activity_province:"",activity_state:"",activity_country:"",activity_lat:"",activity_lng:"",activity_rating:0,activity_place_id:"",activity_opening_hours:"",duration:"",price:"",isReadyToSubmit:!1}},c=Object(n.useState)(r),p=Object(i.a)(c,2),h=p[0],g=p[1],E=new X,v=Object(M.g)(),b=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),E.uploadFile(t).then((function(e){g(Object(D.a)(Object(D.a)({},h),{},{formData:Object(D.a)(Object(D.a)({},h.formData),{},{images:[].concat(Object(Y.a)(h.formData.images),[e.path])})}))}))},y=function(e){var a=h.formData.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}g(Object(D.a)(Object(D.a)({},h),{},{formData:Object(D.a)(Object(D.a)({},h.formData),{},{categories:a})}))},k=function(e){var a=h.formData.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}g(Object(D.a)(Object(D.a)({},h),{},{formData:Object(D.a)(Object(D.a)({},h.formData),{},{seasons:a})}))},w=function(e){g(Object(D.a)(Object(D.a)({},h),{},{formData:Object(D.a)(Object(D.a)({},h.formData),{},{region:e.target.id})}))},x=function(e){var a;g(Object(D.a)(Object(D.a)({},h),{},{formData:Object(D.a)(Object(D.a)({},h.formData),{},(a={},Object(S.a)(a,e.target.name,e.target.value),Object(S.a)(a,"emptyForm",!1),a))}))};return Object(n.useEffect)((function(){var e=h.formData,a=e.title,t=e.subtitle,n=e.categories,l=e.seasons,r=e.region,c=e.activity_full_address,i=e.phone,o=e.website,s=e.images,m=e.price,u=e.duration,d=e.description;a&&t&&n&&l&&r&&c&&i&&o&&s.length>0&&d&&u&&m&&g((function(e){return Object(D.a)(Object(D.a)({},e),{},{isReadyToSubmit:!0})}))}),[h.formData]),l.a.createElement("div",{id:"activity",className:"composer"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a,path:t.path}),l.a.createElement(o.a,{className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement(m.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Create Activity"),l.a.createElement("p",{className:"sub-h1"},"Describe and publish your activity so others start enjoying it.")),l.a.createElement(u.a,null,l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Title"),l.a.createElement(u.a.Control,{type:"text",name:"title",placeholder:"Activity title",onChange:x,value:h.formData.title})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Subtitle"),l.a.createElement(u.a.Control,{type:"text",name:"subtitle",placeholder:"Activity subtitle",onChange:x,value:h.formData.subtitle})),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Activity Category"),l.a.createElement(u.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:y}),l.a.createElement(u.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:y}),l.a.createElement(u.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:y}),l.a.createElement(u.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:y}),l.a.createElement(u.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:y}))),l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Activity Season"),l.a.createElement(u.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:k}),l.a.createElement(u.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:k}),l.a.createElement(u.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:k}),l.a.createElement(u.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:k}))),l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Activity Region"),l.a.createElement(u.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"activityRegion",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"activityRegion",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"girona",label:"Girona",name:"activityRegion",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"activityRegion",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"activityRegion",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"activityRegion",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"activityRegion",onChange:w}))))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Location"),l.a.createElement(Q.a,{className:"location-control",apiKey:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://getaways-guru.herokuapp.com/"}).GOOGLE_API_KEY),style:{width:"100%"},onPlaceSelected:function(e){var a,t,n,l,r,c,i,o,s,m;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(r=e.long_name)})),e.geometry.viewport&&(c=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(m=e.opening_hours.weekday_text),g(Object(D.a)(Object(D.a)({},h),{},{formData:Object(D.a)(Object(D.a)({},h.formData),{},{activity_full_address:a,activity_locality:t,activity_province:n,activity_state:l,activity_country:r,activity_lat:c,activity_lng:i,activity_rating:o,activity_id:s,activity_opening_hours:m})})),console.log(e)},types:["establishment"],placeholder:"Type the activity address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:6},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Phone Number"),l.a.createElement(u.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:x,value:h.formData.phone}))),l.a.createElement(m.a,{lg:6},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Website"),l.a.createElement(u.a.Control,{type:"url",name:"website",placeholder:"Activity website",onChange:x,value:h.formData.website})))),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:6},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Price (\u20ac)"),l.a.createElement(u.a.Control,{type:"number",name:"price",placeholder:"Activity price",onChange:x,value:h.formData.price}))),l.a.createElement(m.a,{lg:6},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Duration (h)"),l.a.createElement(u.a.Control,{type:"number",name:"duration",placeholder:"Activity duration",onChange:x,value:h.formData.duration})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Activity Images"),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:b}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:b}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:b}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:b}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:b}))))))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Description"),l.a.createElement(u.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Activity description",onChange:x,value:h.formData.description})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(o.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},h.isReadyToSubmit?l.a.createElement(d.a,{type:"submit",variant:"none",onClick:function(e){e.preventDefault(),function(){var e=h.formData,a=e.type,t=e.title,n=e.subtitle,l=e.categories,r=e.seasons,c=e.region,i=e.images,o=e.description,s=e.phone,m=e.website,u=e.activity_full_address,d=e.activity_locality,p=e.activity_province,b=e.activity_state,y=e.activity_country,f=e.activity_lat,k=e.activity_lng,w=e.activity_rating,x=e.activity_place_id,N=e.activity_opening_hours,j=e.duration,C=e.price;E.activity(a,t,n,l,r,c,i,o,s,m,u,d,p,b,y,f,k,w,x,N,j,C).then((function(){g(Object(D.a)(Object(D.a)({},h),{},{formData:{emptyForm:!0,type:"activity",title:"",subtitle:"",categories:[],seasons:[],region:"",images:[],description:"",phone:"",website:"",activity_full_address:"",activity_locality:"",activity_province:"",activity_state:"",activity_country:"",activity_lat:"",activity_lng:"",activity_rating:0,activity_place_id:"",activity_opening_hours:"",duration:"",price:"",isReadyToSubmit:!1}})),v.push("/dashboard")})).catch((function(e){return console.log(e)}))}()}},"Publish"):l.a.createElement(d.a,{type:"submit",variant:"none",disabled:!0},"Publish"))))))},ae=t(11),te=t.n(ae),ne=t(17),le=t(135),re=function(e){var a,t=e.type,n=e.id,r=e.image,c=e.title,i=e.subtitle,o=e.publicationDate,s=e.fetchData,m=new X;return"activity"===t?a="activities":"place"===t?a="places":"story"===t&&(a="stories"),l.a.createElement("div",{className:"content box d-flex align-items-center"},l.a.createElement(h.b,{to:"/".concat(a,"/").concat(n),className:"d-flex align-items-center"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:r,alt:c})),l.a.createElement("h1",{className:"title"},c),l.a.createElement("p",{className:"subtitle"},i),l.a.createElement("p",{className:"date"},o)),l.a.createElement("div",{className:"crud-buttons"},l.a.createElement(v.a,null,l.a.createElement(v.a.Toggle,{variant:"none"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-dots",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"5",cy:"12",r:"1"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),l.a.createElement("circle",{cx:"19",cy:"12",r:"1"}))),l.a.createElement(v.a.Menu,null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(h.b,{to:"/".concat(a,"/").concat(n)},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-eye",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"2"}),l.a.createElement("path",{d:"M2 12l1.5 2a11 11 0 0 0 17 0l1.5 -2"}),l.a.createElement("path",{d:"M2 12l1.5 -2a11 11 0 0 1 17 0l1.5 2"})),"View")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/".concat(a,"/").concat(n,"/edit")},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-pencil",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"}),l.a.createElement("line",{x1:"13.5",y1:"6.5",x2:"17.5",y2:"10.5"})),"Edit")),l.a.createElement("li",null,l.a.createElement(d.a,{variant:"none",onClick:function(){"activity"===t?m.removeActivity(n).then((function(){return s()})):"place"===t?m.removePlace(n).then((function(){return s()})):"story"===t&&m.removeStory(n).then((function(){return s()}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-trash",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),l.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),l.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),l.a.createElement("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),l.a.createElement("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})),"Remove")))))))},ce=function(e){var a=e.user,t={loggedUser:a,allListings:[],activities:[],places:[],stories:[],isFetching:!1,hasListings:!1,hasActivities:!1,hasPlaces:!1,hasStories:!1,sortedTitle:!1,activeTab:"all"},r=Object(n.useState)(t),c=Object(i.a)(r,2),m=c[0],u=c[1],p=Object(n.useState)(!1),g=Object(i.a)(p,2),E=g[0],v=g[1],b=function(){return v(!0)},y=new X;Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l,r,c,i,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(Object(D.a)(Object(D.a)({},m),{},{isFetching:!0})),e.next=3,y.userActivities(m.loggedUser._id);case 3:return a=e.sent,e.next=6,y.getUserPlaces(m.loggedUser._id);case 6:return t=e.sent,e.next=9,y.getUserStories(m.loggedUser._id);case 9:n=e.sent,l=[],c=a.length>0,i=t.length>0,o=n.length>0,r=a.length>0||t.length>0||n.length>0,a.map((function(e){return l.push(e)})),t.map((function(e){return l.push(e)})),n.map((function(e){return l.push(e)})),u(Object(D.a)(Object(D.a)({},m),{},{allListings:l,activities:a,places:t,stories:n,isFetching:!1,hasListings:r,hasActivities:c,hasPlaces:i,hasStories:o}));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var k,w,x,N,j,C,_,O=Object(n.useCallback)(Object(ne.a)(te.a.mark((function e(){var a,t,n,l,r,c,i,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(Object(D.a)(Object(D.a)({},m),{},{isFetching:!0})),e.next=3,y.userActivities(m.loggedUser._id);case 3:return a=e.sent,e.next=6,y.getUserPlaces(m.loggedUser._id);case 6:return t=e.sent,e.next=9,y.getUserStories(m.loggedUser._id);case 9:n=e.sent,r=a.length>0,c=t.length>0,i=n.length>0,l=a.length>0||t.length>0||n.length>0,o=[],a.map((function(e){return o.push(e)})),t.map((function(e){return o.push(e)})),n.map((function(e){return o.push(e)})),u(Object(D.a)(Object(D.a)({},m),{},{allListings:o,activities:a,places:t,stories:n,isFetching:!1,hasListings:l,hasActivities:r,hasPlaces:c,hasStories:i}));case 19:case"end":return e.stop()}}),e)}))),[y,m]);if(!0===m.isFetching&&!1===m.hasListings)return l.a.createElement(o.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));switch(m.activeTab){case"activities":j="activity",C="/activity-composer",_=l.a.createElement(h.b,{to:C,className:"btn btn-primary text-center"},"Add ",j);break;case"places":j="place",C="/place-composer",_=l.a.createElement(h.b,{to:C,className:"btn btn-primary text-center"},"Add ",j);break;case"stories":j="story",C="/story-composer",_=l.a.createElement(h.b,{to:C,className:"btn btn-primary text-center"},"Add ",j);break;default:j="getaway",C="/activity-composer",_=l.a.createElement(d.a,{className:"btn btn-primary text-center",onClick:b},"Add getaway")}var L=l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-results.svg",alt:"Graphic no results"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Oh no, this looks so empty.",l.a.createElement("br",null),"Create your first ",j," to inspire others."),_));!0===m.hasListings?(k=l.a.createElement("div",{className:"filter-box d-flex align-items-center justify-content-between"},l.a.createElement(d.a,{variant:"none"},"Image"),l.a.createElement(d.a,{variant:"none",className:"filter",onClick:function(){return function(e,a){if(!1===m.sortedTitle||"ZtoA"===m.sortedTitle){var t,n=e.sort((function(e,a){return e.title.toLowerCase()>a.title.toLowerCase()?-1:e.title.toLowerCase()<a.title.toLowerCase()?1:0})).reverse();u(Object(D.a)(Object(D.a)({},m),{},(t={},Object(S.a)(t,a,n),Object(S.a)(t,"sortedTitle","AtoZ"),t)))}else if("AtoZ"===m.sortedTitle){var l,r=e.sort((function(e,a){return e.title.toLowerCase()>a.title.toLowerCase()?-1:e.title.toLowerCase()<a.title.toLowerCase()?1:0}));u(Object(D.a)(Object(D.a)({},m),{},(l={},Object(S.a)(l,a,r),Object(S.a)(l,"sortedTitle","ZtoA"),l)))}}(x,N)}},"Title",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrows-sort",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#212529",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M3 9l4-4l4 4m-4 -4v14"}),l.a.createElement("path",{d:"M21 15l-4 4l-4-4m4 4v-14"}))),l.a.createElement(d.a,{variant:"none",className:"filter"},"Subtitle"),l.a.createElement(d.a,{variant:"none",className:"filter"},"Date"),l.a.createElement(d.a,{variant:"none"},"Actions")),"all"===m.activeTab&&(x=m.allListings,N="allListings",w=m.allListings.map((function(e){return l.a.createElement(re,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:O})}))),"activities"===m.activeTab&&(!0===m.hasActivities?(x=m.activities,N="activities",w=m.activities.map((function(e){return l.a.createElement(re,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:O})}))):(k=null,w=L)),"places"===m.activeTab&&(!0===m.hasPlaces?(N="places",x=m.places,w=m.places.map((function(e){return l.a.createElement(re,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:O})}))):(k=null,w=L)),"stories"===m.activeTab&&(!0===m.hasStories?(x=m.stories,w=m.stories.map((function(e){return l.a.createElement(re,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:O})}))):(k=null,w=L))):(k=null,w=L);var M={backgroundColor:"#abc3f4",borderRadius:"8px",cursor:"pointer",color:"#0d1f44"};return l.a.createElement("div",{id:"dashboard"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(o.a,{fluid:!0,className:"top-nav"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title db"},"Dashboard"))),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("ul",null,l.a.createElement("li",{className:"list-title"},"Your getaways"),l.a.createElement("li",{className:"list-item",style:"all"===m.activeTab?M:null,onClick:function(){return u(Object(D.a)(Object(D.a)({},m),{},{activeTab:"all"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-list",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),l.a.createElement("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})),"All"),l.a.createElement("li",{className:"list-item",style:"activities"===m.activeTab?M:null,onClick:function(){return u(Object(D.a)(Object(D.a)({},m),{},{activeTab:"activities"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),"Activities"),l.a.createElement("li",{className:"list-item",style:"places"===m.activeTab?M:null,onClick:function(){return u(Object(D.a)(Object(D.a)({},m),{},{activeTab:"places"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bed",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M3 7v11m0 -4h18m0 4v-8a2 2 0 0 0 -2 -2h-8v6"}),l.a.createElement("circle",{cx:"7",cy:"10",r:"1"})),"Places"),l.a.createElement("li",{className:"list-item",style:"stories"===m.activeTab?M:null,onClick:function(){return u(Object(D.a)(Object(D.a)({},m),{},{activeTab:"stories"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-notebook",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18"}),l.a.createElement("line",{x1:"13",y1:"8",x2:"15",y2:"8"}),l.a.createElement("line",{x1:"13",y1:"12",x2:"15",y2:"12"})),"Stories")),l.a.createElement("div",{className:"new"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(d.a,{className:"btn btn-primary text-center sidebar",onClick:b},"Add getaway"))))),l.a.createElement("div",{className:"col right"},k,l.a.createElement("div",{className:"content-box-wrapper"},w))))),l.a.createElement(H,{visibility:E,hideModal:function(){return v(!1)}}))},ie=function(e){var a,t=e.id,n=e.image,r=e.title,c=e.subtitle,i=e.location,o=e.type;return"activity"===o?a="activities":"place"===o?a="places":"story"===o&&(a="stories"),l.a.createElement("div",{id:"listing",className:"d-flex align-items-center justify-content-between"},l.a.createElement(h.b,{to:"/".concat(a,"/").concat(t),title:r,className:"listing-wrapper d-flex align-items-center"},l.a.createElement("div",{className:"listing-cover"},l.a.createElement("img",{src:n,alt:r})),l.a.createElement("div",{className:"listing-content"},l.a.createElement("h3",{className:"listing-title"},r),l.a.createElement("p",{className:"listing-subtitle"},c),l.a.createElement("p",{className:"listing-location"},i))))},oe=t(34),se=function(e){var a=e.user,t={loggedUser:a,activities:[],queryActivityRegion:[],queryActivityCategory:[],queryActivitySeason:[],updateSearch:!1},r=Object(n.useState)(t),c=Object(i.a)(r,2),m=c[0],d=c[1],p=new X,h=Object(n.useCallback)((function(){p.activities("/activities").then((function(e){d(Object(D.a)(Object(D.a)({},m),{},{activities:e}))}))}),[m,p]);Object(n.useEffect)(h,[]);var g=m.activities.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,location:"".concat(void 0===e.activity_locality?"":e.activity_locality," ").concat(void 0===e.activity_locality?"":","," ").concat(e.activity_province||e.activity_state,", ").concat(e.activity_country)})})),E=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=m.queryActivityRegion;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}d(Object(D.a)(Object(D.a)({},m),{},{queryActivityRegion:a,updateSearch:!0}))},v=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=m.queryActivityCategory;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}d(Object(D.a)(Object(D.a)({},m),{},{queryActivityCategory:a,updateSearch:!0}))},b=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=m.queryActivitySeason;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}d(Object(D.a)(Object(D.a)({},m),{},{queryActivitySeason:a,updateSearch:!0}))};return Object(n.useEffect)((function(){!0===m.updateSearch&&p.searchActivities(m.queryActivityRegion,m.queryActivityCategory,m.queryActivitySeason).then((function(e){console.log("new activities fetched"),d(Object(D.a)(Object(D.a)({},m),{},{activities:e,updateSearch:!1}))}))}),[m.updateSearch]),l.a.createElement("div",{id:"contentList",className:"activity"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"filter-list"},l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Region"),l.a.createElement(u.a.Check,{label:"Barcelona",name:"activityRegion",id:"barcelona",onChange:E}),l.a.createElement(u.a.Check,{label:"Girona",name:"activityRegion",id:"girona",onChange:E}),l.a.createElement(u.a.Check,{label:"Lleida",name:"activityRegion",id:"lleida",onChange:E}),l.a.createElement(u.a.Check,{label:"Tarragona",name:"activityRegion",id:"tarragona",onChange:E}),l.a.createElement(u.a.Check,{label:"Costa Brava",name:"activityRegion",id:"costaBrava",onChange:E}),l.a.createElement(u.a.Check,{label:"Costa Daurada",name:"activityRegion",id:"costaDaurada",onChange:E}),l.a.createElement(u.a.Check,{label:"Pirineus",name:"activityRegion",id:"pirineus",onChange:E})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Category"),l.a.createElement(u.a.Check,{label:"Romantic",name:"activityCategory",id:"romantic",onChange:v}),l.a.createElement(u.a.Check,{label:"Adventure",name:"activityCategory",id:"adventure",onChange:v}),l.a.createElement(u.a.Check,{label:"Gastronomic",name:"activityCategory",id:"gastronomic",onChange:v}),l.a.createElement(u.a.Check,{label:"Cultural",name:"activityCategory",id:"cultural",onChange:v}),l.a.createElement(u.a.Check,{label:"Relax",name:"activityCategory",id:"relax",onChange:v})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Season"),l.a.createElement(u.a.Check,{label:"Winter",name:"activitySeason",id:"winter",onChange:b}),l.a.createElement(u.a.Check,{label:"Spring",name:"activitySeason",id:"spring",onChange:b}),l.a.createElement(u.a.Check,{label:"Summer",name:"activitySeason",id:"summer",onChange:b}),l.a.createElement(u.a.Check,{label:"Autumn",name:"activitySeason",id:"autumn",onChange:b})))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Activities"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 activities"),l.a.createElement("li",null,"2 contributors"))),g),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"map-wrapper"},l.a.createElement("div",{className:"map-block"},l.a.createElement(oe.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:{lat:59.95,lng:30.33},defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t=new a.LatLngBounds;m.activities.forEach((function(n){var l={lat:parseFloat(n.activity_lat),lng:parseFloat(n.activity_lng)};console.log(l);var r='<div id="infoview-wrapper">'+'<h1 id="firstHeading" class="firstHeading">'.concat(n.title,"</h1>")+"<p>".concat(n.subtitle,"</p>")+"</div>",c=new a.InfoWindow({content:r});console.log(c.content);var i=new a.Marker({position:l,map:e,icon:"../../empty-avatar.svg"});t.extend(i.position),i.addListener("click",(function(){return c.open(e,i)}))})),e.fitBounds(t)}(e.map,e.maps)}}))))))))},me=t(141),ue=function(e){var a={loggedUser:e.user,id:e.match.params.id,activity:{},isActivityLoaded:!1,owner:{},bookmarkDetails:{},isBookmarked:!1,showBookmarkToast:!1,toastMessage:""},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],u=r[1],d=new X;if(Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getUserAllBookmarks();case 2:return a=e.sent,e.next=5,d.activityDetails(c.id);case 5:t=e.sent,a&&a.forEach((function(e){e.bookmarkActivityRef&&(n=e.bookmarkActivityRef._id===t._id?e:null)})),l=!!n&&!n.isRemoved,u(Object(D.a)(Object(D.a)({},c),{},{activity:t,isActivityLoaded:!0,owner:t.owner,bookmarkDetails:n,isBookmarked:l}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!1===c.isActivityLoaded)return l.a.createElement(o.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var p,g=c.activity,E=g.title,v=g.subtitle,b=g.description,y=function(){var e=c.activity._id,a=c.activity.type;d.bookmark(e,a).then((function(e){u(Object(D.a)(Object(D.a)({},c),{},{isBookmarked:!c.isBookmarked,showBookmarkToast:!0,toastMessage:e.message||"Listing bookmarked!"}))}))};p=!1===c.isBookmarked?l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return y()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Bookmark")):l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return y()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{fill:"#0d1f44",d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Unbookmark"));var k=l.a.createElement(me.a,{onClose:function(){return u(Object(D.a)(Object(D.a)({},c),{},{showBookmarkToast:!1,toastMessage:""}))},show:c.showBookmarkToast,delay:5e3,autohide:!0},l.a.createElement(me.a.Header,null,l.a.createElement("img",{src:"../../logo-xs.svg",className:"rounded mr-2",alt:""}),l.a.createElement("strong",{className:"mr-auto"},"Getaways.guru")),l.a.createElement(me.a.Body,null,c.toastMessage," ",l.a.createElement("br",null)," ",l.a.createElement(h.b,{to:"/bookmarks"},"See all bookmarks")," ")),w={lat:parseFloat(c.activity.activity_lat),lng:parseFloat(c.activity.activity_lng)},x=c.activity.images.map((function(e,a){return l.a.createElement("div",{key:a,className:"cover",style:{backgroundImage:"url(".concat(e,")")}})})),N=c.activity.activity_opening_hours.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-hour"},e)})),j=c.activity.categories.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-category"},e," getaway")})),C=c.activity.seasons.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-season"},e)})),_=c.activity.region.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-region"},e)}));return l.a.createElement("div",{id:"listingPage"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(o.a,{className:"mw-1600"},c.showBookmarkToast?k:null,l.a.createElement("div",{className:"box"},l.a.createElement(s.a,null,l.a.createElement("section",{className:"listing-header-wrapper"},l.a.createElement(m.a,{lg:12},l.a.createElement("div",{className:"listing-header"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-title-wrapper"},l.a.createElement("h1",{className:"listing-title"},E)),l.a.createElement("div",{className:"listing-meta-bar"},l.a.createElement("ul",null,l.a.createElement("li",{className:"listing-type"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),l.a.createElement("span",null,c.activity.type)),l.a.createElement("li",{className:"listing-rating"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-star",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z"})),l.a.createElement("span",null,c.activity.activity_rating)),l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),l.a.createElement("span",null,"".concat(void 0===c.activity.activity_locality?"":c.activity.activity_locality," ").concat(void 0===c.activity.activity_locality?"":","," ").concat(c.activity.activity_province||c.activity.activity_state,", ").concat(c.activity.activity_country)))))),l.a.createElement("div",{className:"col right"},p)),l.a.createElement("div",{className:"listing-cover d-flex justify-space-between"},x)))),l.a.createElement(s.a,null,l.a.createElement("article",{className:"listing-body"},l.a.createElement(m.a,{lg:7},l.a.createElement("div",{className:"listing-body-wrapper d-flex justify-content-between align-items-center"},l.a.createElement("p",{className:"listing-subtitle"},v),l.a.createElement("div",{className:"listing-owner"},l.a.createElement(h.b,{to:"/users/".concat(c.owner._id)},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:c.owner.avatar,alt:c.owner.fullName})),l.a.createElement("p",{className:"listing-owner-name"},c.owner.fullName)))),l.a.createElement("div",{className:"listing-details-body d-flex"},l.a.createElement("div",{className:"listing-categories"},l.a.createElement("span",null,"Ideal for a"),l.a.createElement("ul",null,j)),l.a.createElement("div",{className:"listing-seasons"},l.a.createElement("span",null,"Must perform in"),l.a.createElement("ul",null,C)),l.a.createElement("div",{className:"d-flex right"},l.a.createElement("div",{className:"listing-region"},l.a.createElement("span",null,"Based in"),l.a.createElement("ul",null,_)),l.a.createElement("div",{className:"listing-duration"},l.a.createElement("span",null,"Duration"),c.activity.duration," hours"),l.a.createElement("div",{className:"listing-price"},l.a.createElement("span",null,"Activity price"),c.activity.price," \u20ac"))),l.a.createElement("div",{className:"listing-description"},b)),l.a.createElement(m.a,{lg:1}),l.a.createElement(m.a,{lg:4},l.a.createElement("div",{className:"listing-details-box"},l.a.createElement("div",{className:"listing-map"},l.a.createElement(oe.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:w,defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t={lat:parseFloat(c.activity.activity_lat),lng:parseFloat(c.activity.activity_lng)};new a.Marker({position:t,map:e,title:"Hello"})}(e.map,e.maps)}})),l.a.createElement("div",{className:"listing-activity-hours"},l.a.createElement("ul",{className:"listing-activity-hours-list"},l.a.createElement("li",{className:"header"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),l.a.createElement("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),l.a.createElement("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),l.a.createElement("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"18"})),"Opening Hours"),N)),l.a.createElement("ul",{className:"listing-details-list"},l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),c.activity.activity_full_address),l.a.createElement("li",{className:"listing-phone"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-phone-call",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"}),l.a.createElement("path",{d:"M15 7a2 2 0 0 1 2 2"}),l.a.createElement("path",{d:"M15 3a6 6 0 0 1 6 6"})),l.a.createElement("a",{href:"tel:".concat(c.activity.phone)},c.activity.phone)),l.a.createElement("li",{className:"listing-website"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-link",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"}),l.a.createElement("path",{d:"M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"})),l.a.createElement("a",{href:"http://".concat(c.activity.website)},c.activity.website))))))))))},de=function(e){var a=e.visibility,t=e.hideModal,r=e.user,c=e.refreshUserData,o={loggedUser:r,formData:{avatar:r.avatar,fullName:r.fullName,username:r.username,bio:r.bio,location:r.location}},s=Object(n.useState)(o),m=Object(i.a)(s,2),p=m[0],h=m[1],g=new X,E=function(e){h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},Object(S.a)({},e.target.name,e.target.value))}))};return l.a.createElement(W.a,{show:a,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"editProfileModal"},l.a.createElement(W.a.Header,{closeButton:!0},l.a.createElement(W.a.Title,null,"Edit profile")),l.a.createElement(W.a.Body,null,l.a.createElement("div",{className:"cover-picture box bordered",style:{backgroundImage:'url("'.concat(p.loggedUser.cover,'")')}}),l.a.createElement(u.a,{onSubmit:function(e){e.preventDefault();var a=p.loggedUser._id,n=p.formData,l=n.avatar,r=n.fullName,i=n.username,o=n.bio,s=n.location;console.log(a,l,r,i,o,s),g.editProfile(a,l,r,i,o,s).then((function(){t(),c()}))},className:"user-editor"},l.a.createElement(u.a.Group,{className:"user-avatar"},l.a.createElement("label",null,l.a.createElement(u.a.Control,{type:"file",onChange:function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),g.uploadFile(t).then((function(e){return h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},{avatar:e.path})}))}))},className:"input-avatar-user"}),l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:p.formData.avatar,alt:p.formData.fullName}),l.a.createElement("div",{className:"avatar-overlay"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-camera-plus",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"13",r:"3"}),l.a.createElement("path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h2m9 7v7a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2"}),l.a.createElement("line",{x1:"15",y1:"6",x2:"21",y2:"6"}),l.a.createElement("line",{x1:"18",y1:"3",x2:"18",y2:"9"})))))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Name"),l.a.createElement(u.a.Control,{type:"text",name:"fullName",defaultValue:p.loggedUser.fullName,onChange:E,placeholder:"Enter your full name"})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Username"),l.a.createElement(u.a.Control,{type:"text",name:"username",defaultValue:p.loggedUser.username,placeholder:"Choose your username",onChange:E})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Bio"),l.a.createElement(u.a.Control,{as:"textarea",rows:"3",type:"text",name:"bio",defaultValue:p.loggedUser.bio,placeholder:"Enter your bio",onChange:E})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Location"),l.a.createElement(u.a.Control,{type:"text",name:"location",defaultValue:p.loggedUser.location,placeholder:"Enter your location",onChange:E})),l.a.createElement(u.a.Group,null,l.a.createElement(d.a,{variant:"primary",type:"submit"},"Save changes")))))},pe=function(e){var a={loggedUser:e.user,id:e.match.params.id,joinedYear:0,userProfile:{},isUserAvailable:!1,activities:[],places:[],stories:[],isFetching:!1,hasListings:!1,hasActivities:!1,hasPlaces:!1,hasStories:!1,activeTab:"activities",cover:"",isCoverReadyToUpload:!1},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],m=r[1],u=Object(n.useState)(!1),p=Object(i.a)(u,2),g=p[0],E=p[1],v=function(){return E(!0)},b=new X;Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l,r,i,o,s,u;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(D.a)(Object(D.a)({},c),{},{isFetching:!0})),e.next=3,b.getUserProfile(c.id);case 3:return a=e.sent,e.next=6,b.userActivities(c.id);case 6:return t=e.sent,e.next=9,b.getUserPlaces(c.loggedUser._id);case 9:return n=e.sent,e.next=12,b.getUserStories(c.loggedUser._id);case 12:l=e.sent,i=t.length>0,o=n.length>0,s=l.length>0,r=t.length>0||n.length>0||l.length>0,function(){var e=new Date(a.createdAt);return u=e.getFullYear()}(),m(Object(D.a)(Object(D.a)({},c),{},{userProfile:a,joinedYear:u,isUserAvailable:!0,activities:t,places:n,stories:l,isFetching:!1,hasListings:r,hasActivities:i,hasPlaces:o,hasStories:s}));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y,k,w,x,N=function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l,r,i,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(D.a)(Object(D.a)({},c),{},{isFetching:!0})),e.next=3,b.userActivities(c.id);case 3:return a=e.sent,e.next=6,b.getUserPlaces(c.loggedUser._id);case 6:return t=e.sent,e.next=9,b.getUserStories(c.loggedUser._id);case 9:n=e.sent,r=a.length>0,i=t.length>0,o=n.length>0,l=a.length>0||t.length>0||n.length>0,m(Object(D.a)(Object(D.a)({},c),{},{activities:a,places:t,stories:n,isFetching:!1,hasListings:l,hasActivities:r,hasPlaces:i,hasStories:o}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();switch(c.activeTab){case"activities":k="activity",w="/activity-composer",x=l.a.createElement(h.b,{to:w,className:"btn btn-primary text-center"},"Add ",k);break;case"places":k="place",w="/place-composer",x=l.a.createElement(h.b,{to:w,className:"btn btn-primary text-center"},"Add ",k);break;case"stories":k="story",w="/story-composer",x=l.a.createElement(h.b,{to:w,className:"btn btn-primary text-center"},"Add ",k);break;default:k="getaway",w="/activity-composer",x=l.a.createElement(d.a,{className:"btn btn-primary text-center",onClick:v},"Add getaway")}var j=l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-results.svg",alt:"Graphic no results"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Oh no, this looks so empty.",l.a.createElement("br",null),"Create your first ",k," to inspire others."),x));!0===c.hasListings?("activities"===c.activeTab&&(y=!0===c.hasActivities?c.activities.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:N})})):j),"places"===c.activeTab&&(y=!0===c.hasPlaces?c.places.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:N})})):j),"stories"===c.activeTab&&(y=!0===c.hasStories?c.stories.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:N})})):j)):y=j;var C,_={backgroundColor:"#abc3f4",borderRadius:"8px",cursor:"pointer",color:"#0d1f44"};C=c.loggedUser?c.userProfile._id===c.loggedUser._id?l.a.createElement(d.a,{className:"btn btn-primary text-center sidebar",onClick:v},"Edit profile"):l.a.createElement(d.a,{className:"btn btn-primary text-center sidebar d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-plus",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))," ","Follow"):l.a.createElement(d.a,{className:"btn btn-primary text-center sidebar d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-plus",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))," ","Sign up");var O=function(){var e=Object(ne.a)(te.a.mark((function e(a){var t,n,l;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.files[0],(n=new FormData).append("imageUrl",t),e.next=5,b.uploadFile(n);case 5:l=e.sent,m(Object(D.a)(Object(D.a)({},c),{},{cover:l.path,isCoverReadyToUpload:!0}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(){b.getUserProfile(c.id).then((function(a){e.getUserDetails(a),m(Object(D.a)(Object(D.a)({},c),{},{userProfile:a,loggedUser:a,isCoverReadyToUpload:!1}))}))};return Object(n.useEffect)((function(){!0===c.isCoverReadyToUpload&&function(){var e=c.loggedUser._id,a=c.cover;b.editUserCover(e,a).then((function(){L()})),m(Object(D.a)(Object(D.a)({},c),{},{isCoverReadyToUpload:!1}))}()}),[c.isCoverReadyToUpload]),!0===c.isFetching?l.a.createElement(o.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading..."))):l.a.createElement("div",{id:"userProfile"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"user box bordered"},l.a.createElement("div",{className:"avatar user-avatar"},l.a.createElement("img",{src:c.userProfile.avatar,alt:c.userProfile.fullName})),l.a.createElement("div",{className:"user-meta"},l.a.createElement("h1",{className:"user-fullName"},c.userProfile.fullName),l.a.createElement("ul",null,l.a.createElement("li",{className:"user-username"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"}))," ",c.userProfile.username||"username"),l.a.createElement("li",{className:"user-followers"},l.a.createElement("span",null,"225")," following"),l.a.createElement("li",{className:"user-following"},l.a.createElement("span",null,"65")," followers"),l.a.createElement("hr",null),l.a.createElement("li",{className:"user-bio"},c.userProfile.bio||"No bio"),l.a.createElement("hr",null),l.a.createElement("li",{className:"user-location d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),"Lives in ",c.userProfile.location||"not set"),l.a.createElement("li",{className:"user-registration d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),l.a.createElement("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),l.a.createElement("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),l.a.createElement("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"18"})),"Joined in ",c.joinedYear),l.a.createElement("li",{className:"user-verified d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shield-check",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 12l2 2l4 -4"}),l.a.createElement("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"})),"Verified")),l.a.createElement("div",{className:"new"},l.a.createElement("ul",null,l.a.createElement("li",null,C)))))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"cover-picture box bordered",style:{backgroundImage:'url("'.concat(c.userProfile.cover,'")')}},l.a.createElement("label",{className:"edit-cover"},l.a.createElement("input",{type:"file",onChange:O}),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"}))," ","Edit cover")),l.a.createElement("div",{className:"filter-bar"},l.a.createElement(d.a,{className:"d-flex align-items-center justify-content-center",variant:"none",style:"activities"===c.activeTab?_:null,onClick:function(){return m(Object(D.a)(Object(D.a)({},c),{},{activeTab:"activities"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),"Activities"),l.a.createElement(d.a,{variant:"none",className:"d-flex align-items-center justify-content-center",style:"places"===c.activeTab?_:null,onClick:function(){return m(Object(D.a)(Object(D.a)({},c),{},{activeTab:"places"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-building-arch",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),l.a.createElement("path",{d:"M4 21v-15a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v15"}),l.a.createElement("path",{d:"M9 21v-8a3 3 0 0 1 6 0v8"})),"Places"),l.a.createElement(d.a,{variant:"none",className:"d-flex align-items-center justify-content-center",style:"stories"===c.activeTab?_:null,onClick:function(){return m(Object(D.a)(Object(D.a)({},c),{},{activeTab:"stories"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-notebook",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18"}),l.a.createElement("line",{x1:"13",y1:"8",x2:"15",y2:"8"}),l.a.createElement("line",{x1:"13",y1:"12",x2:"15",y2:"12"})),"Stories")),l.a.createElement("div",{className:"content-bar"},y)),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"box bordered"}))))),l.a.createElement(de,{visibility:g,hideModal:function(){return E(!1)},user:c.userProfile,refreshUserData:L}))},he=function(e){var a=e.id,t=e.avatar,r={id:a,fullname:e.fullname,avatar:t,username:e.username,bio:e.bio},c=Object(n.useState)(r),o=Object(i.a)(c,1)[0];return l.a.createElement("div",{id:"publicUserBox"},l.a.createElement(h.b,{to:"/users/".concat(o.id)},l.a.createElement("div",{className:"box-wrapper"},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:o.avatar,alt:o.fullname})),l.a.createElement("h3",null,o.fullname),l.a.createElement("p",null,o.username||"@username"),l.a.createElement("p",null,o.bio))))},ge=function(e){var a=e.user,t={loggedUser:a,users:[]},r=Object(n.useState)(t),c=Object(i.a)(r,2),m=c[0],u=c[1],d=new X,p=Object(n.useCallback)((function(){d.getAllUsers("/users").then((function(e){return u(Object(D.a)(Object(D.a)({},m),{},{users:e}))}))}),[m,d]);Object(n.useEffect)(p,[]);var h=m.users.map((function(e){return l.a.createElement(he,{key:e._id,id:e._id,avatar:e.avatar,fullname:e.fullName})}));return l.a.createElement("div",{id:"usersList"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(o.a,{fluid:!0,className:"top-nav"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Community"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 activities"),l.a.createElement("li",null,"2 contributors")))),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"box wrapper d-flex"},h))))))},Ee=function(e){var a=e.user,t={loggedUser:a,formData:{emptyForm:!0,type:"place",title:"",subtitle:"",categories:[],seasons:[],region:"",placeType:"",images:[],description:"",phone:"",website:"",place_full_address:"",place_locality:"",place_province:"",place_state:"",place_country:"",place_lat:"",place_lng:"",place_rating:0,place_id:"",place_opening_hours:"",price:"",isReadyToSubmit:!1}},r=Object(n.useState)(t),c=Object(i.a)(r,2),p=c[0],h=c[1],g=new X,E=Object(M.g)(),v=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),g.uploadFile(t).then((function(e){h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},{images:[].concat(Object(Y.a)(p.formData.images),[e.path])})}))}))},b=function(e){var a=p.formData.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},{categories:a})}))},y=function(e){var a=p.formData.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},{seasons:a})}))},k=function(e){h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},{region:e.target.id})}))},w=function(e){h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},{placeType:e.target.id})}))},x=function(e){var a;h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},(a={},Object(S.a)(a,e.target.name,e.target.value),Object(S.a)(a,"emptyForm",!1),a))}))};return Object(n.useEffect)((function(){var e=p.formData,a=e.title,t=e.subtitle,n=e.categories,l=e.seasons,r=e.region,c=e.placeType,i=e.place_full_address,o=e.phone,s=e.website,m=e.images,u=e.price,d=e.description;a&&t&&n&&l&&r&&c&&i&&o&&s&&m.length>0&&d&&u&&h((function(e){return Object(D.a)(Object(D.a)({},e),{},{isReadyToSubmit:!0})}))}),[p.formData]),l.a.createElement("div",{id:"place",className:"composer"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(o.a,{className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement(m.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Create Place"),l.a.createElement("p",{className:"sub-h1"},"Describe and publish your place so others start enjoying it.")),l.a.createElement(u.a,null,l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Title"),l.a.createElement(u.a.Control,{type:"text",name:"title",placeholder:"Place title",onChange:x,value:p.formData.title})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Subtitle"),l.a.createElement(u.a.Control,{type:"text",name:"subtitle",placeholder:"Place subtitle",onChange:x,value:p.formData.subtitle})),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:3},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Place Category"),l.a.createElement(u.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:b}),l.a.createElement(u.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:b}),l.a.createElement(u.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:b}),l.a.createElement(u.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:b}),l.a.createElement(u.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:b}))),l.a.createElement(m.a,{lg:3},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Place Season"),l.a.createElement(u.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:y}),l.a.createElement(u.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:y}),l.a.createElement(u.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:y}),l.a.createElement(u.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:y}))),l.a.createElement(m.a,{lg:3},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Place Region"),l.a.createElement(u.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"activitySeason",onChange:k}),l.a.createElement(u.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"activitySeason",onChange:k}),l.a.createElement(u.a.Check,{type:"radio",id:"girona",label:"Girona",name:"activitySeason",onChange:k}),l.a.createElement(u.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"activitySeason",onChange:k}),l.a.createElement(u.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"activitySeason",onChange:k}),l.a.createElement(u.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"activitySeason",onChange:k}),l.a.createElement(u.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"activitySeason",onChange:k})))),l.a.createElement(m.a,{lg:3},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Place Type"),l.a.createElement(u.a.Check,{type:"radio",id:"hotel",label:"Hotel",name:"placeType",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"apartment",label:"Apartment",name:"placeType",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"cabin",label:"Cabin",name:"placeType",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"treeHouse",label:"Treehouse",name:"placeType",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"ruralHouse",label:"Rural house",name:"placeType",onChange:w}),l.a.createElement(u.a.Check,{type:"radio",id:"trailer",label:"Trailer",name:"placeType",onChange:w}))))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Location"),l.a.createElement(Q.a,{className:"location-control",apiKey:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://getaways-guru.herokuapp.com/"}).GOOGLE_API_KEY),style:{width:"100%"},onPlaceSelected:function(e){var a,t,n,l,r,c,i,o,s,m;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(r=e.long_name)})),e.geometry.viewport&&(c=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(m=e.opening_hours.weekday_text),h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},{place_full_address:a,place_locality:t,place_province:n,place_state:l,place_country:r,place_lat:c,place_lng:i,place_rating:o,place_id:s,place_opening_hours:m})})),console.log(e)},types:["establishment"],placeholder:"Type the place address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Phone Number"),l.a.createElement(u.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:x,value:p.formData.phone}))),l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Website"),l.a.createElement(u.a.Control,{type:"url",name:"website",placeholder:"Place website",onChange:x,value:p.formData.website}))),l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Price per night (\u20ac)"),l.a.createElement(u.a.Control,{type:"number",name:"price",placeholder:"Place price per night",onChange:x,value:p.formData.price})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Place Images"),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:v}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:v}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:v}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:v}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:v}))))))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Description"),l.a.createElement(u.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Place description",onChange:x,value:p.formData.description})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(o.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},p.isReadyToSubmit?l.a.createElement(d.a,{type:"submit",variant:"none",onClick:function(e){e.preventDefault(),function(){var e=p.formData,a=e.type,t=e.title,n=e.subtitle,l=e.categories,r=e.seasons,c=e.region,i=e.placeType,o=e.images,s=e.description,m=e.phone,u=e.website,d=e.place_full_address,v=e.place_locality,b=e.place_province,y=e.place_state,f=e.place_country,k=e.place_lat,w=e.place_lng,x=e.place_rating,N=e.place_id,j=e.place_opening_hours,C=e.price;g.place(a,t,n,l,r,c,i,o,s,m,u,d,v,b,y,f,k,w,x,N,j,C).then((function(){h(Object(D.a)(Object(D.a)({},p),{},{formData:{emptyForm:!0,type:"place",title:"",subtitle:"",categories:[],seasons:[],region:"",placeType:"",images:[],description:"",phone:"",website:"",place_full_address:"",place_locality:"",place_province:"",place_state:"",place_country:"",place_lat:"",place_lng:"",place_rating:0,place_id:"",place_opening_hours:"",price:"",isReadyToSubmit:!1}})),E.push("/dashboard")})).catch((function(e){return console.log(e)}))}()}},"Publish"):l.a.createElement(d.a,{type:"submit",variant:"none",disabled:!0},"Publish"))))))},ve=function(e){var a={loggedUser:e.user,id:e.match.params.id,place:{},placeLoaded:!1,owner:{},bookmarkDetails:{},isBookmarked:!1,showBookmarkToast:!1,toastMessage:""},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],u=r[1],d=new X;if(Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getUserActiveBookmarks();case 2:return a=e.sent,e.next=5,d.getPlaceDetails(c.id);case 5:t=e.sent,a&&a.forEach((function(e){e.bookmarkPlaceRef&&(n=e.bookmarkPlaceRef._id===t._id?e:null)})),l=!!n&&!n.isRemoved,u(Object(D.a)(Object(D.a)({},c),{},{place:t,placeLoaded:!0,owner:t.owner,bookmarkDetails:a,isBookmarked:l}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!1===c.placeLoaded)return l.a.createElement(o.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var p,g=c.place,E=g.title,v=g.subtitle,b=g.description,y=function(){var e=c.place._id,a=c.place.type;d.bookmark(e,a).then((function(e){u(Object(D.a)(Object(D.a)({},c),{},{isBookmarked:!c.isBookmarked,showBookmarkToast:!0,toastMessage:e.message||"Listing bookmarked!"}))}))};p=!1===c.isBookmarked?l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return y()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Bookmark")):l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return y()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{fill:"#0d1f44",d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Unbookmark"));var k=l.a.createElement(me.a,{onClose:function(){return u(Object(D.a)(Object(D.a)({},c),{},{showBookmarkToast:!1,toastMessage:""}))},show:c.showBookmarkToast,delay:5e3,autohide:!0},l.a.createElement(me.a.Header,null,l.a.createElement("img",{src:"../../logo-xs.svg",className:"rounded mr-2",alt:""}),l.a.createElement("strong",{className:"mr-auto"},"Getaways.guru")),l.a.createElement(me.a.Body,null,c.toastMessage," ",l.a.createElement("br",null)," ",l.a.createElement(h.b,{to:"/bookmarks"},"See all bookmarks")," ")),w={lat:parseFloat(c.place.place_lat),lng:parseFloat(c.place.place_lng)},x=c.place.images.map((function(e,a){return l.a.createElement("div",{key:a,className:"cover",style:{backgroundImage:"url(".concat(e,")")}})})),N=c.place.place_opening_hours.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-hour"},e)})),j=c.place.categories.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-category"},e," getaway")})),C=c.place.seasons.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-season"},e)})),_=c.place.region.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-region"},e)}));return l.a.createElement("div",{id:"listingPage"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(o.a,{className:"mw-1600"},c.showBookmarkToast?k:null,l.a.createElement("div",{className:"box"},l.a.createElement(s.a,null,l.a.createElement("section",{className:"listing-header-wrapper"},l.a.createElement(m.a,{lg:12},l.a.createElement("div",{className:"listing-header"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-title-wrapper"},l.a.createElement("h1",{className:"listing-title"},E)),l.a.createElement("div",{className:"listing-meta-bar"},l.a.createElement("ul",null,l.a.createElement("li",{className:"listing-type"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),l.a.createElement("span",null,c.place.type)),l.a.createElement("li",{className:"listing-rating"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-star",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z"})),l.a.createElement("span",null,c.place.place_rating)),l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),l.a.createElement("span",null,"".concat(c.place.place_locality,", ").concat(c.place.place_province,", ").concat(c.place.place_country)))))),l.a.createElement("div",{className:"col right"},p)),l.a.createElement("div",{className:"listing-cover d-flex justify-space-between"},x)))),l.a.createElement(s.a,null,l.a.createElement("article",{className:"listing-body"},l.a.createElement(m.a,{lg:7},l.a.createElement("div",{className:"listing-body-wrapper d-flex justify-content-between align-items-center"},l.a.createElement("p",{className:"listing-subtitle"},v),l.a.createElement("div",{className:"listing-owner"},l.a.createElement(h.b,{to:"/users/".concat(c.owner._id)},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:c.owner.avatar,alt:c.owner.fullName})),l.a.createElement("p",{className:"listing-owner-name"},c.owner.fullName)))),l.a.createElement("div",{className:"listing-details-body d-flex"},l.a.createElement("div",{className:"listing-categories"},l.a.createElement("span",null,"Ideal for a"),l.a.createElement("ul",null,j)),l.a.createElement("div",{className:"listing-seasons"},l.a.createElement("span",null,"Must visit in"),l.a.createElement("ul",null,C)),l.a.createElement("div",{className:"d-flex right"},l.a.createElement("div",{className:"listing-type"},l.a.createElement("span",null,"Place is a"),l.a.createElement("ul",null,c.place.placeType)),l.a.createElement("div",{className:"listing-region"},l.a.createElement("span",null,"Based in"),l.a.createElement("ul",null,_)),l.a.createElement("div",{className:"listing-price"},l.a.createElement("span",null,"Night price"),c.place.price," \u20ac"))),l.a.createElement("div",{className:"listing-description"},b)),l.a.createElement(m.a,{lg:1}),l.a.createElement(m.a,{lg:4},l.a.createElement("div",{className:"listing-details-box"},l.a.createElement("div",{className:"listing-map"},l.a.createElement(oe.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:w,defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t={lat:parseFloat(c.place.place_lat),lng:parseFloat(c.place.place_lng)};new a.Marker({position:t,map:e,title:"Hello"})}(e.map,e.maps)}})),l.a.createElement("div",{className:"listing-activity-hours"},l.a.createElement("ul",{className:"listing-activity-hours-list"},l.a.createElement("li",{className:"header"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),l.a.createElement("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),l.a.createElement("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),l.a.createElement("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"18"})),"Opening Hours"),N)),l.a.createElement("ul",{className:"listing-details-list"},l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),c.place.place_full_address),l.a.createElement("li",{className:"listing-phone"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-phone-call",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"}),l.a.createElement("path",{d:"M15 7a2 2 0 0 1 2 2"}),l.a.createElement("path",{d:"M15 3a6 6 0 0 1 6 6"})),l.a.createElement("a",{href:"tel:".concat(c.place.phone)},c.place.phone)),l.a.createElement("li",{className:"listing-website"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-link",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"}),l.a.createElement("path",{d:"M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"})),l.a.createElement("a",{href:"http://".concat(c.place.website)},c.place.website))))))))))},be=t(142),ye=function(e){var a=e.user,t={loggedUser:a,formData:{emptyForm:!0,type:"story",title:"",subtitle:"",images:[],description:"",isSubmitted:!1}},r=Object(n.useState)(t),c=Object(i.a)(r,2),p=c[0],h=c[1],g=new X,E=Object(M.g)(),v=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),g.uploadFile(t).then((function(e){h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},{images:[].concat(Object(Y.a)(p.formData.images),[e.path])})}))}))},b=function(e){var a;h(Object(D.a)(Object(D.a)({},p),{},{formData:Object(D.a)(Object(D.a)({},p.formData),{},(a={},Object(S.a)(a,e.target.name,e.target.value),Object(S.a)(a,"emptyForm",!1),a))}))};return l.a.createElement("div",{id:"place"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement(m.a,{lg:4,className:"sided-shadow"},l.a.createElement(be.a,null,l.a.createElement(be.a.Item,{href:"#"},"Home"),l.a.createElement(be.a.Item,{href:"#"},"Create story")),l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Create Story")),l.a.createElement(u.a,{onSubmit:function(e){e.preventDefault(),function(){var e=p.formData,a=e.type,t=e.title,n=e.subtitle,l=e.images,r=e.description;g.story(a,t,n,l,r).then((function(){h(Object(D.a)(Object(D.a)({},p),{},{formData:{emptyForm:!0,type:"story",title:"",subtitle:"",images:[],description:"",isSubmitted:!1}})),E.push("/dashboard")})).catch((function(e){return console.log(e)}))}()}},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Title"),l.a.createElement(u.a.Control,{type:"text",name:"title",placeholder:"Story title",onChange:b,value:p.formData.title})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Subtitle"),l.a.createElement(u.a.Control,{type:"text",name:"subtitle",placeholder:"Story subtitle",onChange:b,value:p.formData.subtitle})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Image"),l.a.createElement(u.a.Control,{type:"file",onChange:v})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Image"),l.a.createElement(u.a.Control,{type:"file",onChange:v})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Image"),l.a.createElement(u.a.Control,{type:"file",onChange:v})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Image"),l.a.createElement(u.a.Control,{type:"file",onChange:v})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Image"),l.a.createElement(u.a.Control,{type:"file",onChange:v})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Body"),l.a.createElement(u.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Story body",onChange:b,value:p.formData.description})),l.a.createElement("div",{className:"buttons d-flex justify-space-between"},l.a.createElement(d.a,{type:"submit",variant:"primary"},"Post")))),l.a.createElement(m.a,{lg:8}))))},fe=function(e){var a={loggedUser:e.user,id:e.match.params.id,story:{},storyLoaded:!1,owner:{}},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],m=r[1],u=new X,d=Object(n.useCallback)((function(){u.getStoryDetails(c.id).then((function(e){console.log(e),m(Object(D.a)(Object(D.a)({},c),{},{story:e,storyLoaded:!0,owner:e.owner}))}))}),[c,u]);Object(n.useEffect)(d,[]);var p,g,E,v,b,y=c.story,k=y.title,w=y.subtitle,x=y.description;if(!c.storyLoaded)return l.a.createElement(o.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var N=c.story.images;return p=N[0],g=N[1],E=N[2],v=N[3],b=N[4],l.a.createElement("div",{id:"listingPage"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(o.a,{className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("section",{className:"col"},l.a.createElement("div",{className:"listing-cover d-flex justify-space-between"},l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(p,"')")}}),l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(g,"')")}}),l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(E,"')")}}),l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(v,"')")}})),l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(b,"')")}}))),l.a.createElement("article",{className:"d-flex listing-content"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-wrapper"},l.a.createElement("div",{className:"listing-header"},l.a.createElement("h1",{className:"listing-title"},k),l.a.createElement("div",{className:"d-flex listing-meta-wrapper"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-owner"},l.a.createElement(h.b,{to:"/users/".concat(c.owner._id)},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:c.owner.avatar,alt:c.owner.fullName})),l.a.createElement("p",{className:"listing-owner-name"},c.owner.fullName)))),l.a.createElement("div",{className:"col right"},l.a.createElement("p",{className:"listing-subtitle"},w)))),l.a.createElement("div",{className:"listing-body"},l.a.createElement("div",{className:"listing-description"},x)))),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"listing-details-box"})))))))},ke=function(e){var a,t,r,c,p,h,g,E,v,b,y,k,w,x,N,j,C={loggedUser:e.user,id:e.match.params.id,activity:{},isActivityLoaded:!1},_=Object(n.useState)(C),O=Object(i.a)(_,2),L=O[0],B=O[1],A=new X,P=Object(M.g)();Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.activityDetails(L.id);case 2:a=e.sent,B(Object(D.a)(Object(D.a)({},L),{},{activity:a,isActivityLoaded:!0}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!0===L.isActivityLoaded&&(a=!!L.activity.categories.includes("romantic"),t=!!L.activity.categories.includes("adventure"),r=!!L.activity.categories.includes("gastronomic"),c=!!L.activity.categories.includes("cultural"),p=!!L.activity.categories.includes("relax"),h=!!L.activity.seasons.includes("winter"),g=!!L.activity.seasons.includes("spring"),E=!!L.activity.seasons.includes("summer"),v=!!L.activity.seasons.includes("autumn"),b=!!L.activity.region.includes("barcelona"),y=!!L.activity.region.includes("tarragona"),k=!!L.activity.region.includes("girona"),w=!!L.activity.region.includes("lleida"),x=!!L.activity.region.includes("costaBrava"),N=!!L.activity.region.includes("costaDaurada"),j=!!L.activity.region.includes("pirineus"));var T=L.activity,G=T.title,R=T.subtitle,U=T.activity_full_address,z=T.phone,W=T.website,H=T.price,I=T.duration,F=T.description,V=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),A.uploadFile(t).then((function(e){B(Object(D.a)(Object(D.a)({},L),{},{activity:Object(D.a)(Object(D.a)({},L.activity),{},{images:[].concat(Object(Y.a)(L.activity.images),[e.path])})}))}))},q=function(e){var a=L.activity.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);console.log(t),a.splice(t,1)}B(Object(D.a)(Object(D.a)({},L),{},{activity:Object(D.a)(Object(D.a)({},L.activity),{},{categories:a})}))},K=function(e){var a=L.activity.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}B(Object(D.a)(Object(D.a)({},L),{},{activity:Object(D.a)(Object(D.a)({},L.activity),{},{seasons:a})}))},Z=function(e){B(Object(D.a)(Object(D.a)({},L),{},{activity:Object(D.a)(Object(D.a)({},L.activity),{},{region:e.target.id})}))},J=function(e){return B(Object(D.a)(Object(D.a)({},L),{},{activity:Object(D.a)(Object(D.a)({},L.activity),{},Object(S.a)({},e.target.name,e.target.value))}))},$=function(e){e.preventDefault();var a=L.activity,t=a._id,n=a.title,l=a.subtitle,r=a.categories,c=a.seasons,i=a.region,o=a.images,s=a.description,m=a.phone,u=a.website,d=a.activity_full_address,p=a.activity_locality,h=a.activity_province,g=a.activity_state,E=a.activity_country,v=a.activity_lat,b=a.activity_lng,y=a.activity_rating,f=a.activity_place_id,k=a.activity_opening_hours,w=a.duration,x=a.price;A.editActivity(t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w,x).then((function(){return P.push("/dashboard")}))};return l.a.createElement("div",{id:"activity",className:"composer"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(o.a,{className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement(m.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Edit Activity"),l.a.createElement("p",{className:"sub-h1"},"Edit and submit your activity so others start enjoying it.")),l.a.createElement(u.a,{onSubmit:$},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Title"),l.a.createElement(u.a.Control,{type:"text",name:"title",placeholder:"Activity title",defaultValue:G,onChange:J})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Subtitle"),l.a.createElement(u.a.Control,{type:"text",name:"subtitle",placeholder:"Activity subtitle",defaultValue:R,onChange:J})),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Activity Category"),l.a.createElement(u.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:q,checked:a}),l.a.createElement(u.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:q,checked:t}),l.a.createElement(u.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:q,checked:r}),l.a.createElement(u.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:q,checked:c}),l.a.createElement(u.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:q,checked:p}))),l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Activity Season"),l.a.createElement(u.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:K,checked:h}),l.a.createElement(u.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:K,checked:g}),l.a.createElement(u.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:K,checked:E}),l.a.createElement(u.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:K,checked:v}))),l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Activity Region"),l.a.createElement(u.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"activitySeason",onChange:Z,checked:b}),l.a.createElement(u.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"activitySeason",onChange:Z,checked:y}),l.a.createElement(u.a.Check,{type:"radio",id:"girona",label:"Girona",name:"activitySeason",onChange:Z,checked:k}),l.a.createElement(u.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"activitySeason",onChange:Z,checked:w}),l.a.createElement(u.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"activitySeason",onChange:Z,checked:x}),l.a.createElement(u.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"activitySeason",onChange:Z,checked:N}),l.a.createElement(u.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"activitySeason",onChange:Z,checked:j}))))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Location"),l.a.createElement(Q.a,{className:"location-control",apiKey:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://getaways-guru.herokuapp.com/"}).GOOGLE_API_KEY),style:{width:"100%"},defaultValue:U,onPlaceSelected:function(e){var a,t,n,l,r,c,i,o,s,m;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(r=e.long_name)})),e.geometry.viewport&&(c=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(m=e.opening_hours.weekday_text),B(Object(D.a)(Object(D.a)({},L),{},{activity:Object(D.a)(Object(D.a)({},L.activity),{},{activity_full_address:a,activity_locality:t,activity_province:n,activity_state:l,activity_country:r,activity_lat:c,activity_lng:i,activity_rating:o,activity_id:s,activity_opening_hours:m})}))},types:["establishment"],placeholder:"Type the activity address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:6},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Phone Number"),l.a.createElement(u.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:J,value:z}))),l.a.createElement(m.a,{lg:6},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Website"),l.a.createElement(u.a.Control,{type:"url",name:"website",placeholder:"Activity website",onChange:J,value:W})))),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:6},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Price (\u20ac)"),l.a.createElement(u.a.Control,{type:"number",name:"price",placeholder:"Activity price",onChange:J,value:H}))),l.a.createElement(m.a,{lg:6},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Duration (h)"),l.a.createElement(u.a.Control,{type:"number",name:"duration",placeholder:"Activity duration",onChange:J,value:I})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Activity Images"),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:V}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:V}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:V}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:V}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:V}))))))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Description"),l.a.createElement(u.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Activity description",defaultValue:F,onChange:J})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(o.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},l.a.createElement(d.a,{type:"submit",variant:"none",onClick:$},"Save changes"))))))},we=function(e){var a,t,r,c,p,h,g,E,v,b,y,k,w,x,N,j,C,_,O,L,B,A,P={loggedUser:e.user,id:e.match.params.id,place:{},isPlaceLoaded:!1},T=Object(n.useState)(P),G=Object(i.a)(T,2),R=G[0],U=G[1],z=new X,W=Object(M.g)();Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getPlaceDetails(R.id);case 2:a=e.sent,U(Object(D.a)(Object(D.a)({},R),{},{place:a,isPlaceLoaded:!0}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!0===R.isPlaceLoaded&&(a=!!R.place.categories.includes("romantic"),t=!!R.place.categories.includes("adventure"),r=!!R.place.categories.includes("gastronomic"),c=!!R.place.categories.includes("cultural"),p=!!R.place.categories.includes("relax"),h=!!R.place.seasons.includes("winter"),g=!!R.place.seasons.includes("spring"),E=!!R.place.seasons.includes("summer"),v=!!R.place.seasons.includes("autumn"),b=!!R.place.region.includes("barcelona"),y=!!R.place.region.includes("tarragona"),k=!!R.place.region.includes("girona"),w=!!R.place.region.includes("lleida"),x=!!R.place.region.includes("costaBrava"),N=!!R.place.region.includes("costaDaurada"),j=!!R.place.region.includes("pirineus"),C=!!R.place.placeType.includes("apartment"),_=!!R.place.placeType.includes("cabin"),O=!!R.place.placeType.includes("treeHouse"),L=!!R.place.placeType.includes("ruralHouse"),B=!!R.place.placeType.includes("trailer"),A=!!R.place.placeType.includes("hotel"));var H=R.place,I=H.title,F=H.subtitle,V=H.place_full_address,q=H.phone,K=H.website,Z=H.price,J=H.description,$=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),z.uploadFile(t).then((function(e){U(Object(D.a)(Object(D.a)({},R),{},{place:Object(D.a)(Object(D.a)({},R.place),{},{images:[].concat(Object(Y.a)(R.place.images),[e.path])})}))}))},ee=function(e){var a=R.place.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}U(Object(D.a)(Object(D.a)({},R),{},{place:Object(D.a)(Object(D.a)({},R.place),{},{categories:a})}))},ae=function(e){var a=R.place.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}U(Object(D.a)(Object(D.a)({},R),{},{place:Object(D.a)(Object(D.a)({},R.place),{},{seasons:a})}))},le=function(e){U(Object(D.a)(Object(D.a)({},R),{},{place:Object(D.a)(Object(D.a)({},R.place),{},{region:e.target.id})}))},re=function(e){U(Object(D.a)(Object(D.a)({},R),{},{place:Object(D.a)(Object(D.a)({},R.place),{},{placeType:e.target.id})}))},ce=function(e){return U(Object(D.a)(Object(D.a)({},R),{},{place:Object(D.a)(Object(D.a)({},R.place),{},Object(S.a)({},e.target.name,e.target.value))}))},ie=function(e){e.preventDefault();var a=R.place,t=a._id,n=a.title,l=a.subtitle,r=a.categories,c=a.seasons,i=a.region,o=a.placeType,s=a.images,m=a.description,u=a.phone,d=a.website,p=a.place_full_address,h=a.place_locality,g=a.place_province,E=a.place_state,v=a.place_country,b=a.place_lat,y=a.place_lng,f=a.place_rating,k=a.place_id,w=a.place_opening_hours,x=a.price;z.editPlace(t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w,x).then((function(){return W.push("/dashboard")}))};return l.a.createElement("div",{id:"editForm",className:"composer"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(o.a,{className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement(m.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Edit Place"),l.a.createElement("p",{className:"sub-h1"},"Edit and submit your place so others start enjoying it.")),l.a.createElement(u.a,{onSubmit:ie},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Title"),l.a.createElement(u.a.Control,{type:"text",name:"title",placeholder:"Place title",defaultValue:I,onChange:ce})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Subtitle"),l.a.createElement(u.a.Control,{type:"text",name:"subtitle",placeholder:"Place subtitle",defaultValue:F,onChange:ce})),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:3},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Place Category"),l.a.createElement(u.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:ee,checked:a}),l.a.createElement(u.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:ee,checked:t}),l.a.createElement(u.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:ee,checked:r}),l.a.createElement(u.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:ee,checked:c}),l.a.createElement(u.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:ee,checked:p}))),l.a.createElement(m.a,{lg:3},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Place Season"),l.a.createElement(u.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:ae,checked:h}),l.a.createElement(u.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:ae,checked:g}),l.a.createElement(u.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:ae,checked:E}),l.a.createElement(u.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:ae,checked:v}))),l.a.createElement(m.a,{lg:3},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Place Region"),l.a.createElement(u.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"placeRegion",onChange:le,checked:b}),l.a.createElement(u.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"placeRegion",onChange:le,checked:y}),l.a.createElement(u.a.Check,{type:"radio",id:"girona",label:"Girona",name:"placeRegion",onChange:le,checked:k}),l.a.createElement(u.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"placeRegion",onChange:le,checked:w}),l.a.createElement(u.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"placeRegion",onChange:le,checked:x}),l.a.createElement(u.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"placeRegion",onChange:le,checked:N}),l.a.createElement(u.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"placeRegion",onChange:le,checked:j})))),l.a.createElement(m.a,{lg:3},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Place Type"),l.a.createElement(u.a.Check,{type:"radio",id:"hotel",label:"Hotel",name:"placeType",onChange:re,checked:A}),l.a.createElement(u.a.Check,{type:"radio",id:"apartment",label:"Apartment",name:"placeType",onChange:re,checked:C}),l.a.createElement(u.a.Check,{type:"radio",id:"cabin",label:"Cabin",name:"placeType",onChange:re,checked:_}),l.a.createElement(u.a.Check,{type:"radio",id:"treeHouse",label:"Treehouse",name:"placeType",onChange:re,checked:O}),l.a.createElement(u.a.Check,{type:"radio",id:"ruralHouse",label:"Rural house",name:"placeType",onChange:re,checked:L}),l.a.createElement(u.a.Check,{type:"radio",id:"trailer",label:"Trailer",name:"placeType",onChange:re,checked:B}))))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Location"),l.a.createElement(Q.a,{className:"location-control",apiKey:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://getaways-guru.herokuapp.com/"}).GOOGLE_API_KEY),style:{width:"100%"},defaultValue:V,onPlaceSelected:function(e){var a,t,n,l,r,c,i,o,s,m;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(r=e.long_name)})),e.geometry.viewport&&(c=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(m=e.opening_hours.weekday_text),U(Object(D.a)(Object(D.a)({},R),{},{place:Object(D.a)(Object(D.a)({},R.place),{},{place_full_address:a,place_locality:t,place_province:n,place_state:l,place_country:r,place_lat:c,place_lng:i,place_rating:o,place_id:s,place_opening_hours:m})})),console.log(e)},types:["establishment"],placeholder:"Type the place address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Phone Number"),l.a.createElement(u.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:ce,value:q}))),l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Website"),l.a.createElement(u.a.Control,{type:"url",name:"website",placeholder:"Place website",onChange:ce,value:K}))),l.a.createElement(m.a,{lg:4},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Price per night (\u20ac)"),l.a.createElement(u.a.Control,{type:"number",name:"price",placeholder:"Place price",onChange:ce,value:Z})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Place Images"),l.a.createElement(u.a.Row,null,l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:$}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:$}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:$}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:$}))))),l.a.createElement(m.a,{lg:2},l.a.createElement(u.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(u.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(u.a.Control,{type:"file",onChange:$}))))))),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Description"),l.a.createElement(u.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Place description",defaultValue:J,onChange:ce})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(o.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},l.a.createElement(d.a,{type:"submit",variant:"none",onClick:ie},"Save changes"))))))},xe=function(e){var a={loggedUser:e.user,id:e.match.params.id,story:{}},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],p=r[1],h=new X,g=Object(M.g)(),E=Object(n.useCallback)((function(){h.getStoryDetails(c.id).then((function(e){p(Object(D.a)(Object(D.a)({},c),{},{story:e}))}))}),[c,h]);Object(n.useEffect)(E,[]);var v=c.story,b=v.title,y=v.subtitle,k=v.image,w=v.description,x=function(e){return p(Object(D.a)(Object(D.a)({},c),{},{story:Object(D.a)(Object(D.a)({},c.story),{},Object(S.a)({},e.target.name,e.target.value))}))};return l.a.createElement("div",{id:"editForm",className:"composer"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement(m.a,{lg:4,className:"sided-shadow"},l.a.createElement(be.a,null,l.a.createElement(be.a.Item,{href:"#"},"Home"),l.a.createElement(be.a.Item,{href:"#"},"Edit Story")),l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Edit Story")),l.a.createElement(u.a,{onSubmit:function(e){e.preventDefault();var a=c.story,t=a._id,n=a.title,l=a.subtitle,r=a.description;h.editStory(t,n,l,r).then((function(){return g.push("/dashboard")}))}},l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Title"),l.a.createElement(u.a.Control,{type:"text",name:"title",placeholder:"Story title",defaultValue:b,onChange:x})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Subtitle"),l.a.createElement(u.a.Control,{type:"text",name:"subtitle",placeholder:"Story subtitle",defaultValue:y,onChange:x})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Image"),l.a.createElement(u.a.Control,{type:"text",name:"image",placeholder:"Story image",defaultValue:k,onChange:x})),l.a.createElement(u.a.Group,null,l.a.createElement(u.a.Label,null,"Description"),l.a.createElement(u.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Story description",defaultValue:w,onChange:x})),l.a.createElement("div",{className:"buttons d-flex justify-space-between"},l.a.createElement(d.a,{type:"submit",variant:"primary"},"Post")))),l.a.createElement(m.a,{lg:8}))))},Ne=function(e){var a=e.user,t={loggedUser:a,places:[],queryPlaceType:[],queryPlaceRegion:[],queryPlaceCategory:[],queryPlaceSeason:[],updateSearch:!1},r=Object(n.useState)(t),c=Object(i.a)(r,2),m=c[0],d=c[1],p=new X,h=Object(n.useCallback)((function(){p.getAllPlaces("/places").then((function(e){d(Object(D.a)(Object(D.a)({},m),{},{places:e}))}))}),[m,p]);Object(n.useEffect)(h,[]);var g=m.places.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,location:"".concat(void 0===e.place_locality?"":e.place_locality).concat(void 0===e.place_locality?"":","," ").concat(e.place_province||e.place_state,", ").concat(e.place_country)})})),E=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=m.queryPlaceType;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}d(Object(D.a)(Object(D.a)({},m),{},{queryPlaceType:a,updateSearch:!0}))},v=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=m.queryPlaceRegion;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}d(Object(D.a)(Object(D.a)({},m),{},{queryPlaceRegion:a,updateSearch:!0}))},b=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=m.queryPlaceCategory;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}d(Object(D.a)(Object(D.a)({},m),{},{queryPlaceCategory:a,updateSearch:!0}))},y=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=m.queryPlaceSeason;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}d(Object(D.a)(Object(D.a)({},m),{},{queryPlaceSeason:a,updateSearch:!0}))};return Object(n.useEffect)((function(){!0===m.updateSearch&&p.searchPlaces(m.queryPlaceType,m.queryPlaceRegion,m.queryPlaceCategory,m.queryPlaceSeason).then((function(e){console.log("new places fetched"),d(Object(D.a)(Object(D.a)({},m),{},{places:e,updateSearch:!1}))}))}),[m.updateSearch]),l.a.createElement("div",{id:"contentList",className:"place"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"filter-list"},l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Place type"),l.a.createElement(u.a.Check,{label:"Hotel",name:"placeType",id:"hotel",onChange:E}),l.a.createElement(u.a.Check,{label:"Apartment",name:"placeType",id:"apartment",onChange:E}),l.a.createElement(u.a.Check,{label:"Cabin",name:"placeType",id:"cabin",onChange:E}),l.a.createElement(u.a.Check,{label:"Treehouse",name:"placeType",id:"treehouse",onChange:E}),l.a.createElement(u.a.Check,{label:"Ruralhouse",name:"placeType",id:"ruralhouse",onChange:E}),l.a.createElement(u.a.Check,{label:"Trailer",name:"placeType",id:"trailer",onChange:E})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Region"),l.a.createElement(u.a.Check,{label:"Barcelona",name:"placeRegion",id:"barcelona",onChange:v}),l.a.createElement(u.a.Check,{label:"Girona",name:"placeRegion",id:"girona",onChange:v}),l.a.createElement(u.a.Check,{label:"Lleida",name:"placeRegion",id:"lleida",onChange:v}),l.a.createElement(u.a.Check,{label:"Tarragona",name:"placeRegion",id:"tarragona",onChange:v}),l.a.createElement(u.a.Check,{label:"Costa Brava",name:"placeRegion",id:"costaBrava",onChange:v}),l.a.createElement(u.a.Check,{label:"Costa Daurada",name:"placeRegion",id:"costaDaurada",onChange:v}),l.a.createElement(u.a.Check,{label:"Pirineus",name:"placeRegion",id:"pirineus",onChange:v})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Category"),l.a.createElement(u.a.Check,{label:"Romantic",name:"placeCategory",id:"romantic",onChange:b}),l.a.createElement(u.a.Check,{label:"Adventure",name:"placeCategory",id:"adventure",onChange:b}),l.a.createElement(u.a.Check,{label:"Gastronomic",name:"placeCategory",id:"gastronomic",onChange:b}),l.a.createElement(u.a.Check,{label:"Cultural",name:"placeCategory",id:"cultural",onChange:b}),l.a.createElement(u.a.Check,{label:"Relax",name:"placeCategory",id:"relax",onChange:b})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Season"),l.a.createElement(u.a.Check,{label:"Winter",name:"placeSeason",id:"winter",onChange:y}),l.a.createElement(u.a.Check,{label:"Spring",name:"placeSeason",id:"spring",onChange:y}),l.a.createElement(u.a.Check,{label:"Summer",name:"placeSeason",id:"summer",onChange:y}),l.a.createElement(u.a.Check,{label:"Autumn",name:"placeSeason",id:"autumn",onChange:y})))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Places"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 places"),l.a.createElement("li",null,"2 contributors"))),g),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"map-wrapper"},l.a.createElement("div",{className:"map-block"},l.a.createElement(oe.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:{lat:59.95,lng:30.33},defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t=new a.LatLngBounds;m.places.forEach((function(n){var l={lat:parseFloat(n.place_lat),lng:parseFloat(n.place_lng)};console.log(l);var r='<div id="infoview-wrapper">'+'<h1 id="firstHeading" class="firstHeading">'.concat(n.title,"</h1>")+"<p>".concat(n.subtitle,"</p>")+"</div>",c=new a.InfoWindow({content:r});console.log(c.content);var i=new a.Marker({position:l,map:e,icon:"../../empty-avatar.svg"});t.extend(i.position),i.addListener("click",(function(){return c.open(e,i)}))})),e.fitBounds(t)}(e.map,e.maps)}}))))))))},je=function(e){var a=e.user,t={loggedUser:a,stories:[]},r=Object(n.useState)(t),c=Object(i.a)(r,2),m=c[0],d=c[1],p=new X,h=Object(n.useCallback)((function(){p.getAllStories("/stories").then((function(e){d(Object(D.a)(Object(D.a)({},m),{},{stories:e}))}))}),[m,p]);Object(n.useEffect)(h,[]);var g=m.stories.map((function(e){return l.a.createElement(ie,{key:e._id,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,location:e.location,type:e.type})}));return l.a.createElement("div",{id:"contentList",className:"activity"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(o.a,{fluid:!0,className:"top-nav"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Stories"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 stories"),l.a.createElement("li",null,"2 contributors")))),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"filter-list"},l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Verified"),l.a.createElement(u.a.Check,{label:"Yes"}),l.a.createElement(u.a.Check,{label:"No"})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Price"),l.a.createElement(u.a.Check,{label:"Free"}),l.a.createElement(u.a.Check,{label:"\u20ac"}),l.a.createElement(u.a.Check,{label:"\u20ac\u20ac"}),l.a.createElement(u.a.Check,{label:"\u20ac\u20ac\u20ac"})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Location"),l.a.createElement(u.a.Check,{label:"> 100 km"}),l.a.createElement(u.a.Check,{label:"50 - 100 km"}),l.a.createElement(u.a.Check,{label:"20 - 50 km"}),l.a.createElement(u.a.Check,{label:"< 20 km"})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Category"),l.a.createElement(u.a.Check,{label:"Romantic"}),l.a.createElement(u.a.Check,{label:"Adventure"}),l.a.createElement(u.a.Check,{label:"Gastronomic"}),l.a.createElement(u.a.Check,{label:"Cultural"}),l.a.createElement(u.a.Check,{label:"Winter"}),l.a.createElement(u.a.Check,{label:"Summer"}),l.a.createElement(u.a.Check,{label:"Health & Wellness"})))),l.a.createElement("div",{className:"col center"},g),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"an-wrapper"},l.a.createElement("div",{className:"an-block"})))))))},Ce=function(e){var a={loggedUser:e.user,id:e.match.params.id,bookmarks:[],hasBookmarks:!1},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],m=r[1],u=new X;if(Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getUserActiveBookmarks();case 2:a=e.sent,t=[],a.map((function(e){return t.push(e)})),n=!!t,m(Object(D.a)(Object(D.a)({},c),{},{bookmarks:t,hasBookmarks:n}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!1===c.hasBookmarks)return l.a.createElement(o.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var d,p=c.bookmarks;return console.log(p),d=!0===c.hasBookmarks?p.map((function(e){return e.bookmarkActivityRef?(console.log("activity"),l.a.createElement(ie,{key:e._id,type:e.bookmarkActivityRef.type,id:e.bookmarkActivityRef._id,title:e.bookmarkActivityRef.title,subtitle:e.bookmarkActivityRef.subtitle,image:e.bookmarkActivityRef.images[0],location:"".concat(void 0===e.bookmarkActivityRef.activity_locality?"":e.bookmarkActivityRef.activity_locality," ").concat(void 0===e.bookmarkActivityRef.activity_locality?"":","," ").concat(e.bookmarkActivityRef.activity_province||e.bookmarkActivityRef.activity_state,", ").concat(e.bookmarkActivityRef.activity_country)})):(console.log("hello"),l.a.createElement(ie,{key:e._id,type:e.bookmarkPlaceRef.type,id:e.bookmarkPlaceRef._id,title:e.bookmarkPlaceRef.title,subtitle:e.bookmarkPlaceRef.subtitle,image:e.bookmarkPlaceRef.images[0],location:"".concat(void 0===e.bookmarkPlaceRef.place_locality?"":e.bookmarkPlaceRef.place_locality).concat(void 0===e.bookmarkPlaceRef.place_locality?"":","," ").concat(e.bookmarkPlaceRef.place_province||e.bookmarkPlaceRef.place_state,", ").concat(e.bookmarkPlaceRef.place_country)}))})):l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-bookmarks.svg",alt:"Graphic no bookmarks"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Oh no, this looks so empty.",l.a.createElement("br",null),"Search and bookmark listings to read them",l.a.createElement("br",null)," when you are ready."))),l.a.createElement("div",{id:"bookmarksList"},l.a.createElement(f,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(o.a,{fluid:!0,className:"mw-1600"},l.a.createElement(s.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"box bordered"},l.a.createElement("div",{className:"page-meta"},l.a.createElement("div",{className:"page-header d-flex"},l.a.createElement("h1",{className:"page-title"},"Bookmarks")),l.a.createElement("ul",null,l.a.createElement("li",{className:"page-bookmarks"},l.a.createElement("span",null,c.bookmarks.length)," ",c.bookmarks.length>1?"bookmarks":"bookmark"),l.a.createElement("hr",null),l.a.createElement("li",{className:"page-description"},"Find here your bookmarked activities, places and stories."))))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"content-bar"},d)),l.a.createElement("div",{className:"col right"})))))},_e=function(){return l.a.createElement("div",{id:"404NotFound"},l.a.createElement(o.a,null,l.a.createElement(s.a,null,l.a.createElement(m.a,{lg:12},l.a.createElement("h1",null,"Oops! 404 not found"),l.a.createElement(h.b,{to:"/"},"Go home")))))};var Oe=function(){var e={loggedUser:K.a.get("user")?JSON.parse(K.a.get("user")):null},a=Object(n.useState)(e),t=Object(i.a)(a,2),r=t[0],c=t[1],o=function(e){c({loggedUser:e}),K.a.set("user",e,{expires:7})};return l.a.createElement("div",{className:"app"},l.a.createElement(L,null),l.a.createElement(M.d,null,l.a.createElement(M.b,{exact:!0,path:"/",render:function(e){return l.a.createElement(k,Object.assign({},e,{user:r.loggedUser}))}}),l.a.createElement(M.b,{exact:!0,path:"/signup",render:function(e){return l.a.createElement(U,Object.assign({},e,{user:r.loggedUser,getUserDetails:o}))}}),l.a.createElement(M.b,{exact:!0,path:"/login",render:function(e){return l.a.createElement(z,Object.assign({},e,{user:r.loggedUser,getUserDetails:o}))}}),l.a.createElement(M.b,{exact:!0,path:"/logout",render:function(e){return l.a.createElement(Z,Object.assign({},e,{getUserDetails:o}))}}),l.a.createElement(V,{exact:!0,path:"/feed",user:r.loggedUser,component:I}),l.a.createElement(V,{exact:!0,path:"/activity-composer",user:r.loggedUser,component:ee}),l.a.createElement(V,{exact:!0,path:"/place-composer",user:r.loggedUser,component:Ee}),l.a.createElement(V,{exact:!0,path:"/story-composer",user:r.loggedUser,component:ye}),l.a.createElement(V,{exact:!0,path:"/dashboard",user:r.loggedUser,component:ce}),l.a.createElement(M.b,{exact:!0,path:"/activities",render:function(e){return l.a.createElement(se,Object.assign({},e,{user:r.loggedUser}))}}),l.a.createElement(M.b,{exact:!0,path:"/places",render:function(e){return l.a.createElement(Ne,Object.assign({},e,{user:r.loggedUser}))}}),l.a.createElement(M.b,{exact:!0,path:"/stories",render:function(e){return l.a.createElement(je,Object.assign({},e,{user:r.loggedUser}))}}),l.a.createElement(V,{path:"/activities/:id/edit",user:r.loggedUser,component:ke}),l.a.createElement(V,{path:"/places/:id/edit",user:r.loggedUser,component:we}),l.a.createElement(V,{path:"/stories/:id/edit",user:r.loggedUser,component:xe}),l.a.createElement(M.b,{exact:!0,path:"/activities/:id",render:function(e){return l.a.createElement(ue,Object.assign({},e,{user:r.loggedUser}))}}),l.a.createElement(M.b,{exact:!0,path:"/places/:id",render:function(e){return l.a.createElement(ve,Object.assign({},e,{user:r.loggedUser}))}}),l.a.createElement(M.b,{exact:!0,path:"/stories/:id",render:function(e){return l.a.createElement(fe,Object.assign({},e,{user:r.loggedUser}))}}),l.a.createElement(M.b,{exact:!0,path:"/users/:id",render:function(e){return l.a.createElement(pe,Object.assign({},e,{user:r.loggedUser,getUserDetails:o}))}}),l.a.createElement(M.b,{exact:!0,path:"/users",render:function(e){return l.a.createElement(ge,Object.assign({},e,{user:r.loggedUser}))}}),l.a.createElement(V,{path:"/bookmarks",user:r.loggedUser,component:Ce}),l.a.createElement(M.b,{path:"*",component:_e})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(h.a,null,l.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,a,t){e.exports=t.p+"static/media/MADE-Tommy-Soft-Black-PERSONAL-USE.1406dd01.woff"},81:function(e,a,t){e.exports=t.p+"static/media/Inter-Regular.9a9eeddb.otf"},93:function(e,a,t){e.exports=t(127)},98:function(e,a,t){},99:function(e,a,t){}},[[93,1,2]]]);
//# sourceMappingURL=main.b11356b1.chunk.js.map