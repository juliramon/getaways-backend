(this.webpackJsonpgetaways=this.webpackJsonpgetaways||[]).push([[0],{127:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(16),c=t.n(r),i=(t(98),t(8)),o=t(13),s=t(141),m=(t(99),t(100),t(76)),u=t(79),d=t(77),p=t.n(d),h=t(78),g=t.n(h);function E(){var e=Object(m.a)(["\n@font-face {\n    font-family: 'MADE';\n    src: url(",") format('truetype');\n    font-weight: bold;\n    font-style: normal;\n    font-display: auto;\n}\n\n@font-face {\n    font-family: 'INTER';\n    src: url(",") format('truetype');\n    font-weight: regular;\n    font-style: normal;\n    font-display: auto;\n}"]);return E=function(){return e},e}var v=Object(u.a)(E(),p.a,g.a),b=t(91),y=function(e){var a=e.component,t=e.user,n=Object(b.a)(e,["component","user"]);return l.a.createElement(o.b,Object.assign({},n,{render:function(e){return void 0!==t?l.a.createElement(a,Object.assign({},e,{user:t})):l.a.createElement(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},f=t(133),k=t(134),w=t(84),x=t(1),N=t(83),j=t(138),C=t(139),_=t(26),O=t.n(_),L=function(){var e,a={location:void 0,queryLocation:"",hasLocation:!1,type:[],queryActivityCategory:[],hasActivities:!1,activeTab:"activities",isSubmittable:!1},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],s=r[1],m=Object(o.g)(),u=function(e){"activities"===e.target.id?s(Object(x.a)(Object(x.a)({},c),{},{activeTab:"activities"})):s(Object(x.a)(Object(x.a)({},c),{},{activeTab:"places"}))},d=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=c.queryActivityCategory;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}s(Object(x.a)(Object(x.a)({},c),{},{queryActivityCategory:a}))};Object(n.useEffect)((function(){c.hasLocation&&s(Object(x.a)(Object(x.a)({},c),{},{isSubmittable:!0}))}),[c.hasLocation]),e=!c.isSubmittable;return l.a.createElement("div",{className:"search-form"},l.a.createElement("div",{className:"tab-bar"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(N.a,{className:"activities"===c.activeTab?"active":null,variant:"none",id:"activities",onClick:u},"Activities")),l.a.createElement("li",null,l.a.createElement(N.a,{className:"places"===c.activeTab?"active":null,variant:"none",id:"places",onClick:u},"Places")))),l.a.createElement(j.a,{className:"header-form d-flex align-items-center"},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,{className:"input-label"},"Location"),l.a.createElement(O.a,{className:"location-control form-control",apiKey:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&",style:{width:"100%"},onPlaceSelected:function(e){var a,t,n,l,r,i;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(r=e.long_name)}));var o=[];[t,n,l,r].forEach((function(e){void 0!==e&&o.push(e),i=o[0]})),s(Object(x.a)(Object(x.a)({},c),{},{location:{activity_full_address:a,activity_locality:t,activity_province:n,activity_state:l,activity_country:r},hasLocation:!0,queryLocation:"activityLocation=".concat(i)}))},types:[],placeholder:"Type to select where to escape",fields:["address_components","formatted_address"]})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,{className:"input-label"},"Category"),l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"none",id:"dropdownCategories"},l.a.createElement("div",{className:"form-control"},"Select categories to filter")),l.a.createElement(C.a.Menu,{className:"pac-container"},l.a.createElement(j.a.Check,{label:"Romantic",name:"activityCategory",id:"romantic",className:"pac-item",onClick:d}),l.a.createElement(j.a.Check,{label:"Adventure",name:"activityCategory",id:"adventure",className:"pac-item",onClick:d}),l.a.createElement(j.a.Check,{label:"Gastronomic",name:"activityCategory",id:"gastronomic",className:"pac-item",onClick:d}),l.a.createElement(j.a.Check,{label:"Cultural",name:"activityCategory",id:"cultural",className:"pac-item",onClick:d}),l.a.createElement(j.a.Check,{label:"Relax",name:"activityCategory",id:"relax",className:"pac-item",onClick:d})))),l.a.createElement(j.a.Group,{className:"header-form---submit"},l.a.createElement(N.a,{disabled:e,className:"button-submit",type:"submit",onClick:function(e){e.preventDefault(),m.push("/search?".concat(c.queryLocation,"&").concat(c.queryActivityCategory))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"10",cy:"10",r:"7"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"15",y2:"15"})),"Search"))))},M=function(e){var a=e.background_url,t=e.title,n=e.subtitle;return l.a.createElement("section",{id:"hero",style:{background:"linear-gradient(rgba(46,105,228,.2), rgba(46,105,228,.3)),url('".concat(a,"')")}},l.a.createElement(f.a,null,l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12},l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"header-col left"},l.a.createElement("h1",{className:"header-title"},t),l.a.createElement("p",{className:"header-subtitle"},n),l.a.createElement(L,null))))),l.a.createElement("div",{className:"header-indicator d-flex align-items-center"})))},S=t(140),D=t(142),B=function(e){var a=void 0;return void 0===e.user&&(a=l.a.createElement("div",{className:"content-bar"},l.a.createElement(f.a,{fluid:!0},l.a.createElement("div",{className:"content-bar---wrapper d-flex align-items-center"},l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 20l-7 -7a4 4 0 0 1 6.5 -6a.9 .9 0 0 0 1 0a4 4 0 0 1 6.5 6l-7 7"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Romantic",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-directions",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 5h10l2 2l-2 2h-10a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),l.a.createElement("path",{d:"M13 13h-7l-2 2l2 2h7a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1"}),l.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"17"}),l.a.createElement("line",{x1:"12",y1:"13",x2:"12",y2:"9"}),l.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"3"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Adventure",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-droplet",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 3l5 5a7 7 0 1 1 -10 0l5 -5"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Relax",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-glass",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"21"}),l.a.createElement("path",{d:"M16 4l1 6a5 5 0 0 1 -10 0l1 -6z"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Gastronomic",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-snowflake",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(60 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(120 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(180 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(240 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(300 12 12)"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Winter",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-sun",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M3 12h1M12 3v1M20 12h1M12 20v1M5.6 5.6l.7 .7M18.4 5.6l-.7 .7M17.7 17.7l.7 .7M6.3 17.7l-.7 .7"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Summer",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-car",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"7",cy:"17",r:"2"}),l.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),l.a.createElement("path",{d:"M5 17h-2v-6l2-5h9l4 5h1a2 2 0 0 1 2 2v4h-2m-4 0h-6m-6 -6h15m-6 0v-5"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Weekend",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-building-bridge",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"6",y1:"5",x2:"6",y2:"19"}),l.a.createElement("line",{x1:"18",y1:"5",x2:"18",y2:"19"}),l.a.createElement("line",{x1:"2",y1:"15",x2:"22",y2:"15"}),l.a.createElement("path",{d:"M3 8a7.5 7.5 0 0 0 3 -2a6.5 6.5 0 0 0 12 0a7.5 7.5 0 0 0 3 2"}),l.a.createElement("line",{x1:"12",y1:"10",x2:"12",y2:"15"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Cultural",l.a.createElement("br",null),"Getaways"))))))),l.a.createElement("div",null,a)},A=function(e){var a=e.logo_url,t=e.user,n=e.path,r=t?{boxShadow:"none",borderBottom:"1px solid #e8e8e8"}:void 0,c=t?"/feed":"/",i=void 0;return i=t?l.a.createElement(S.a,{className:"logged-user"},l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"none",id:"dropdown-basic"},l.a.createElement("div",{className:"avatar avatar-nav"},l.a.createElement("img",{src:t.avatar,alt:t.fullName})),l.a.createElement("div",{className:"user-meta"},t.fullName,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("polyline",{points:"6 9 12 15 18 9"})))),l.a.createElement(C.a.Menu,null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(S.a.Link,{href:"/dashboard"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-list",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),l.a.createElement("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})),"Dashboard")),l.a.createElement("li",null,l.a.createElement(S.a.Link,{href:"/users/".concat(t._id)},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-user",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"7",r:"4"}),l.a.createElement("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})),"See your profile")),l.a.createElement("li",null,l.a.createElement(S.a.Link,{href:"/settings"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-settings",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))," ","Settings & Privacy")),l.a.createElement("li",null,l.a.createElement(S.a.Link,{href:"/logout"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-power",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 6a7.75 7.75 0 1 0 10 0"}),l.a.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"12"}))," ","Logout")))))):l.a.createElement(S.a,null,l.a.createElement(S.a.Link,{href:"/login"},"Log in"),l.a.createElement(S.a.Link,{href:"/signup",className:"btn signup"},"Sign up")),"/activity-composer"===n||"/place-composer"===n||"/story-composer"===n?l.a.createElement("header",{style:r},l.a.createElement(D.a,null,l.a.createElement(f.a,{fluid:!0,className:"align-items-center"},l.a.createElement("div",{className:"nav-col left d-flex"},l.a.createElement(D.a.Brand,{href:c},l.a.createElement("img",{src:a,alt:"Logo Getaways.guru"}))),l.a.createElement("div",{className:"nav-col right d-flex"},l.a.createElement(S.a,null),i))),l.a.createElement(B,{user:t})):l.a.createElement("header",{style:r},l.a.createElement(D.a,null,l.a.createElement(f.a,{fluid:!0,className:"align-items-center"},l.a.createElement("div",{className:"nav-col left d-flex"},l.a.createElement(D.a.Brand,{href:c},l.a.createElement("img",{src:a,alt:"Logo Getaways.guru"})),l.a.createElement(S.a,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"10",cy:"10",r:"7"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"15",y2:"15"})),l.a.createElement(j.a,null,l.a.createElement(j.a.Control,{type:"text",placeholder:"Search where you'd like to escape..."})))),l.a.createElement("div",{className:"nav-col right d-flex"},l.a.createElement(S.a,null,l.a.createElement(S.a.Link,{href:"/activities"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),"Activities"),l.a.createElement(S.a.Link,{href:"/places"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bed",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M3 7v11m0 -4h18m0 4v-8a2 2 0 0 0 -2 -2h-8v6"}),l.a.createElement("circle",{cx:"7",cy:"10",r:"1"})),"Places"),l.a.createElement(S.a.Link,{href:"/stories"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-notebook",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18"}),l.a.createElement("line",{x1:"13",y1:"8",x2:"15",y2:"8"}),l.a.createElement("line",{x1:"13",y1:"12",x2:"15",y2:"12"})),"Stories")),i))),l.a.createElement(B,{user:t}))},G=function(e){var a=e.logo_url;return l.a.createElement("section",{id:"footer"},l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:3},l.a.createElement("div",{className:"footer-intro"},l.a.createElement("img",{src:a,alt:"Getawaysy.guru logo"}),l.a.createElement("span",null,"Getaways.guru is the trusted community to search, find and bookmark your next perfect getaway near Barcelona. Join now to connect with local travellers."),l.a.createElement("span",null))),l.a.createElement(w.a,{lg:3},l.a.createElement("div",{className:"footer-about"},l.a.createElement("h4",null,"About"))),l.a.createElement(w.a,{lg:3},l.a.createElement("div",{className:"footer-support"},l.a.createElement("h4",null,"Support"))),l.a.createElement(w.a,{lg:3},l.a.createElement("div",{className:"footer-connect"},l.a.createElement("h4",null,"Connect"))))))},P=function(e){var a=Object(n.useState)("perfect"),t=Object(i.a)(a,2),r=t[0],c=t[1],o=["weekend","romantic","gastronomic","adventure","relax","cultural","winter","summer"];Object(n.useEffect)((function(){var e=setInterval((function(){var e=o[Math.floor(o.length*Math.random())];c(e)}),3500);return function(){return clearInterval(e)}}));var s=l.a.createElement("div",null,"Your next ",l.a.createElement("br",null)," ",r," getaway ",l.a.createElement("br",null)," near Barcelona ",l.a.createElement("br",null)," starts here");return l.a.createElement("div",{id:"homepage"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg"}),l.a.createElement(M,{background_url:"../jumbotron-bg.jpg",title:s,subtitle:"Search, find and bookmark thousands of verified getaways from local travellers"}),l.a.createElement(G,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg"}))},T=t(10),U=t(135),z=t(7),R=t(59),W=t(67).default,H=function e(){var a=this;Object(R.a)(this,e),this.signup=function(e,t,n){return a.service.post("/auth/signup",{fullName:e,email:t,password:n}).then((function(){return void 0===a.error?(console.log(a.response),a.response):(console.log(a.error),a.error)}))},this.login=function(e,t){return a.service.post("/auth/login",{username:e,password:t}).then((function(){return void 0===a.error?(console.log(a.response),a.response):(console.log(a.error),a.error)}))},this.logout=function(){return a.service.post("/auth/logout",{}).then((function(e){return e.data}))},this.googleAuth=function(e,t,n){return a.service.post("/auth/googlesignup",{fullName:e,email:t,imageUrl:n}).then((function(){return void 0===a.error?a.response:a.error}))};var t=W.create({baseURL:"".concat("https://getaways-guru.herokuapp.com/api"),withCredentials:!0});t.interceptors.response.use((function(e){return a.response=e.data}),(function(e){if(!(e.response.status>=400&&e.response.status<=500))return Promise.reject(e);a.error={message:e.response.data.message,status:e.response.status}})),this.service=t,this.error=void 0,this.response=void 0},I=t(86),F=t.n(I),q=function(e){var a=Object(o.g)();e.user&&a.push("/feed");var t,r={formData:{fullName:"",email:"",password:""},errorMessage:{},googleResponse:{received:!1,data:{}}},c=Object(n.useState)(r),s=Object(i.a)(c,2),m=s[0],u=s[1],d=new H,p=function(e){u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},Object(T.a)({},e.target.name,e.target.value))}))},h=function(e){console.log(e),u(Object(x.a)(Object(x.a)({},m),{},{googleResponse:{received:!0,data:e.profileObj}}))};return Object(n.useEffect)((function(){m.googleResponse.received&&function(){if(m.googleResponse.data){var t=m.googleResponse.data,n=t.name,l=t.email,c=t.imageUrl;console.log({name:n,email:l,imageUrl:c}),d.googleAuth(n,l,c).then((function(t){t.status?(console.log("error =>",t),u(Object(x.a)(Object(x.a)({},m),{},{errorMessage:t,googleResponse:Object(x.a)(Object(x.a)({},m.googleResponse),{},{received:!1})}))):(console.log("respuesta del servidor =>",t),u(r),e.getUserDetails(t),a.push("/feed"))})).catch((function(e){return console.log(e)}))}}()})),m.errorMessage.message?"Please provide fullname, email and password"===m.errorMessage.message?t=l.a.createElement(U.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shield-x",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"}),l.a.createElement("path",{d:"M10 10l4 4m0 -4l-4 4"})),m.errorMessage.message):"Please provide a stronger password of at least 8 alphanumeric characters"===m.errorMessage.message?t=l.a.createElement(U.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-key",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"8",cy:"15",r:"4"}),l.a.createElement("line",{x1:"10.85",y1:"12.15",x2:"19",y2:"4"}),l.a.createElement("line",{x1:"18",y1:"5",x2:"20",y2:"7"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"17",y2:"10"})),m.errorMessage.message):"Email already exists. Choose another one"===m.errorMessage.message&&(t=l.a.createElement(U.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"})),m.errorMessage.message)):t=null,l.a.createElement("section",{id:"signup"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"signup-col left"},l.a.createElement("div",{className:"title-area"},l.a.createElement(z.b,{to:"/"},l.a.createElement("img",{src:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",alt:""})),l.a.createElement("h2",null,"Discover the world's top getaways and places to escape to.")),l.a.createElement("div",{className:"graphic"},l.a.createElement("img",{src:"../../signup-graphic.svg",alt:""}))),l.a.createElement("div",{className:"signup-col right"},l.a.createElement("div",{className:"signup-col-wrapper right"},l.a.createElement("div",{className:"navlink"},"Already have an account? ",l.a.createElement(z.b,{to:"/login"},"Log in")),l.a.createElement("div",{className:"title-area"},l.a.createElement("h1",null,"Sign up to Getaways.guru"),l.a.createElement("p",{className:"sub-h1"},"Create an account to easily search, find and book your next perfect getaways.")),l.a.createElement("div",{className:"social-signup d-flex align-items-center"},l.a.createElement(F.a,{clientId:"1001464092709-hi8kknnaqhokalsior0s2kukhtupa7a8.apps.googleusercontent.com",render:function(e){return l.a.createElement("button",{type:"submit",className:"btn google",onClick:e.onClick,disabled:e.disabled},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-google",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M17.788 5.108A9 9 0 1021 12h-8"})),"Sign up with Google")},buttonText:"Sign up with Google",onSuccess:h,onFailure:h,cookiePolicy:"single_host_origin"}),l.a.createElement("button",{type:"submit",className:"btn facebook"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-facebook",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"none",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",style:{fill:"#173572"}})))),l.a.createElement(j.a,{onSubmit:function(t){t.preventDefault();var n=m.formData,l=n.fullName,c=n.email,i=n.password;d.signup(l,c,i).then((function(t){t.status?(console.log("error =>",t),u(Object(x.a)(Object(x.a)({},m),{},{errorMessage:t}))):(console.log("signed up =>",t),u(r),e.getUserDetails(t),a.push("/feed"))})).catch((function(e){return console.log(e)}))}},t,l.a.createElement("div",{className:"d-flex"},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Name"),l.a.createElement(j.a.Control,{type:"text",name:"fullName",onChange:p,placeholder:"Enter your full name"}))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Email"),l.a.createElement(j.a.Control,{type:"email",name:"email",onChange:p,placeholder:"Enter your email address"})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Password"),l.a.createElement(j.a.Control,{type:"password",name:"password",onChange:p,placeholder:"6+ characters"})),l.a.createElement(N.a,{type:"submit"},"Create account"))))))},V=function(e){var a=Object(o.g)();e.user&&a.push("/feed");var t,r={formData:{email:"",password:""},errorMessage:{}},c=Object(n.useState)(r),s=Object(i.a)(c,2),m=s[0],u=s[1],d=new H,p=function(e){u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},Object(T.a)({},e.target.name,e.target.value))}))};return m.errorMessage.message?"Missing credentials"===m.errorMessage.message?t=l.a.createElement(U.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shield-x",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"}),l.a.createElement("path",{d:"M10 10l4 4m0 -4l-4 4"})),m.errorMessage.message):"Incorrect email"===m.errorMessage.message?t=l.a.createElement(U.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"})),m.errorMessage.message):"Incorrect password"===m.errorMessage.message&&(t=l.a.createElement(U.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-key",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"8",cy:"15",r:"4"}),l.a.createElement("line",{x1:"10.85",y1:"12.15",x2:"19",y2:"4"}),l.a.createElement("line",{x1:"18",y1:"5",x2:"20",y2:"7"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"17",y2:"10"})),m.errorMessage.message)):t=null,l.a.createElement("section",{id:"signup"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"signup-col left"},l.a.createElement("div",{className:"title-area"},l.a.createElement(z.b,{to:"/"},l.a.createElement("img",{src:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",alt:""})),l.a.createElement("h2",null,"Discover the world's top getaways and places to escape to.")),l.a.createElement("div",{className:"graphic"},l.a.createElement("img",{src:"../../signup-graphic.svg",alt:""}))),l.a.createElement("div",{className:"signup-col right"},l.a.createElement("div",{className:"signup-col-wrapper right"},l.a.createElement("div",{className:"navlink"},"Not have an account yet? ",l.a.createElement(z.b,{to:"/signup"},"Sign up")),l.a.createElement("div",{className:"title-area"},l.a.createElement("h1",null,"Log in to Getaways.guru"),l.a.createElement("p",{className:"sub-h1"},"Access your account to easily search, find and book your next perfect getaways.")),l.a.createElement("div",{className:"social-signup d-flex align-items-center"},l.a.createElement("button",{type:"submit",className:"btn google"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-google",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M17.788 5.108A9 9 0 1021 12h-8"})),"Log in with Google"),l.a.createElement("button",{type:"submit",className:"btn facebook"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-facebook",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"none",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",style:{fill:"#666666"}})))),l.a.createElement(j.a,{onSubmit:function(t){t.preventDefault();var n=m.formData,l=n.email,c=n.password;d.login(l,c).then((function(t){t.status?u(Object(x.a)(Object(x.a)({},m),{},{errorMessage:t})):(u(r),console.log("loggedIn"),e.getUserDetails(t),a.push("/feed"))})).catch((function(e){return console.log(e)}))}},t,l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Email"),l.a.createElement(j.a.Control,{type:"email",name:"email",onChange:p,placeholder:"Enter your email address"})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Password"),l.a.createElement(j.a.Control,{type:"password",name:"password",onChange:p,placeholder:"6+ characters"})),l.a.createElement(N.a,{type:"submit"},"Log in"))))))},Z=function(e){return(new H).logout().then((function(){e.getUserDetails(null)})).catch((function(e){return console.log(e)})),l.a.createElement(o.a,{to:"/"})},Y=t(137),K=function(e){var a=e.visibility,t=e.hideModal;return l.a.createElement(Y.a,{show:a,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"publicationModal"},l.a.createElement(Y.a.Header,{closeButton:!0},l.a.createElement(Y.a.Title,null,"Create a post")),l.a.createElement(Y.a.Body,null,l.a.createElement("ul",{className:"d-flex flex-column"},l.a.createElement("li",null,l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Activity"),l.a.createElement("p",null,"Lorem ipsum")),l.a.createElement("div",{className:"col"},l.a.createElement(z.b,{to:"/activity-composer",className:"btn btn-primary"},"Create"))),l.a.createElement("li",null,l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Place"),l.a.createElement("p",null,"Lorem ipsum")),l.a.createElement("div",{className:"col"},l.a.createElement(z.b,{to:"/place-composer",className:"btn btn-primary"},"Create"))),l.a.createElement("li",null,l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Story"),l.a.createElement("p",null,"Lorem ipsum")),l.a.createElement("div",{className:"col"},l.a.createElement(z.b,{to:"/story-composer",className:"btn btn-primary"},"Create"))))))},X=function(e){var a=e.user,t={loggedUser:a},r=Object(n.useState)(t),c=Object(i.a)(r,1)[0],o=Object(n.useState)(!1),s=Object(i.a)(o,2),m=s[0],u=s[1];return l.a.createElement("div",{id:"feed"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"user-meta"},l.a.createElement("div",{className:"user-meta-wrapper"},l.a.createElement("div",{className:"avatar avatar-s"},l.a.createElement("img",{src:c.loggedUser.avatar,alt:c.loggedUser.fullName})),l.a.createElement("div",{className:"user-text"},l.a.createElement("p",null,"Welcome back,"),l.a.createElement("h1",null,a.fullName)))),l.a.createElement("div",{className:"weather-meta"}),l.a.createElement("div",{className:"left-menu"},l.a.createElement("div",{className:"topics"},l.a.createElement("p",null,"Topics you follow"),l.a.createElement("ul",{className:"menu-topics"},l.a.createElement("li",null,l.a.createElement(z.b,{to:"/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 20l-7 -7a4 4 0 0 1 6.5 -6a.9 .9 0 0 0 1 0a4 4 0 0 1 6.5 6l-7 7"}))," ","Romantic")),l.a.createElement("li",null,l.a.createElement(z.b,{to:"/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),"Barcelona")),l.a.createElement("li",null,l.a.createElement(z.b,{to:"/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),"Costa Brava")))),l.a.createElement("div",{className:"content"},l.a.createElement("p",null,"Explore and engage"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(z.b,{to:"/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-compass",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("polyline",{points:"8 16 10 10 16 8 14 14 8 16"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"9"})),"Discover")),l.a.createElement("li",null,l.a.createElement(z.b,{to:"/users"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-users",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),l.a.createElement("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),l.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),l.a.createElement("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})),"Community")))),l.a.createElement("div",{className:"links"},l.a.createElement("p",null,"Manage your account"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(z.b,{to:"/dashboard"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-list",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),l.a.createElement("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})),"Dashboard")),l.a.createElement("li",null,l.a.createElement(z.b,{to:"/bookmarks"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"})),"Bookmarks")),l.a.createElement("li",null,l.a.createElement(z.b,{to:"/users/".concat(c.loggedUser._id)},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-user",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"7",r:"4"}),l.a.createElement("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})),"Profile")))),l.a.createElement("div",{className:"new"},l.a.createElement(N.a,{className:"btn btn-primary text-center sidebar",onClick:function(){return u(!0)}},"Add getaway")))),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"})))),l.a.createElement(K,{visibility:m,hideModal:function(){return u(!1)}}))},J=t(31),$=t(67).default,Q=function e(){var a=this;Object(R.a)(this,e),this.activity=function(e,t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w){return a.service.post("/activity",{type:e,title:t,subtitle:n,categories:l,seasons:r,region:c,image:i,description:o,phone:s,website:m,activity_full_address:u,activity_locality:d,activity_province:p,activity_state:h,activity_country:g,activity_lat:E,activity_lng:v,activity_rating:b,activity_place_id:y,activity_opening_hours:f,duration:k,price:w}).then((function(e){return e.data}))},this.activities=function(){return a.service.get("/activities").then((function(e){return e.data}))},this.userActivities=function(e){return a.service.get("/users/".concat(e,"/activities")).then((function(e){return e.data}))},this.activityDetails=function(e){return a.service.get("/activities/".concat(e)).then((function(e){return e.data}))},this.removeActivity=function(e){return a.service.put("/activities/".concat(e),{isRemoved:!0}).then((function(e){return e.data}))},this.editActivity=function(e,t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w){return a.service.put("/activities/".concat(e),{title:t,subtitle:n,categories:l,seasons:r,region:c,images:i,description:o,phone:s,website:m,activity_full_address:u,activity_locality:d,activity_province:p,activity_state:h,activity_country:g,activity_lat:E,activity_lng:v,activity_rating:b,activity_place_id:y,activity_opening_hours:f,duration:k,price:w})},this.uploadFile=function(e){return a.service.post("/upload",e).then((function(e){return e.data}))},this.getUserProfile=function(e){return a.service.get("/users/".concat(e)).then((function(e){return e.data}))},this.editProfile=function(e,t,n,l,r,c){return a.service.put("/users/".concat(e),{avatar:t,fullName:n,username:l,bio:r,location:c})},this.editUserCover=function(e,t){return a.service.put("/users/".concat(e),{cover:t})},this.getAllUsers=function(){return a.service.get("/users").then((function(e){return e.data}))},this.place=function(e,t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w){return a.service.post("/place",{type:e,title:t,subtitle:n,categories:l,seasons:r,region:c,placeType:i,image:o,description:s,phone:m,website:u,place_full_address:d,place_locality:p,place_province:h,place_state:g,place_country:E,place_lat:v,place_lng:b,place_rating:y,place_id:f,place_opening_hours:k,price:w}).then((function(e){return e.data}))},this.getAllPlaces=function(){return a.service.get("/places").then((function(e){return e.data}))},this.getPlaceDetails=function(e){return a.service.get("/places/".concat(e)).then((function(e){return e.data}))},this.removePlace=function(e){return a.service.put("/places/".concat(e),{isRemoved:!0}).then((function(e){return e.data}))},this.editPlace=function(e,t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w){return a.service.put("/places/".concat(e),{title:t,subtitle:n,categories:l,seasons:r,region:c,placeType:i,images:o,description:s,phone:m,website:u,place_full_address:d,place_locality:p,place_province:h,place_state:g,place_country:E,place_lat:v,place_lng:b,place_rating:y,place_place_id:f,place_opening_hours:k,price:w})},this.getUserPlaces=function(e){return a.service.get("/users/".concat(e,"/places")).then((function(e){return e.data}))},this.story=function(e,t,n,l,r){return a.service.post("/story",{type:e,title:t,subtitle:n,image:l,description:r}).then((function(e){return e.data}))},this.getAllStories=function(){return a.service.get("/stories").then((function(e){return e.data}))},this.getStoryDetails=function(e){return a.service.get("/stories/".concat(e)).then((function(e){return e.data}))},this.getUserStories=function(e){return a.service.get("/users/".concat(e,"/stories")).then((function(e){return e.data}))},this.editStory=function(e,t,n,l,r,c){return a.service.put("/stories/".concat(e),{title:t,subtitle:n,description:l,location:r,status:c})},this.removeStory=function(e){return a.service.delete("/stories/".concat(e)).then((function(e){return e.data}))},this.bookmark=function(e,t){return a.service.post("/bookmark",{listingId:e,listingType:t}).then((function(e){return e.data}))},this.getUserActiveBookmarks=function(){return a.service.get("/activebookmarks").then((function(e){return e.data}))},this.getUserAllBookmarks=function(){return a.service.get("/bookmarks").then((function(e){return e.data}))},this.searchPlaces=function(e,t,n,l){return a.service.get("/searchPlaces?".concat(e,"&").concat(t,"&").concat(n,"&").concat(l)).then((function(e){return e.data}))},this.searchActivities=function(e,t,n){return a.service.get("/searchActivities?".concat(e,"&").concat(t,"&").concat(n)).then((function(e){return e.data}))};var t=$.create({baseURL:"".concat("https://getaways-guru.herokuapp.com/api"),withCredentials:!0});this.service=t},ee=function(e){var a=e.user,t=e.match,r={loggedUser:a,formData:{emptyForm:!0,type:"activity",title:"",subtitle:"",categories:[],seasons:[],region:"",images:[],description:"",phone:"",website:"",activity_full_address:"",activity_locality:"",activity_province:"",activity_state:"",activity_country:"",activity_lat:"",activity_lng:"",activity_rating:0,activity_place_id:"",activity_opening_hours:"",duration:"",price:"",isReadyToSubmit:!1}},c=Object(n.useState)(r),s=Object(i.a)(c,2),m=s[0],u=s[1],d=new Q,p=Object(o.g)(),h=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),d.uploadFile(t).then((function(e){u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{images:[].concat(Object(J.a)(m.formData.images),[e.path])})}))}))},g=function(e){var a=m.formData.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{categories:a})}))},E=function(e){var a=m.formData.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{seasons:a})}))},v=function(e){u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{region:e.target.id})}))},b=function(e){var a;u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},(a={},Object(T.a)(a,e.target.name,e.target.value),Object(T.a)(a,"emptyForm",!1),a))}))};return Object(n.useEffect)((function(){var e=m.formData,a=e.title,t=e.subtitle,n=e.categories,l=e.seasons,r=e.region,c=e.activity_full_address,i=e.phone,o=e.website,s=e.images,d=e.price,p=e.duration,h=e.description;a&&t&&n&&l&&r&&c&&i&&o&&s.length>0&&h&&p&&d&&u((function(e){return Object(x.a)(Object(x.a)({},e),{},{isReadyToSubmit:!0})}))}),[m.formData]),l.a.createElement("div",{id:"activity",className:"composer"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a,path:t.path}),l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Create Activity"),l.a.createElement("p",{className:"sub-h1"},"Describe and publish your activity so others start enjoying it.")),l.a.createElement(j.a,null,l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Title"),l.a.createElement(j.a.Control,{type:"text",name:"title",placeholder:"Activity title",onChange:b,value:m.formData.title})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Subtitle"),l.a.createElement(j.a.Control,{type:"text",name:"subtitle",placeholder:"Activity subtitle",onChange:b,value:m.formData.subtitle})),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Activity Category"),l.a.createElement(j.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:g}),l.a.createElement(j.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:g}),l.a.createElement(j.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:g}),l.a.createElement(j.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:g}),l.a.createElement(j.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:g}))),l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Activity Season"),l.a.createElement(j.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:E}),l.a.createElement(j.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:E}),l.a.createElement(j.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:E}),l.a.createElement(j.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:E}))),l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Activity Region"),l.a.createElement(j.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"activityRegion",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"activityRegion",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"girona",label:"Girona",name:"activityRegion",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"activityRegion",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"activityRegion",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"activityRegion",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"activityRegion",onChange:v}))))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Location"),l.a.createElement(O.a,{className:"location-control",apiKey:"".concat("AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&"),style:{width:"100%"},onPlaceSelected:function(e){var a,t,n,l,r,c,i,o,s,d;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(r=e.long_name)})),e.geometry.viewport&&(c=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(d=e.opening_hours.weekday_text),u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{activity_full_address:a,activity_locality:t,activity_province:n,activity_state:l,activity_country:r,activity_lat:c,activity_lng:i,activity_rating:o,activity_id:s,activity_opening_hours:d})})),console.log(e)},types:["establishment"],placeholder:"Type the activity address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:6},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Phone Number"),l.a.createElement(j.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:b,value:m.formData.phone}))),l.a.createElement(w.a,{lg:6},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Website"),l.a.createElement(j.a.Control,{type:"url",name:"website",placeholder:"Activity website",onChange:b,value:m.formData.website})))),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:6},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Price (\u20ac)"),l.a.createElement(j.a.Control,{type:"number",name:"price",placeholder:"Activity price",onChange:b,value:m.formData.price}))),l.a.createElement(w.a,{lg:6},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Duration (h)"),l.a.createElement(j.a.Control,{type:"number",name:"duration",placeholder:"Activity duration",onChange:b,value:m.formData.duration})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Activity Images"),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:h}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:h}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:h}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:h}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:h}))))))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Description"),l.a.createElement(j.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Activity description",onChange:b,value:m.formData.description})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(f.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},m.isReadyToSubmit?l.a.createElement(N.a,{type:"submit",variant:"none",onClick:function(e){e.preventDefault(),function(){var e=m.formData,a=e.type,t=e.title,n=e.subtitle,l=e.categories,r=e.seasons,c=e.region,i=e.images,o=e.description,s=e.phone,h=e.website,g=e.activity_full_address,E=e.activity_locality,v=e.activity_province,b=e.activity_state,y=e.activity_country,f=e.activity_lat,k=e.activity_lng,w=e.activity_rating,N=e.activity_place_id,j=e.activity_opening_hours,C=e.duration,_=e.price;d.activity(a,t,n,l,r,c,i,o,s,h,g,E,v,b,y,f,k,w,N,j,C,_).then((function(){u(Object(x.a)(Object(x.a)({},m),{},{formData:{emptyForm:!0,type:"activity",title:"",subtitle:"",categories:[],seasons:[],region:"",images:[],description:"",phone:"",website:"",activity_full_address:"",activity_locality:"",activity_province:"",activity_state:"",activity_country:"",activity_lat:"",activity_lng:"",activity_rating:0,activity_place_id:"",activity_opening_hours:"",duration:"",price:"",isReadyToSubmit:!1}})),p.push("/dashboard")})).catch((function(e){return console.log(e)}))}()}},"Publish"):l.a.createElement(N.a,{type:"submit",variant:"none",disabled:!0},"Publish"))))))},ae=t(12),te=t.n(ae),ne=t(17),le=t(136),re=function(e){var a,t=e.type,n=e.id,r=e.image,c=e.title,i=e.subtitle,o=e.publicationDate,s=e.fetchData,m=new Q;return"activity"===t?a="activities":"place"===t?a="places":"story"===t&&(a="stories"),l.a.createElement("div",{className:"content box d-flex align-items-center"},l.a.createElement(z.b,{to:"/".concat(a,"/").concat(n),className:"d-flex align-items-center"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:r,alt:c})),l.a.createElement("h1",{className:"title"},c),l.a.createElement("p",{className:"subtitle"},i),l.a.createElement("p",{className:"date"},o)),l.a.createElement("div",{className:"crud-buttons"},l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"none"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-dots",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"5",cy:"12",r:"1"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),l.a.createElement("circle",{cx:"19",cy:"12",r:"1"}))),l.a.createElement(C.a.Menu,null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(z.b,{to:"/".concat(a,"/").concat(n)},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-eye",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"2"}),l.a.createElement("path",{d:"M2 12l1.5 2a11 11 0 0 0 17 0l1.5 -2"}),l.a.createElement("path",{d:"M2 12l1.5 -2a11 11 0 0 1 17 0l1.5 2"})),"View")),l.a.createElement("li",null,l.a.createElement(z.b,{to:"/".concat(a,"/").concat(n,"/edit")},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-pencil",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"}),l.a.createElement("line",{x1:"13.5",y1:"6.5",x2:"17.5",y2:"10.5"})),"Edit")),l.a.createElement("li",null,l.a.createElement(N.a,{variant:"none",onClick:function(){"activity"===t?m.removeActivity(n).then((function(){return s()})):"place"===t?m.removePlace(n).then((function(){return s()})):"story"===t&&m.removeStory(n).then((function(){return s()}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-trash",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),l.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),l.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),l.a.createElement("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),l.a.createElement("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})),"Remove")))))))},ce=function(e){var a=e.user,t={loggedUser:a,allListings:[],activities:[],places:[],stories:[],isFetching:!1,hasListings:!1,hasActivities:!1,hasPlaces:!1,hasStories:!1,sortedTitle:!1,activeTab:"all"},r=Object(n.useState)(t),c=Object(i.a)(r,2),o=c[0],s=c[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],p=u[1],h=function(){return p(!0)},g=new Q;Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l,r,c,i,m;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(x.a)(Object(x.a)({},o),{},{isFetching:!0})),e.next=3,g.userActivities(o.loggedUser._id);case 3:return a=e.sent,e.next=6,g.getUserPlaces(o.loggedUser._id);case 6:return t=e.sent,e.next=9,g.getUserStories(o.loggedUser._id);case 9:n=e.sent,l=[],c=a.length>0,i=t.length>0,m=n.length>0,r=a.length>0||t.length>0||n.length>0,a.map((function(e){return l.push(e)})),t.map((function(e){return l.push(e)})),n.map((function(e){return l.push(e)})),s(Object(x.a)(Object(x.a)({},o),{},{allListings:l,activities:a,places:t,stories:n,isFetching:!1,hasListings:r,hasActivities:c,hasPlaces:i,hasStories:m}));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E,v,b,y,w,j,C,_=Object(n.useCallback)(Object(ne.a)(te.a.mark((function e(){var a,t,n,l,r,c,i,m;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(x.a)(Object(x.a)({},o),{},{isFetching:!0})),e.next=3,g.userActivities(o.loggedUser._id);case 3:return a=e.sent,e.next=6,g.getUserPlaces(o.loggedUser._id);case 6:return t=e.sent,e.next=9,g.getUserStories(o.loggedUser._id);case 9:n=e.sent,r=a.length>0,c=t.length>0,i=n.length>0,l=a.length>0||t.length>0||n.length>0,m=[],a.map((function(e){return m.push(e)})),t.map((function(e){return m.push(e)})),n.map((function(e){return m.push(e)})),s(Object(x.a)(Object(x.a)({},o),{},{allListings:m,activities:a,places:t,stories:n,isFetching:!1,hasListings:l,hasActivities:r,hasPlaces:c,hasStories:i}));case 19:case"end":return e.stop()}}),e)}))),[g,o]);if(!0===o.isFetching&&!1===o.hasListings)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));switch(o.activeTab){case"activities":w="activity",j="/activity-composer",C=l.a.createElement(z.b,{to:j,className:"btn btn-primary text-center"},"Add ",w);break;case"places":w="place",j="/place-composer",C=l.a.createElement(z.b,{to:j,className:"btn btn-primary text-center"},"Add ",w);break;case"stories":w="story",j="/story-composer",C=l.a.createElement(z.b,{to:j,className:"btn btn-primary text-center"},"Add ",w);break;default:w="getaway",j="/activity-composer",C=l.a.createElement(N.a,{className:"btn btn-primary text-center",onClick:h},"Add getaway")}var O=l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-results.svg",alt:"Graphic no results"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Oh no, this looks so empty.",l.a.createElement("br",null),"Create your first ",w," to inspire others."),C));!0===o.hasListings?(E=l.a.createElement("div",{className:"filter-box d-flex align-items-center justify-content-between"},l.a.createElement(N.a,{variant:"none"},"Image"),l.a.createElement(N.a,{variant:"none",className:"filter",onClick:function(){return function(e,a){if(!1===o.sortedTitle||"ZtoA"===o.sortedTitle){var t,n=e.sort((function(e,a){return e.title.toLowerCase()>a.title.toLowerCase()?-1:e.title.toLowerCase()<a.title.toLowerCase()?1:0})).reverse();s(Object(x.a)(Object(x.a)({},o),{},(t={},Object(T.a)(t,a,n),Object(T.a)(t,"sortedTitle","AtoZ"),t)))}else if("AtoZ"===o.sortedTitle){var l,r=e.sort((function(e,a){return e.title.toLowerCase()>a.title.toLowerCase()?-1:e.title.toLowerCase()<a.title.toLowerCase()?1:0}));s(Object(x.a)(Object(x.a)({},o),{},(l={},Object(T.a)(l,a,r),Object(T.a)(l,"sortedTitle","ZtoA"),l)))}}(b,y)}},"Title",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrows-sort",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#212529",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M3 9l4-4l4 4m-4 -4v14"}),l.a.createElement("path",{d:"M21 15l-4 4l-4-4m4 4v-14"}))),l.a.createElement(N.a,{variant:"none",className:"filter"},"Subtitle"),l.a.createElement(N.a,{variant:"none",className:"filter"},"Date"),l.a.createElement(N.a,{variant:"none"},"Actions")),"all"===o.activeTab&&(b=o.allListings,y="allListings",v=o.allListings.map((function(e){return l.a.createElement(re,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:_})}))),"activities"===o.activeTab&&(!0===o.hasActivities?(b=o.activities,y="activities",v=o.activities.map((function(e){return l.a.createElement(re,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:_})}))):(E=null,v=O)),"places"===o.activeTab&&(!0===o.hasPlaces?(y="places",b=o.places,v=o.places.map((function(e){return l.a.createElement(re,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:_})}))):(E=null,v=O)),"stories"===o.activeTab&&(!0===o.hasStories?(b=o.stories,v=o.stories.map((function(e){return l.a.createElement(re,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:_})}))):(E=null,v=O))):(E=null,v=O);var L={backgroundColor:"#abc3f4",borderRadius:"8px",cursor:"pointer",color:"#0d1f44"};return l.a.createElement("div",{id:"dashboard"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"top-nav"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title db"},"Dashboard"))),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("ul",null,l.a.createElement("li",{className:"list-title"},"Your getaways"),l.a.createElement("li",{className:"list-item",style:"all"===o.activeTab?L:null,onClick:function(){return s(Object(x.a)(Object(x.a)({},o),{},{activeTab:"all"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-list",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),l.a.createElement("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})),"All"),l.a.createElement("li",{className:"list-item",style:"activities"===o.activeTab?L:null,onClick:function(){return s(Object(x.a)(Object(x.a)({},o),{},{activeTab:"activities"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),"Activities"),l.a.createElement("li",{className:"list-item",style:"places"===o.activeTab?L:null,onClick:function(){return s(Object(x.a)(Object(x.a)({},o),{},{activeTab:"places"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bed",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M3 7v11m0 -4h18m0 4v-8a2 2 0 0 0 -2 -2h-8v6"}),l.a.createElement("circle",{cx:"7",cy:"10",r:"1"})),"Places"),l.a.createElement("li",{className:"list-item",style:"stories"===o.activeTab?L:null,onClick:function(){return s(Object(x.a)(Object(x.a)({},o),{},{activeTab:"stories"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-notebook",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18"}),l.a.createElement("line",{x1:"13",y1:"8",x2:"15",y2:"8"}),l.a.createElement("line",{x1:"13",y1:"12",x2:"15",y2:"12"})),"Stories")),l.a.createElement("div",{className:"new"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(N.a,{className:"btn btn-primary text-center sidebar",onClick:h},"Add getaway"))))),l.a.createElement("div",{className:"col right"},E,l.a.createElement("div",{className:"content-box-wrapper"},v))))),l.a.createElement(K,{visibility:d,hideModal:function(){return p(!1)}}))},ie=function(e){var a,t=e.id,n=e.image,r=e.title,c=e.subtitle,i=e.location,o=e.type;return"activity"===o?a="activities":"place"===o?a="places":"story"===o&&(a="stories"),l.a.createElement("div",{id:"listing",className:"d-flex align-items-center justify-content-between"},l.a.createElement(z.b,{to:"/".concat(a,"/").concat(t),title:r,className:"listing-wrapper d-flex align-items-center"},l.a.createElement("div",{className:"listing-cover"},l.a.createElement("img",{src:n,alt:r})),l.a.createElement("div",{className:"listing-content"},l.a.createElement("h3",{className:"listing-title"},r),l.a.createElement("p",{className:"listing-subtitle"},c),l.a.createElement("p",{className:"listing-location"},i))))},oe=t(34),se=function(e){var a,t=e.user,r={loggedUser:t,activities:[],queryActivityRegion:[],queryActivityCategory:[],queryActivitySeason:[],updateSearch:!1,hasActivities:!1},c=Object(n.useState)(r),o=Object(i.a)(c,2),s=o[0],m=o[1],u=new Q,d=Object(n.useCallback)((function(){u.activities("/activities").then((function(e){var a;e.length>0&&(a=!0),m(Object(x.a)(Object(x.a)({},s),{},{activities:e,hasActivities:a}))}))}),[s,u]);Object(n.useEffect)(d,[]),s.hasActivities&&(a=s.activities.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,location:"".concat(void 0===e.activity_locality?"":e.activity_locality," ").concat(void 0===e.activity_locality?"":","," ").concat(e.activity_province||e.activity_state,", ").concat(e.activity_country)})})));var p=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=s.queryActivityRegion;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryActivityRegion:a,updateSearch:!0}))},h=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=s.queryActivityCategory;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryActivityCategory:a,updateSearch:!0}))},g=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=s.queryActivitySeason;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryActivitySeason:a,updateSearch:!0}))};return Object(n.useEffect)((function(){!0===s.updateSearch&&u.searchActivities(s.queryActivityRegion,s.queryActivityCategory,s.queryActivitySeason).then((function(e){console.log("new activities fetched"),m(Object(x.a)(Object(x.a)({},s),{},{activities:e,updateSearch:!1}))}))}),[s.updateSearch]),l.a.createElement("div",{id:"contentList",className:"activity"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:t}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"filter-list"},l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Region"),l.a.createElement(j.a.Check,{label:"Barcelona",name:"activityRegion",id:"barcelona",onChange:p}),l.a.createElement(j.a.Check,{label:"Girona",name:"activityRegion",id:"girona",onChange:p}),l.a.createElement(j.a.Check,{label:"Lleida",name:"activityRegion",id:"lleida",onChange:p}),l.a.createElement(j.a.Check,{label:"Tarragona",name:"activityRegion",id:"tarragona",onChange:p}),l.a.createElement(j.a.Check,{label:"Costa Brava",name:"activityRegion",id:"costaBrava",onChange:p}),l.a.createElement(j.a.Check,{label:"Costa Daurada",name:"activityRegion",id:"costaDaurada",onChange:p}),l.a.createElement(j.a.Check,{label:"Pirineus",name:"activityRegion",id:"pirineus",onChange:p})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Category"),l.a.createElement(j.a.Check,{label:"Romantic",name:"activityCategory",id:"romantic",onChange:h}),l.a.createElement(j.a.Check,{label:"Adventure",name:"activityCategory",id:"adventure",onChange:h}),l.a.createElement(j.a.Check,{label:"Gastronomic",name:"activityCategory",id:"gastronomic",onChange:h}),l.a.createElement(j.a.Check,{label:"Cultural",name:"activityCategory",id:"cultural",onChange:h}),l.a.createElement(j.a.Check,{label:"Relax",name:"activityCategory",id:"relax",onChange:h})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Season"),l.a.createElement(j.a.Check,{label:"Winter",name:"activitySeason",id:"winter",onChange:g}),l.a.createElement(j.a.Check,{label:"Spring",name:"activitySeason",id:"spring",onChange:g}),l.a.createElement(j.a.Check,{label:"Summer",name:"activitySeason",id:"summer",onChange:g}),l.a.createElement(j.a.Check,{label:"Autumn",name:"activitySeason",id:"autumn",onChange:g})))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Activities"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 activities"),l.a.createElement("li",null,"2 contributors"))),a),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"map-wrapper"},l.a.createElement("div",{className:"map-block"},l.a.createElement(oe.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:{lat:59.95,lng:30.33},defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t=new a.LatLngBounds;s.activities.forEach((function(n){var l={lat:parseFloat(n.activity_lat),lng:parseFloat(n.activity_lng)};console.log(l);var r='<div id="infoview-wrapper">'+'<h1 id="firstHeading" class="firstHeading">'.concat(n.title,"</h1>")+"<p>".concat(n.subtitle,"</p>")+"</div>",c=new a.InfoWindow({content:r});console.log(c.content);var i=new a.Marker({position:l,map:e,icon:"../../empty-avatar.svg"});t.extend(i.position),i.addListener("click",(function(){return c.open(e,i)}))})),e.fitBounds(t)}(e.map,e.maps)}}))))))))},me=t(143),ue=function(e){var a={loggedUser:e.user,id:e.match.params.id,activity:{},isActivityLoaded:!1,owner:{},bookmarkDetails:{},isBookmarked:!1,showBookmarkToast:!1,toastMessage:""},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],o=r[1],s=new Q;if(Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getUserAllBookmarks();case 2:return a=e.sent,e.next=5,s.activityDetails(c.id);case 5:t=e.sent,a&&a.forEach((function(e){e.bookmarkActivityRef&&(n=e.bookmarkActivityRef._id===t._id?e:null)})),l=!!n&&!n.isRemoved,o(Object(x.a)(Object(x.a)({},c),{},{activity:t,isActivityLoaded:!0,owner:t.owner,bookmarkDetails:n,isBookmarked:l}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!1===c.isActivityLoaded)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var m,u=c.activity,d=u.title,p=u.subtitle,h=u.description,g=function(){var e=c.activity._id,a=c.activity.type;s.bookmark(e,a).then((function(e){o(Object(x.a)(Object(x.a)({},c),{},{isBookmarked:!c.isBookmarked,showBookmarkToast:!0,toastMessage:e.message||"Listing bookmarked!"}))}))};m=!1===c.isBookmarked?l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return g()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Bookmark")):l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return g()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{fill:"#0d1f44",d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Unbookmark"));var E=l.a.createElement(me.a,{onClose:function(){return o(Object(x.a)(Object(x.a)({},c),{},{showBookmarkToast:!1,toastMessage:""}))},show:c.showBookmarkToast,delay:5e3,autohide:!0},l.a.createElement(me.a.Header,null,l.a.createElement("img",{src:"../../logo-xs.svg",className:"rounded mr-2",alt:""}),l.a.createElement("strong",{className:"mr-auto"},"Getaways.guru")),l.a.createElement(me.a.Body,null,c.toastMessage," ",l.a.createElement("br",null)," ",l.a.createElement(z.b,{to:"/bookmarks"},"See all bookmarks")," ")),v={lat:parseFloat(c.activity.activity_lat),lng:parseFloat(c.activity.activity_lng)},b=c.activity.images.map((function(e,a){return l.a.createElement("div",{key:a,className:"cover",style:{backgroundImage:"url(".concat(e,")")}})})),y=c.activity.activity_opening_hours.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-hour"},e)})),N=c.activity.categories.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-category"},e," getaway")})),j=c.activity.seasons.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-season"},e)})),C=c.activity.region.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-region"},e)}));return l.a.createElement("div",{id:"listingPage"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1600"},c.showBookmarkToast?E:null,l.a.createElement("div",{className:"box"},l.a.createElement(k.a,null,l.a.createElement("section",{className:"listing-header-wrapper"},l.a.createElement(w.a,{lg:12},l.a.createElement("div",{className:"listing-header"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-title-wrapper"},l.a.createElement("h1",{className:"listing-title"},d)),l.a.createElement("div",{className:"listing-meta-bar"},l.a.createElement("ul",null,l.a.createElement("li",{className:"listing-type"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),l.a.createElement("span",null,c.activity.type)),l.a.createElement("li",{className:"listing-rating"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-star",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z"})),l.a.createElement("span",null,c.activity.activity_rating)),l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),l.a.createElement("span",null,"".concat(void 0===c.activity.activity_locality?"":c.activity.activity_locality," ").concat(void 0===c.activity.activity_locality?"":","," ").concat(c.activity.activity_province||c.activity.activity_state,", ").concat(c.activity.activity_country)))))),l.a.createElement("div",{className:"col right"},m)),l.a.createElement("div",{className:"listing-cover d-flex justify-space-between"},b)))),l.a.createElement(k.a,null,l.a.createElement("article",{className:"listing-body"},l.a.createElement(w.a,{lg:7},l.a.createElement("div",{className:"listing-body-wrapper d-flex justify-content-between align-items-center"},l.a.createElement("p",{className:"listing-subtitle"},p),l.a.createElement("div",{className:"listing-owner"},l.a.createElement(z.b,{to:"/users/".concat(c.owner._id)},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:c.owner.avatar,alt:c.owner.fullName})),l.a.createElement("p",{className:"listing-owner-name"},c.owner.fullName)))),l.a.createElement("div",{className:"listing-details-body d-flex"},l.a.createElement("div",{className:"listing-categories"},l.a.createElement("span",null,"Ideal for a"),l.a.createElement("ul",null,N)),l.a.createElement("div",{className:"listing-seasons"},l.a.createElement("span",null,"Must perform in"),l.a.createElement("ul",null,j)),l.a.createElement("div",{className:"d-flex right"},l.a.createElement("div",{className:"listing-region"},l.a.createElement("span",null,"Based in"),l.a.createElement("ul",null,C)),l.a.createElement("div",{className:"listing-duration"},l.a.createElement("span",null,"Duration"),c.activity.duration," hours"),l.a.createElement("div",{className:"listing-price"},l.a.createElement("span",null,"Activity price"),c.activity.price," \u20ac"))),l.a.createElement("div",{className:"listing-description"},h)),l.a.createElement(w.a,{lg:1}),l.a.createElement(w.a,{lg:4},l.a.createElement("div",{className:"listing-details-box"},l.a.createElement("div",{className:"listing-map"},l.a.createElement(oe.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:v,defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t={lat:parseFloat(c.activity.activity_lat),lng:parseFloat(c.activity.activity_lng)};new a.Marker({position:t,map:e,title:"Hello"})}(e.map,e.maps)}})),l.a.createElement("div",{className:"listing-activity-hours"},l.a.createElement("ul",{className:"listing-activity-hours-list"},l.a.createElement("li",{className:"header"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),l.a.createElement("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),l.a.createElement("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),l.a.createElement("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"18"})),"Opening Hours"),y)),l.a.createElement("ul",{className:"listing-details-list"},l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),c.activity.activity_full_address),l.a.createElement("li",{className:"listing-phone"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-phone-call",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"}),l.a.createElement("path",{d:"M15 7a2 2 0 0 1 2 2"}),l.a.createElement("path",{d:"M15 3a6 6 0 0 1 6 6"})),l.a.createElement("a",{href:"tel:".concat(c.activity.phone)},c.activity.phone)),l.a.createElement("li",{className:"listing-website"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-link",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"}),l.a.createElement("path",{d:"M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"})),l.a.createElement("a",{href:"http://".concat(c.activity.website)},c.activity.website))))))))))},de=function(e){var a=e.visibility,t=e.hideModal,r=e.user,c=e.refreshUserData,o={loggedUser:r,formData:{avatar:r.avatar,fullName:r.fullName,username:r.username,bio:r.bio,location:r.location}},s=Object(n.useState)(o),m=Object(i.a)(s,2),u=m[0],d=m[1],p=new Q,h=function(e){d(Object(x.a)(Object(x.a)({},u),{},{formData:Object(x.a)(Object(x.a)({},u.formData),{},Object(T.a)({},e.target.name,e.target.value))}))};return l.a.createElement(Y.a,{show:a,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"editProfileModal"},l.a.createElement(Y.a.Header,{closeButton:!0},l.a.createElement(Y.a.Title,null,"Edit profile")),l.a.createElement(Y.a.Body,null,l.a.createElement("div",{className:"cover-picture box bordered",style:{backgroundImage:'url("'.concat(u.loggedUser.cover,'")')}}),l.a.createElement(j.a,{onSubmit:function(e){e.preventDefault();var a=u.loggedUser._id,n=u.formData,l=n.avatar,r=n.fullName,i=n.username,o=n.bio,s=n.location;console.log(a,l,r,i,o,s),p.editProfile(a,l,r,i,o,s).then((function(){t(),c()}))},className:"user-editor"},l.a.createElement(j.a.Group,{className:"user-avatar"},l.a.createElement("label",null,l.a.createElement(j.a.Control,{type:"file",onChange:function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),p.uploadFile(t).then((function(e){return d(Object(x.a)(Object(x.a)({},u),{},{formData:Object(x.a)(Object(x.a)({},u.formData),{},{avatar:e.path})}))}))},className:"input-avatar-user"}),l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:u.formData.avatar,alt:u.formData.fullName}),l.a.createElement("div",{className:"avatar-overlay"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-camera-plus",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"13",r:"3"}),l.a.createElement("path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h2m9 7v7a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2"}),l.a.createElement("line",{x1:"15",y1:"6",x2:"21",y2:"6"}),l.a.createElement("line",{x1:"18",y1:"3",x2:"18",y2:"9"})))))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Name"),l.a.createElement(j.a.Control,{type:"text",name:"fullName",defaultValue:u.loggedUser.fullName,onChange:h,placeholder:"Enter your full name"})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Username"),l.a.createElement(j.a.Control,{type:"text",name:"username",defaultValue:u.loggedUser.username,placeholder:"Choose your username",onChange:h})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Bio"),l.a.createElement(j.a.Control,{as:"textarea",rows:"3",type:"text",name:"bio",defaultValue:u.loggedUser.bio,placeholder:"Enter your bio",onChange:h})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Location"),l.a.createElement(j.a.Control,{type:"text",name:"location",defaultValue:u.loggedUser.location,placeholder:"Enter your location",onChange:h})),l.a.createElement(j.a.Group,null,l.a.createElement(N.a,{variant:"primary",type:"submit"},"Save changes")))))},pe=function(e){var a={loggedUser:e.user,id:e.match.params.id,joinedYear:0,userProfile:{},isUserAvailable:!1,activities:[],places:[],stories:[],isFetching:!1,hasListings:!1,hasActivities:!1,hasPlaces:!1,hasStories:!1,activeTab:"activities",cover:"",isCoverReadyToUpload:!1},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],o=r[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],p=function(){return d(!0)},h=new Q;Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l,r,i,s,m,u;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(Object(x.a)(Object(x.a)({},c),{},{isFetching:!0})),e.next=3,h.getUserProfile(c.id);case 3:return a=e.sent,e.next=6,h.userActivities(c.id);case 6:return t=e.sent,e.next=9,h.getUserPlaces(c.loggedUser._id);case 9:return n=e.sent,e.next=12,h.getUserStories(c.loggedUser._id);case 12:l=e.sent,i=t.length>0,s=n.length>0,m=l.length>0,r=t.length>0||n.length>0||l.length>0,function(){var e=new Date(a.createdAt);return u=e.getFullYear()}(),o(Object(x.a)(Object(x.a)({},c),{},{userProfile:a,joinedYear:u,isUserAvailable:!0,activities:t,places:n,stories:l,isFetching:!1,hasListings:r,hasActivities:i,hasPlaces:s,hasStories:m}));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g,E,v,b,y=function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l,r,i,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(Object(x.a)(Object(x.a)({},c),{},{isFetching:!0})),e.next=3,h.userActivities(c.id);case 3:return a=e.sent,e.next=6,h.getUserPlaces(c.loggedUser._id);case 6:return t=e.sent,e.next=9,h.getUserStories(c.loggedUser._id);case 9:n=e.sent,r=a.length>0,i=t.length>0,s=n.length>0,l=a.length>0||t.length>0||n.length>0,o(Object(x.a)(Object(x.a)({},c),{},{activities:a,places:t,stories:n,isFetching:!1,hasListings:l,hasActivities:r,hasPlaces:i,hasStories:s}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();switch(c.activeTab){case"activities":E="activity",v="/activity-composer",b=l.a.createElement(z.b,{to:v,className:"btn btn-primary text-center"},"Add ",E);break;case"places":E="place",v="/place-composer",b=l.a.createElement(z.b,{to:v,className:"btn btn-primary text-center"},"Add ",E);break;case"stories":E="story",v="/story-composer",b=l.a.createElement(z.b,{to:v,className:"btn btn-primary text-center"},"Add ",E);break;default:E="getaway",v="/activity-composer",b=l.a.createElement(N.a,{className:"btn btn-primary text-center",onClick:p},"Add getaway")}var w=l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-results.svg",alt:"Graphic no results"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Oh no, this looks so empty.",l.a.createElement("br",null),"Create your first ",E," to inspire others."),b));!0===c.hasListings?("activities"===c.activeTab&&(g=!0===c.hasActivities?c.activities.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:y})})):w),"places"===c.activeTab&&(g=!0===c.hasPlaces?c.places.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:y})})):w),"stories"===c.activeTab&&(g=!0===c.hasStories?c.stories.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:y})})):w)):g=w;var j,C={backgroundColor:"#abc3f4",borderRadius:"8px",cursor:"pointer",color:"#0d1f44"};j=c.loggedUser?c.userProfile._id===c.loggedUser._id?l.a.createElement(N.a,{className:"btn btn-primary text-center sidebar",onClick:p},"Edit profile"):l.a.createElement(N.a,{className:"btn btn-primary text-center sidebar d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-plus",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))," ","Follow"):l.a.createElement(N.a,{className:"btn btn-primary text-center sidebar d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-plus",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))," ","Sign up");var _=function(){var e=Object(ne.a)(te.a.mark((function e(a){var t,n,l;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.files[0],(n=new FormData).append("imageUrl",t),e.next=5,h.uploadFile(n);case 5:l=e.sent,o(Object(x.a)(Object(x.a)({},c),{},{cover:l.path,isCoverReadyToUpload:!0}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),O=function(){h.getUserProfile(c.id).then((function(a){e.getUserDetails(a),o(Object(x.a)(Object(x.a)({},c),{},{userProfile:a,loggedUser:a,isCoverReadyToUpload:!1}))}))};return Object(n.useEffect)((function(){!0===c.isCoverReadyToUpload&&function(){var e=c.loggedUser._id,a=c.cover;h.editUserCover(e,a).then((function(){O()})),o(Object(x.a)(Object(x.a)({},c),{},{isCoverReadyToUpload:!1}))}()}),[c.isCoverReadyToUpload]),!0===c.isFetching?l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading..."))):l.a.createElement("div",{id:"userProfile"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"user box bordered"},l.a.createElement("div",{className:"avatar user-avatar"},l.a.createElement("img",{src:c.userProfile.avatar,alt:c.userProfile.fullName})),l.a.createElement("div",{className:"user-meta"},l.a.createElement("h1",{className:"user-fullName"},c.userProfile.fullName),l.a.createElement("ul",null,l.a.createElement("li",{className:"user-username"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"}))," ",c.userProfile.username||"username"),l.a.createElement("li",{className:"user-followers"},l.a.createElement("span",null,"225")," following"),l.a.createElement("li",{className:"user-following"},l.a.createElement("span",null,"65")," followers"),l.a.createElement("hr",null),l.a.createElement("li",{className:"user-bio"},c.userProfile.bio||"No bio"),l.a.createElement("hr",null),l.a.createElement("li",{className:"user-location d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),"Lives in ",c.userProfile.location||"not set"),l.a.createElement("li",{className:"user-registration d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),l.a.createElement("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),l.a.createElement("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),l.a.createElement("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"18"})),"Joined in ",c.joinedYear),l.a.createElement("li",{className:"user-verified d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shield-check",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 12l2 2l4 -4"}),l.a.createElement("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"})),"Verified")),l.a.createElement("div",{className:"new"},l.a.createElement("ul",null,l.a.createElement("li",null,j)))))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"cover-picture box bordered",style:{backgroundImage:'url("'.concat(c.userProfile.cover,'")')}},l.a.createElement("label",{className:"edit-cover"},l.a.createElement("input",{type:"file",onChange:_}),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"}))," ","Edit cover")),l.a.createElement("div",{className:"filter-bar"},l.a.createElement(N.a,{className:"d-flex align-items-center justify-content-center",variant:"none",style:"activities"===c.activeTab?C:null,onClick:function(){return o(Object(x.a)(Object(x.a)({},c),{},{activeTab:"activities"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),"Activities"),l.a.createElement(N.a,{variant:"none",className:"d-flex align-items-center justify-content-center",style:"places"===c.activeTab?C:null,onClick:function(){return o(Object(x.a)(Object(x.a)({},c),{},{activeTab:"places"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-building-arch",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),l.a.createElement("path",{d:"M4 21v-15a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v15"}),l.a.createElement("path",{d:"M9 21v-8a3 3 0 0 1 6 0v8"})),"Places"),l.a.createElement(N.a,{variant:"none",className:"d-flex align-items-center justify-content-center",style:"stories"===c.activeTab?C:null,onClick:function(){return o(Object(x.a)(Object(x.a)({},c),{},{activeTab:"stories"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-notebook",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18"}),l.a.createElement("line",{x1:"13",y1:"8",x2:"15",y2:"8"}),l.a.createElement("line",{x1:"13",y1:"12",x2:"15",y2:"12"})),"Stories")),l.a.createElement("div",{className:"content-bar"},g)),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"box bordered"}))))),l.a.createElement(de,{visibility:u,hideModal:function(){return d(!1)},user:c.userProfile,refreshUserData:O}))},he=function(e){var a=e.id,t=e.avatar,r={id:a,fullname:e.fullname,avatar:t,username:e.username,bio:e.bio},c=Object(n.useState)(r),o=Object(i.a)(c,1)[0];return l.a.createElement("div",{id:"publicUserBox"},l.a.createElement(z.b,{to:"/users/".concat(o.id)},l.a.createElement("div",{className:"box-wrapper"},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:o.avatar,alt:o.fullname})),l.a.createElement("h3",null,o.fullname),l.a.createElement("p",null,o.username||"@username"),l.a.createElement("p",null,o.bio))))},ge=function(e){var a=e.user,t={loggedUser:a,users:[]},r=Object(n.useState)(t),c=Object(i.a)(r,2),o=c[0],s=c[1],m=new Q,u=Object(n.useCallback)((function(){m.getAllUsers("/users").then((function(e){return s(Object(x.a)(Object(x.a)({},o),{},{users:e}))}))}),[o,m]);Object(n.useEffect)(u,[]);var d=o.users.map((function(e){return l.a.createElement(he,{key:e._id,id:e._id,avatar:e.avatar,fullname:e.fullName})}));return l.a.createElement("div",{id:"usersList"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"top-nav"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Community"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 activities"),l.a.createElement("li",null,"2 contributors")))),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"box wrapper d-flex"},d))))))},Ee=function(e){var a=e.user,t={loggedUser:a,formData:{emptyForm:!0,type:"place",title:"",subtitle:"",categories:[],seasons:[],region:"",placeType:"",images:[],description:"",phone:"",website:"",place_full_address:"",place_locality:"",place_province:"",place_state:"",place_country:"",place_lat:"",place_lng:"",place_rating:0,place_id:"",place_opening_hours:"",price:"",isReadyToSubmit:!1}},r=Object(n.useState)(t),c=Object(i.a)(r,2),s=c[0],m=c[1],u=new Q,d=Object(o.g)(),p=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),u.uploadFile(t).then((function(e){m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{images:[].concat(Object(J.a)(s.formData.images),[e.path])})}))}))},h=function(e){var a=s.formData.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{categories:a})}))},g=function(e){var a=s.formData.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{seasons:a})}))},E=function(e){m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{region:e.target.id})}))},v=function(e){m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{placeType:e.target.id})}))},b=function(e){var a;m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},(a={},Object(T.a)(a,e.target.name,e.target.value),Object(T.a)(a,"emptyForm",!1),a))}))};return Object(n.useEffect)((function(){var e=s.formData,a=e.title,t=e.subtitle,n=e.categories,l=e.seasons,r=e.region,c=e.placeType,i=e.place_full_address,o=e.phone,u=e.website,d=e.images,p=e.price,h=e.description;a&&t&&n&&l&&r&&c&&i&&o&&u&&d.length>0&&h&&p&&m((function(e){return Object(x.a)(Object(x.a)({},e),{},{isReadyToSubmit:!0})}))}),[s.formData]),l.a.createElement("div",{id:"place",className:"composer"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Create Place"),l.a.createElement("p",{className:"sub-h1"},"Describe and publish your place so others start enjoying it.")),l.a.createElement(j.a,null,l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Title"),l.a.createElement(j.a.Control,{type:"text",name:"title",placeholder:"Place title",onChange:b,value:s.formData.title})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Subtitle"),l.a.createElement(j.a.Control,{type:"text",name:"subtitle",placeholder:"Place subtitle",onChange:b,value:s.formData.subtitle})),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:3},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Place Category"),l.a.createElement(j.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:h}),l.a.createElement(j.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:h}),l.a.createElement(j.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:h}),l.a.createElement(j.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:h}),l.a.createElement(j.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:h}))),l.a.createElement(w.a,{lg:3},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Place Season"),l.a.createElement(j.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:g}),l.a.createElement(j.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:g}),l.a.createElement(j.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:g}),l.a.createElement(j.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:g}))),l.a.createElement(w.a,{lg:3},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Place Region"),l.a.createElement(j.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"activitySeason",onChange:E}),l.a.createElement(j.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"activitySeason",onChange:E}),l.a.createElement(j.a.Check,{type:"radio",id:"girona",label:"Girona",name:"activitySeason",onChange:E}),l.a.createElement(j.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"activitySeason",onChange:E}),l.a.createElement(j.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"activitySeason",onChange:E}),l.a.createElement(j.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"activitySeason",onChange:E}),l.a.createElement(j.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"activitySeason",onChange:E})))),l.a.createElement(w.a,{lg:3},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Place Type"),l.a.createElement(j.a.Check,{type:"radio",id:"hotel",label:"Hotel",name:"placeType",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"apartment",label:"Apartment",name:"placeType",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"cabin",label:"Cabin",name:"placeType",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"treeHouse",label:"Treehouse",name:"placeType",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"ruralHouse",label:"Rural house",name:"placeType",onChange:v}),l.a.createElement(j.a.Check,{type:"radio",id:"trailer",label:"Trailer",name:"placeType",onChange:v}))))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Location"),l.a.createElement(O.a,{className:"location-control",apiKey:"".concat("AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&"),style:{width:"100%"},onPlaceSelected:function(e){var a,t,n,l,r,c,i,o,u,d;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(r=e.long_name)})),e.geometry.viewport&&(c=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,u=e.place_id,e.opening_hours&&(d=e.opening_hours.weekday_text),m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{place_full_address:a,place_locality:t,place_province:n,place_state:l,place_country:r,place_lat:c,place_lng:i,place_rating:o,place_id:u,place_opening_hours:d})})),console.log(e)},types:["establishment"],placeholder:"Type the place address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Phone Number"),l.a.createElement(j.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:b,value:s.formData.phone}))),l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Website"),l.a.createElement(j.a.Control,{type:"url",name:"website",placeholder:"Place website",onChange:b,value:s.formData.website}))),l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Price per night (\u20ac)"),l.a.createElement(j.a.Control,{type:"number",name:"price",placeholder:"Place price per night",onChange:b,value:s.formData.price})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Place Images"),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:p}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:p}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:p}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:p}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:p}))))))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Description"),l.a.createElement(j.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Place description",onChange:b,value:s.formData.description})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(f.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},s.isReadyToSubmit?l.a.createElement(N.a,{type:"submit",variant:"none",onClick:function(e){e.preventDefault(),function(){var e=s.formData,a=e.type,t=e.title,n=e.subtitle,l=e.categories,r=e.seasons,c=e.region,i=e.placeType,o=e.images,p=e.description,h=e.phone,g=e.website,E=e.place_full_address,v=e.place_locality,b=e.place_province,y=e.place_state,f=e.place_country,k=e.place_lat,w=e.place_lng,N=e.place_rating,j=e.place_id,C=e.place_opening_hours,_=e.price;u.place(a,t,n,l,r,c,i,o,p,h,g,E,v,b,y,f,k,w,N,j,C,_).then((function(){m(Object(x.a)(Object(x.a)({},s),{},{formData:{emptyForm:!0,type:"place",title:"",subtitle:"",categories:[],seasons:[],region:"",placeType:"",images:[],description:"",phone:"",website:"",place_full_address:"",place_locality:"",place_province:"",place_state:"",place_country:"",place_lat:"",place_lng:"",place_rating:0,place_id:"",place_opening_hours:"",price:"",isReadyToSubmit:!1}})),d.push("/dashboard")})).catch((function(e){return console.log(e)}))}()}},"Publish"):l.a.createElement(N.a,{type:"submit",variant:"none",disabled:!0},"Publish"))))))},ve=function(e){var a={loggedUser:e.user,id:e.match.params.id,place:{},placeLoaded:!1,owner:{},bookmarkDetails:{},isBookmarked:!1,showBookmarkToast:!1,toastMessage:""},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],o=r[1],s=new Q;if(Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n,l;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getUserActiveBookmarks();case 2:return a=e.sent,e.next=5,s.getPlaceDetails(c.id);case 5:t=e.sent,a&&a.forEach((function(e){e.bookmarkPlaceRef&&(n=e.bookmarkPlaceRef._id===t._id?e:null)})),l=!!n&&!n.isRemoved,o(Object(x.a)(Object(x.a)({},c),{},{place:t,placeLoaded:!0,owner:t.owner,bookmarkDetails:a,isBookmarked:l}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!1===c.placeLoaded)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var m,u=c.place,d=u.title,p=u.subtitle,h=u.description,g=function(){var e=c.place._id,a=c.place.type;s.bookmark(e,a).then((function(e){o(Object(x.a)(Object(x.a)({},c),{},{isBookmarked:!c.isBookmarked,showBookmarkToast:!0,toastMessage:e.message||"Listing bookmarked!"}))}))};m=!1===c.isBookmarked?l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return g()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Bookmark")):l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return g()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{fill:"#0d1f44",d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Unbookmark"));var E=l.a.createElement(me.a,{onClose:function(){return o(Object(x.a)(Object(x.a)({},c),{},{showBookmarkToast:!1,toastMessage:""}))},show:c.showBookmarkToast,delay:5e3,autohide:!0},l.a.createElement(me.a.Header,null,l.a.createElement("img",{src:"../../logo-xs.svg",className:"rounded mr-2",alt:""}),l.a.createElement("strong",{className:"mr-auto"},"Getaways.guru")),l.a.createElement(me.a.Body,null,c.toastMessage," ",l.a.createElement("br",null)," ",l.a.createElement(z.b,{to:"/bookmarks"},"See all bookmarks")," ")),v={lat:parseFloat(c.place.place_lat),lng:parseFloat(c.place.place_lng)},b=c.place.images.map((function(e,a){return l.a.createElement("div",{key:a,className:"cover",style:{backgroundImage:"url(".concat(e,")")}})})),y=c.place.place_opening_hours.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-hour"},e)})),N=c.place.categories.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-category"},e," getaway")})),j=c.place.seasons.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-season"},e)})),C=c.place.region.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-region"},e)}));return l.a.createElement("div",{id:"listingPage"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1600"},c.showBookmarkToast?E:null,l.a.createElement("div",{className:"box"},l.a.createElement(k.a,null,l.a.createElement("section",{className:"listing-header-wrapper"},l.a.createElement(w.a,{lg:12},l.a.createElement("div",{className:"listing-header"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-title-wrapper"},l.a.createElement("h1",{className:"listing-title"},d)),l.a.createElement("div",{className:"listing-meta-bar"},l.a.createElement("ul",null,l.a.createElement("li",{className:"listing-type"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),l.a.createElement("span",null,c.place.type)),l.a.createElement("li",{className:"listing-rating"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-star",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z"})),l.a.createElement("span",null,c.place.place_rating)),l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),l.a.createElement("span",null,"".concat(c.place.place_locality,", ").concat(c.place.place_province,", ").concat(c.place.place_country)))))),l.a.createElement("div",{className:"col right"},m)),l.a.createElement("div",{className:"listing-cover d-flex justify-space-between"},b)))),l.a.createElement(k.a,null,l.a.createElement("article",{className:"listing-body"},l.a.createElement(w.a,{lg:7},l.a.createElement("div",{className:"listing-body-wrapper d-flex justify-content-between align-items-center"},l.a.createElement("p",{className:"listing-subtitle"},p),l.a.createElement("div",{className:"listing-owner"},l.a.createElement(z.b,{to:"/users/".concat(c.owner._id)},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:c.owner.avatar,alt:c.owner.fullName})),l.a.createElement("p",{className:"listing-owner-name"},c.owner.fullName)))),l.a.createElement("div",{className:"listing-details-body d-flex"},l.a.createElement("div",{className:"listing-categories"},l.a.createElement("span",null,"Ideal for a"),l.a.createElement("ul",null,N)),l.a.createElement("div",{className:"listing-seasons"},l.a.createElement("span",null,"Must visit in"),l.a.createElement("ul",null,j)),l.a.createElement("div",{className:"d-flex right"},l.a.createElement("div",{className:"listing-type"},l.a.createElement("span",null,"Place is a"),l.a.createElement("ul",null,c.place.placeType)),l.a.createElement("div",{className:"listing-region"},l.a.createElement("span",null,"Based in"),l.a.createElement("ul",null,C)),l.a.createElement("div",{className:"listing-price"},l.a.createElement("span",null,"Night price"),c.place.price," \u20ac"))),l.a.createElement("div",{className:"listing-description"},h)),l.a.createElement(w.a,{lg:1}),l.a.createElement(w.a,{lg:4},l.a.createElement("div",{className:"listing-details-box"},l.a.createElement("div",{className:"listing-map"},l.a.createElement(oe.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:v,defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t={lat:parseFloat(c.place.place_lat),lng:parseFloat(c.place.place_lng)};new a.Marker({position:t,map:e,title:"Hello"})}(e.map,e.maps)}})),l.a.createElement("div",{className:"listing-activity-hours"},l.a.createElement("ul",{className:"listing-activity-hours-list"},l.a.createElement("li",{className:"header"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),l.a.createElement("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),l.a.createElement("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),l.a.createElement("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"18"})),"Opening Hours"),y)),l.a.createElement("ul",{className:"listing-details-list"},l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),c.place.place_full_address),l.a.createElement("li",{className:"listing-phone"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-phone-call",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"}),l.a.createElement("path",{d:"M15 7a2 2 0 0 1 2 2"}),l.a.createElement("path",{d:"M15 3a6 6 0 0 1 6 6"})),l.a.createElement("a",{href:"tel:".concat(c.place.phone)},c.place.phone)),l.a.createElement("li",{className:"listing-website"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-link",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"}),l.a.createElement("path",{d:"M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"})),l.a.createElement("a",{href:"http://".concat(c.place.website)},c.place.website))))))))))},be=t(144),ye=function(e){var a=e.user,t={loggedUser:a,formData:{emptyForm:!0,type:"story",title:"",subtitle:"",images:[],description:"",isSubmitted:!1}},r=Object(n.useState)(t),c=Object(i.a)(r,2),s=c[0],m=c[1],u=new Q,d=Object(o.g)(),p=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),u.uploadFile(t).then((function(e){m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{images:[].concat(Object(J.a)(s.formData.images),[e.path])})}))}))},h=function(e){var a;m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},(a={},Object(T.a)(a,e.target.name,e.target.value),Object(T.a)(a,"emptyForm",!1),a))}))};return l.a.createElement("div",{id:"place"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:4,className:"sided-shadow"},l.a.createElement(be.a,null,l.a.createElement(be.a.Item,{href:"#"},"Home"),l.a.createElement(be.a.Item,{href:"#"},"Create story")),l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Create Story")),l.a.createElement(j.a,{onSubmit:function(e){e.preventDefault(),function(){var e=s.formData,a=e.type,t=e.title,n=e.subtitle,l=e.images,r=e.description;u.story(a,t,n,l,r).then((function(){m(Object(x.a)(Object(x.a)({},s),{},{formData:{emptyForm:!0,type:"story",title:"",subtitle:"",images:[],description:"",isSubmitted:!1}})),d.push("/dashboard")})).catch((function(e){return console.log(e)}))}()}},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Title"),l.a.createElement(j.a.Control,{type:"text",name:"title",placeholder:"Story title",onChange:h,value:s.formData.title})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Subtitle"),l.a.createElement(j.a.Control,{type:"text",name:"subtitle",placeholder:"Story subtitle",onChange:h,value:s.formData.subtitle})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Image"),l.a.createElement(j.a.Control,{type:"file",onChange:p})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Image"),l.a.createElement(j.a.Control,{type:"file",onChange:p})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Image"),l.a.createElement(j.a.Control,{type:"file",onChange:p})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Image"),l.a.createElement(j.a.Control,{type:"file",onChange:p})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Image"),l.a.createElement(j.a.Control,{type:"file",onChange:p})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Body"),l.a.createElement(j.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Story body",onChange:h,value:s.formData.description})),l.a.createElement("div",{className:"buttons d-flex justify-space-between"},l.a.createElement(N.a,{type:"submit",variant:"primary"},"Post")))),l.a.createElement(w.a,{lg:8}))))},fe=function(e){var a={loggedUser:e.user,id:e.match.params.id,story:{},storyLoaded:!1,owner:{}},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],o=r[1],s=new Q,m=Object(n.useCallback)((function(){s.getStoryDetails(c.id).then((function(e){console.log(e),o(Object(x.a)(Object(x.a)({},c),{},{story:e,storyLoaded:!0,owner:e.owner}))}))}),[c,s]);Object(n.useEffect)(m,[]);var u,d,p,h,g,E=c.story,v=E.title,b=E.subtitle,y=E.description;if(!c.storyLoaded)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var w=c.story.images;return u=w[0],d=w[1],p=w[2],h=w[3],g=w[4],l.a.createElement("div",{id:"listingPage"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("section",{className:"col"},l.a.createElement("div",{className:"listing-cover d-flex justify-space-between"},l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(u,"')")}}),l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(d,"')")}}),l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(p,"')")}}),l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(h,"')")}})),l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(g,"')")}}))),l.a.createElement("article",{className:"d-flex listing-content"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-wrapper"},l.a.createElement("div",{className:"listing-header"},l.a.createElement("h1",{className:"listing-title"},v),l.a.createElement("div",{className:"d-flex listing-meta-wrapper"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-owner"},l.a.createElement(z.b,{to:"/users/".concat(c.owner._id)},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:c.owner.avatar,alt:c.owner.fullName})),l.a.createElement("p",{className:"listing-owner-name"},c.owner.fullName)))),l.a.createElement("div",{className:"col right"},l.a.createElement("p",{className:"listing-subtitle"},b)))),l.a.createElement("div",{className:"listing-body"},l.a.createElement("div",{className:"listing-description"},y)))),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"listing-details-box"})))))))},ke=function(e){var a,t,r,c,s,m,u,d,p,h,g,E,v,b,y,C,_={loggedUser:e.user,id:e.match.params.id,activity:{},isActivityLoaded:!1},L=Object(n.useState)(_),M=Object(i.a)(L,2),S=M[0],D=M[1],B=new Q,G=Object(o.g)();Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.activityDetails(S.id);case 2:a=e.sent,D(Object(x.a)(Object(x.a)({},S),{},{activity:a,isActivityLoaded:!0}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!0===S.isActivityLoaded&&(a=!!S.activity.categories.includes("romantic"),t=!!S.activity.categories.includes("adventure"),r=!!S.activity.categories.includes("gastronomic"),c=!!S.activity.categories.includes("cultural"),s=!!S.activity.categories.includes("relax"),m=!!S.activity.seasons.includes("winter"),u=!!S.activity.seasons.includes("spring"),d=!!S.activity.seasons.includes("summer"),p=!!S.activity.seasons.includes("autumn"),h=!!S.activity.region.includes("barcelona"),g=!!S.activity.region.includes("tarragona"),E=!!S.activity.region.includes("girona"),v=!!S.activity.region.includes("lleida"),b=!!S.activity.region.includes("costaBrava"),y=!!S.activity.region.includes("costaDaurada"),C=!!S.activity.region.includes("pirineus"));var P=S.activity,U=P.title,z=P.subtitle,R=P.activity_full_address,W=P.phone,H=P.website,I=P.price,F=P.duration,q=P.description,V=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),B.uploadFile(t).then((function(e){D(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{images:[].concat(Object(J.a)(S.activity.images),[e.path])})}))}))},Z=function(e){var a=S.activity.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);console.log(t),a.splice(t,1)}D(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{categories:a})}))},Y=function(e){var a=S.activity.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}D(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{seasons:a})}))},K=function(e){D(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{region:e.target.id})}))},X=function(e){return D(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},Object(T.a)({},e.target.name,e.target.value))}))},$=function(e){e.preventDefault();var a=S.activity,t=a._id,n=a.title,l=a.subtitle,r=a.categories,c=a.seasons,i=a.region,o=a.images,s=a.description,m=a.phone,u=a.website,d=a.activity_full_address,p=a.activity_locality,h=a.activity_province,g=a.activity_state,E=a.activity_country,v=a.activity_lat,b=a.activity_lng,y=a.activity_rating,f=a.activity_place_id,k=a.activity_opening_hours,w=a.duration,x=a.price;B.editActivity(t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w,x).then((function(){return G.push("/dashboard")}))};return l.a.createElement("div",{id:"activity",className:"composer"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Edit Activity"),l.a.createElement("p",{className:"sub-h1"},"Edit and submit your activity so others start enjoying it.")),l.a.createElement(j.a,{onSubmit:$},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Title"),l.a.createElement(j.a.Control,{type:"text",name:"title",placeholder:"Activity title",defaultValue:U,onChange:X})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Subtitle"),l.a.createElement(j.a.Control,{type:"text",name:"subtitle",placeholder:"Activity subtitle",defaultValue:z,onChange:X})),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Activity Category"),l.a.createElement(j.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:Z,checked:a}),l.a.createElement(j.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:Z,checked:t}),l.a.createElement(j.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:Z,checked:r}),l.a.createElement(j.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:Z,checked:c}),l.a.createElement(j.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:Z,checked:s}))),l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Activity Season"),l.a.createElement(j.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:Y,checked:m}),l.a.createElement(j.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:Y,checked:u}),l.a.createElement(j.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:Y,checked:d}),l.a.createElement(j.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:Y,checked:p}))),l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Activity Region"),l.a.createElement(j.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"activitySeason",onChange:K,checked:h}),l.a.createElement(j.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"activitySeason",onChange:K,checked:g}),l.a.createElement(j.a.Check,{type:"radio",id:"girona",label:"Girona",name:"activitySeason",onChange:K,checked:E}),l.a.createElement(j.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"activitySeason",onChange:K,checked:v}),l.a.createElement(j.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"activitySeason",onChange:K,checked:b}),l.a.createElement(j.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"activitySeason",onChange:K,checked:y}),l.a.createElement(j.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"activitySeason",onChange:K,checked:C}))))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Location"),l.a.createElement(O.a,{className:"location-control",apiKey:"".concat("AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&"),style:{width:"100%"},defaultValue:R,onPlaceSelected:function(e){var a,t,n,l,r,c,i,o,s,m;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(r=e.long_name)})),e.geometry.viewport&&(c=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(m=e.opening_hours.weekday_text),D(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{activity_full_address:a,activity_locality:t,activity_province:n,activity_state:l,activity_country:r,activity_lat:c,activity_lng:i,activity_rating:o,activity_id:s,activity_opening_hours:m})}))},types:["establishment"],placeholder:"Type the activity address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:6},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Phone Number"),l.a.createElement(j.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:X,value:W}))),l.a.createElement(w.a,{lg:6},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Website"),l.a.createElement(j.a.Control,{type:"url",name:"website",placeholder:"Activity website",onChange:X,value:H})))),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:6},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Price (\u20ac)"),l.a.createElement(j.a.Control,{type:"number",name:"price",placeholder:"Activity price",onChange:X,value:I}))),l.a.createElement(w.a,{lg:6},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Duration (h)"),l.a.createElement(j.a.Control,{type:"number",name:"duration",placeholder:"Activity duration",onChange:X,value:F})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Activity Images"),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:V}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:V}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:V}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:V}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:V}))))))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Description"),l.a.createElement(j.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Activity description",defaultValue:q,onChange:X})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(f.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},l.a.createElement(N.a,{type:"submit",variant:"none",onClick:$},"Save changes"))))))},we=function(e){var a,t,r,c,s,m,u,d,p,h,g,E,v,b,y,C,_,L,M,S,D,B,G={loggedUser:e.user,id:e.match.params.id,place:{},isPlaceLoaded:!1},P=Object(n.useState)(G),U=Object(i.a)(P,2),z=U[0],R=U[1],W=new Q,H=Object(o.g)();Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getPlaceDetails(z.id);case 2:a=e.sent,R(Object(x.a)(Object(x.a)({},z),{},{place:a,isPlaceLoaded:!0}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!0===z.isPlaceLoaded&&(a=!!z.place.categories.includes("romantic"),t=!!z.place.categories.includes("adventure"),r=!!z.place.categories.includes("gastronomic"),c=!!z.place.categories.includes("cultural"),s=!!z.place.categories.includes("relax"),m=!!z.place.seasons.includes("winter"),u=!!z.place.seasons.includes("spring"),d=!!z.place.seasons.includes("summer"),p=!!z.place.seasons.includes("autumn"),h=!!z.place.region.includes("barcelona"),g=!!z.place.region.includes("tarragona"),E=!!z.place.region.includes("girona"),v=!!z.place.region.includes("lleida"),b=!!z.place.region.includes("costaBrava"),y=!!z.place.region.includes("costaDaurada"),C=!!z.place.region.includes("pirineus"),_=!!z.place.placeType.includes("apartment"),L=!!z.place.placeType.includes("cabin"),M=!!z.place.placeType.includes("treeHouse"),S=!!z.place.placeType.includes("ruralHouse"),D=!!z.place.placeType.includes("trailer"),B=!!z.place.placeType.includes("hotel"));var I=z.place,F=I.title,q=I.subtitle,V=I.place_full_address,Z=I.phone,Y=I.website,K=I.price,X=I.description,$=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),W.uploadFile(t).then((function(e){R(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{images:[].concat(Object(J.a)(z.place.images),[e.path])})}))}))},ee=function(e){var a=z.place.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}R(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{categories:a})}))},ae=function(e){var a=z.place.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}R(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{seasons:a})}))},le=function(e){R(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{region:e.target.id})}))},re=function(e){R(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{placeType:e.target.id})}))},ce=function(e){return R(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},Object(T.a)({},e.target.name,e.target.value))}))},ie=function(e){e.preventDefault();var a=z.place,t=a._id,n=a.title,l=a.subtitle,r=a.categories,c=a.seasons,i=a.region,o=a.placeType,s=a.images,m=a.description,u=a.phone,d=a.website,p=a.place_full_address,h=a.place_locality,g=a.place_province,E=a.place_state,v=a.place_country,b=a.place_lat,y=a.place_lng,f=a.place_rating,k=a.place_id,w=a.place_opening_hours,x=a.price;W.editPlace(t,n,l,r,c,i,o,s,m,u,d,p,h,g,E,v,b,y,f,k,w,x).then((function(){return H.push("/dashboard")}))};return l.a.createElement("div",{id:"editForm",className:"composer"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Edit Place"),l.a.createElement("p",{className:"sub-h1"},"Edit and submit your place so others start enjoying it.")),l.a.createElement(j.a,{onSubmit:ie},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Title"),l.a.createElement(j.a.Control,{type:"text",name:"title",placeholder:"Place title",defaultValue:F,onChange:ce})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Subtitle"),l.a.createElement(j.a.Control,{type:"text",name:"subtitle",placeholder:"Place subtitle",defaultValue:q,onChange:ce})),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:3},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Place Category"),l.a.createElement(j.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:ee,checked:a}),l.a.createElement(j.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:ee,checked:t}),l.a.createElement(j.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:ee,checked:r}),l.a.createElement(j.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:ee,checked:c}),l.a.createElement(j.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:ee,checked:s}))),l.a.createElement(w.a,{lg:3},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Place Season"),l.a.createElement(j.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:ae,checked:m}),l.a.createElement(j.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:ae,checked:u}),l.a.createElement(j.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:ae,checked:d}),l.a.createElement(j.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:ae,checked:p}))),l.a.createElement(w.a,{lg:3},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Place Region"),l.a.createElement(j.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"placeRegion",onChange:le,checked:h}),l.a.createElement(j.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"placeRegion",onChange:le,checked:g}),l.a.createElement(j.a.Check,{type:"radio",id:"girona",label:"Girona",name:"placeRegion",onChange:le,checked:E}),l.a.createElement(j.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"placeRegion",onChange:le,checked:v}),l.a.createElement(j.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"placeRegion",onChange:le,checked:b}),l.a.createElement(j.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"placeRegion",onChange:le,checked:y}),l.a.createElement(j.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"placeRegion",onChange:le,checked:C})))),l.a.createElement(w.a,{lg:3},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Place Type"),l.a.createElement(j.a.Check,{type:"radio",id:"hotel",label:"Hotel",name:"placeType",onChange:re,checked:B}),l.a.createElement(j.a.Check,{type:"radio",id:"apartment",label:"Apartment",name:"placeType",onChange:re,checked:_}),l.a.createElement(j.a.Check,{type:"radio",id:"cabin",label:"Cabin",name:"placeType",onChange:re,checked:L}),l.a.createElement(j.a.Check,{type:"radio",id:"treeHouse",label:"Treehouse",name:"placeType",onChange:re,checked:M}),l.a.createElement(j.a.Check,{type:"radio",id:"ruralHouse",label:"Rural house",name:"placeType",onChange:re,checked:S}),l.a.createElement(j.a.Check,{type:"radio",id:"trailer",label:"Trailer",name:"placeType",onChange:re,checked:D}))))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Location"),l.a.createElement(O.a,{className:"location-control",apiKey:"".concat("AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&"),style:{width:"100%"},defaultValue:V,onPlaceSelected:function(e){var a,t,n,l,r,c,i,o,s,m;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(r=e.long_name)})),e.geometry.viewport&&(c=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(m=e.opening_hours.weekday_text),R(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{place_full_address:a,place_locality:t,place_province:n,place_state:l,place_country:r,place_lat:c,place_lng:i,place_rating:o,place_id:s,place_opening_hours:m})})),console.log(e)},types:["establishment"],placeholder:"Type the place address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Phone Number"),l.a.createElement(j.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:ce,value:Z}))),l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Website"),l.a.createElement(j.a.Control,{type:"url",name:"website",placeholder:"Place website",onChange:ce,value:Y}))),l.a.createElement(w.a,{lg:4},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Price per night (\u20ac)"),l.a.createElement(j.a.Control,{type:"number",name:"price",placeholder:"Place price",onChange:ce,value:K})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Place Images"),l.a.createElement(j.a.Row,null,l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:$}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:$}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:$}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:$}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(j.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(j.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(j.a.Control,{type:"file",onChange:$}))))))),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Description"),l.a.createElement(j.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Place description",defaultValue:X,onChange:ce})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(f.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},l.a.createElement(N.a,{type:"submit",variant:"none",onClick:ie},"Save changes"))))))},xe=function(e){var a={loggedUser:e.user,id:e.match.params.id,story:{}},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],s=r[1],m=new Q,u=Object(o.g)(),d=Object(n.useCallback)((function(){m.getStoryDetails(c.id).then((function(e){s(Object(x.a)(Object(x.a)({},c),{},{story:e}))}))}),[c,m]);Object(n.useEffect)(d,[]);var p=c.story,h=p.title,g=p.subtitle,E=p.image,v=p.description,b=function(e){return s(Object(x.a)(Object(x.a)({},c),{},{story:Object(x.a)(Object(x.a)({},c.story),{},Object(T.a)({},e.target.name,e.target.value))}))};return l.a.createElement("div",{id:"editForm",className:"composer"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:4,className:"sided-shadow"},l.a.createElement(be.a,null,l.a.createElement(be.a.Item,{href:"#"},"Home"),l.a.createElement(be.a.Item,{href:"#"},"Edit Story")),l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Edit Story")),l.a.createElement(j.a,{onSubmit:function(e){e.preventDefault();var a=c.story,t=a._id,n=a.title,l=a.subtitle,r=a.description;m.editStory(t,n,l,r).then((function(){return u.push("/dashboard")}))}},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Title"),l.a.createElement(j.a.Control,{type:"text",name:"title",placeholder:"Story title",defaultValue:h,onChange:b})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Subtitle"),l.a.createElement(j.a.Control,{type:"text",name:"subtitle",placeholder:"Story subtitle",defaultValue:g,onChange:b})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Image"),l.a.createElement(j.a.Control,{type:"text",name:"image",placeholder:"Story image",defaultValue:E,onChange:b})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Description"),l.a.createElement(j.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Story description",defaultValue:v,onChange:b})),l.a.createElement("div",{className:"buttons d-flex justify-space-between"},l.a.createElement(N.a,{type:"submit",variant:"primary"},"Post")))),l.a.createElement(w.a,{lg:8}))))},Ne=function(e){var a,t=e.user,r={loggedUser:t,places:[],queryPlaceType:[],queryPlaceRegion:[],queryPlaceCategory:[],queryPlaceSeason:[],updateSearch:!1,hasPlaces:!1},c=Object(n.useState)(r),o=Object(i.a)(c,2),s=o[0],m=o[1],u=new Q,d=Object(n.useCallback)((function(){u.getAllPlaces("/places").then((function(e){var a;e.length>0&&(a=!0),m(Object(x.a)(Object(x.a)({},s),{},{places:e,hasPlaces:a}))}))}),[s,u]);Object(n.useEffect)(d,[]),!0===s.hasPlaces&&(a=s.places.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,location:"".concat(void 0===e.place_locality?"":e.place_locality).concat(void 0===e.place_locality?"":","," ").concat(e.place_province||e.place_state,", ").concat(e.place_country)})})));var p=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=s.queryPlaceType;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryPlaceType:a,updateSearch:!0}))},h=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=s.queryPlaceRegion;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryPlaceRegion:a,updateSearch:!0}))},g=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=s.queryPlaceCategory;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryPlaceCategory:a,updateSearch:!0}))},E=function(e){console.log("".concat(e.target.name,": ").concat(e.target.id));var a=s.queryPlaceSeason;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryPlaceSeason:a,updateSearch:!0}))};return Object(n.useEffect)((function(){!0===s.updateSearch&&u.searchPlaces(s.queryPlaceType,s.queryPlaceRegion,s.queryPlaceCategory,s.queryPlaceSeason).then((function(e){console.log("new places fetched"),m(Object(x.a)(Object(x.a)({},s),{},{places:e,updateSearch:!1}))}))}),[s.updateSearch]),l.a.createElement("div",{id:"contentList",className:"place"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:t}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"filter-list"},l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Place type"),l.a.createElement(j.a.Check,{label:"Hotel",name:"placeType",id:"hotel",onChange:p}),l.a.createElement(j.a.Check,{label:"Apartment",name:"placeType",id:"apartment",onChange:p}),l.a.createElement(j.a.Check,{label:"Cabin",name:"placeType",id:"cabin",onChange:p}),l.a.createElement(j.a.Check,{label:"Treehouse",name:"placeType",id:"treehouse",onChange:p}),l.a.createElement(j.a.Check,{label:"Ruralhouse",name:"placeType",id:"ruralhouse",onChange:p}),l.a.createElement(j.a.Check,{label:"Trailer",name:"placeType",id:"trailer",onChange:p})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Region"),l.a.createElement(j.a.Check,{label:"Barcelona",name:"placeRegion",id:"barcelona",onChange:h}),l.a.createElement(j.a.Check,{label:"Girona",name:"placeRegion",id:"girona",onChange:h}),l.a.createElement(j.a.Check,{label:"Lleida",name:"placeRegion",id:"lleida",onChange:h}),l.a.createElement(j.a.Check,{label:"Tarragona",name:"placeRegion",id:"tarragona",onChange:h}),l.a.createElement(j.a.Check,{label:"Costa Brava",name:"placeRegion",id:"costaBrava",onChange:h}),l.a.createElement(j.a.Check,{label:"Costa Daurada",name:"placeRegion",id:"costaDaurada",onChange:h}),l.a.createElement(j.a.Check,{label:"Pirineus",name:"placeRegion",id:"pirineus",onChange:h})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Category"),l.a.createElement(j.a.Check,{label:"Romantic",name:"placeCategory",id:"romantic",onChange:g}),l.a.createElement(j.a.Check,{label:"Adventure",name:"placeCategory",id:"adventure",onChange:g}),l.a.createElement(j.a.Check,{label:"Gastronomic",name:"placeCategory",id:"gastronomic",onChange:g}),l.a.createElement(j.a.Check,{label:"Cultural",name:"placeCategory",id:"cultural",onChange:g}),l.a.createElement(j.a.Check,{label:"Relax",name:"placeCategory",id:"relax",onChange:g})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Season"),l.a.createElement(j.a.Check,{label:"Winter",name:"placeSeason",id:"winter",onChange:E}),l.a.createElement(j.a.Check,{label:"Spring",name:"placeSeason",id:"spring",onChange:E}),l.a.createElement(j.a.Check,{label:"Summer",name:"placeSeason",id:"summer",onChange:E}),l.a.createElement(j.a.Check,{label:"Autumn",name:"placeSeason",id:"autumn",onChange:E})))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Places"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 places"),l.a.createElement("li",null,"2 contributors"))),a),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"map-wrapper"},l.a.createElement("div",{className:"map-block"},l.a.createElement(oe.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:{lat:59.95,lng:30.33},defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t=new a.LatLngBounds;s.places.forEach((function(n){var l={lat:parseFloat(n.place_lat),lng:parseFloat(n.place_lng)};console.log(l);var r='<div id="infoview-wrapper">'+'<h1 id="firstHeading" class="firstHeading">'.concat(n.title,"</h1>")+"<p>".concat(n.subtitle,"</p>")+"</div>",c=new a.InfoWindow({content:r});console.log(c.content);var i=new a.Marker({position:l,map:e,icon:"../../empty-avatar.svg"});t.extend(i.position),i.addListener("click",(function(){return c.open(e,i)}))})),e.fitBounds(t)}(e.map,e.maps)}}))))))))},je=function(e){var a=e.user,t={loggedUser:a,stories:[]},r=Object(n.useState)(t),c=Object(i.a)(r,2),o=c[0],s=c[1],m=new Q,u=Object(n.useCallback)((function(){m.getAllStories("/stories").then((function(e){s(Object(x.a)(Object(x.a)({},o),{},{stories:e}))}))}),[o,m]);Object(n.useEffect)(u,[]);var d=o.stories.map((function(e){return l.a.createElement(ie,{key:e._id,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,location:e.location,type:e.type})}));return l.a.createElement("div",{id:"contentList",className:"activity"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"top-nav"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Stories"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 stories"),l.a.createElement("li",null,"2 contributors")))),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"filter-list"},l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Verified"),l.a.createElement(j.a.Check,{label:"Yes"}),l.a.createElement(j.a.Check,{label:"No"})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Price"),l.a.createElement(j.a.Check,{label:"Free"}),l.a.createElement(j.a.Check,{label:"\u20ac"}),l.a.createElement(j.a.Check,{label:"\u20ac\u20ac"}),l.a.createElement(j.a.Check,{label:"\u20ac\u20ac\u20ac"})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Location"),l.a.createElement(j.a.Check,{label:"> 100 km"}),l.a.createElement(j.a.Check,{label:"50 - 100 km"}),l.a.createElement(j.a.Check,{label:"20 - 50 km"}),l.a.createElement(j.a.Check,{label:"< 20 km"})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Category"),l.a.createElement(j.a.Check,{label:"Romantic"}),l.a.createElement(j.a.Check,{label:"Adventure"}),l.a.createElement(j.a.Check,{label:"Gastronomic"}),l.a.createElement(j.a.Check,{label:"Cultural"}),l.a.createElement(j.a.Check,{label:"Winter"}),l.a.createElement(j.a.Check,{label:"Summer"}),l.a.createElement(j.a.Check,{label:"Health & Wellness"})))),l.a.createElement("div",{className:"col center"},d),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"an-wrapper"},l.a.createElement("div",{className:"an-block"})))))))},Ce=function(e){var a={loggedUser:e.user,id:e.match.params.id,bookmarks:[],hasBookmarks:!1},t=Object(n.useState)(a),r=Object(i.a)(t,2),c=r[0],o=r[1],s=new Q;if(Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var a,t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getUserActiveBookmarks();case 2:a=e.sent,t=[],a.map((function(e){return t.push(e)})),n=!!t,o(Object(x.a)(Object(x.a)({},c),{},{bookmarks:t,hasBookmarks:n}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!1===c.hasBookmarks)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(le.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var m,u=c.bookmarks;return console.log(u),m=!0===c.hasBookmarks?u.map((function(e){return e.bookmarkActivityRef?(console.log("activity"),l.a.createElement(ie,{key:e._id,type:e.bookmarkActivityRef.type,id:e.bookmarkActivityRef._id,title:e.bookmarkActivityRef.title,subtitle:e.bookmarkActivityRef.subtitle,image:e.bookmarkActivityRef.images[0],location:"".concat(void 0===e.bookmarkActivityRef.activity_locality?"":e.bookmarkActivityRef.activity_locality," ").concat(void 0===e.bookmarkActivityRef.activity_locality?"":","," ").concat(e.bookmarkActivityRef.activity_province||e.bookmarkActivityRef.activity_state,", ").concat(e.bookmarkActivityRef.activity_country)})):(console.log("hello"),l.a.createElement(ie,{key:e._id,type:e.bookmarkPlaceRef.type,id:e.bookmarkPlaceRef._id,title:e.bookmarkPlaceRef.title,subtitle:e.bookmarkPlaceRef.subtitle,image:e.bookmarkPlaceRef.images[0],location:"".concat(void 0===e.bookmarkPlaceRef.place_locality?"":e.bookmarkPlaceRef.place_locality).concat(void 0===e.bookmarkPlaceRef.place_locality?"":","," ").concat(e.bookmarkPlaceRef.place_province||e.bookmarkPlaceRef.place_state,", ").concat(e.bookmarkPlaceRef.place_country)}))})):l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-bookmarks.svg",alt:"Graphic no bookmarks"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Oh no, this looks so empty.",l.a.createElement("br",null),"Search and bookmark listings to read them",l.a.createElement("br",null)," when you are ready."))),l.a.createElement("div",{id:"bookmarksList"},l.a.createElement(A,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/v1598554049/Getaways.guru/logo_getaways_navbar_tpsd0w.svg",user:e.user}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"box bordered"},l.a.createElement("div",{className:"page-meta"},l.a.createElement("div",{className:"page-header d-flex"},l.a.createElement("h1",{className:"page-title"},"Bookmarks")),l.a.createElement("ul",null,l.a.createElement("li",{className:"page-bookmarks"},l.a.createElement("span",null,c.bookmarks.length)," ",c.bookmarks.length>1?"bookmarks":"bookmark"),l.a.createElement("hr",null),l.a.createElement("li",{className:"page-description"},"Find here your bookmarked activities, places and stories."))))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"content-bar"},m)),l.a.createElement("div",{className:"col right"})))))},_e=function(){return l.a.createElement("div",{id:"404NotFound"},l.a.createElement(f.a,null,l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12},l.a.createElement("h1",null,"Oops! 404 not found"),l.a.createElement(z.b,{to:"/"},"Go home")))))},Oe=function(e){return l.a.createElement("div",null,l.a.createElement("h1",null,"Search"))};var Le=function(){var e,a=Object(s.a)(""),t=Object(i.a)(a,2),r=t[0],c=t[1];r.loggedInUser&&(e=r.loggedInUser);var m={loggedUser:e},u=Object(n.useState)(m),d=Object(i.a)(u,2),p=d[0],h=d[1],g=function(e){console.log("user =>",e),h({loggedUser:e}),c("loggedInUser",e,{expires:7})};return l.a.createElement("div",{className:"app"},l.a.createElement(v,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{exact:!0,path:"/",render:function(e){return l.a.createElement(P,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/signup",render:function(e){return l.a.createElement(q,Object.assign({},e,{user:p.loggedUser,getUserDetails:g}))}}),l.a.createElement(o.b,{exact:!0,path:"/login",render:function(e){return l.a.createElement(V,Object.assign({},e,{user:p.loggedUser,getUserDetails:g}))}}),l.a.createElement(o.b,{exact:!0,path:"/logout",render:function(e){return l.a.createElement(Z,Object.assign({},e,{getUserDetails:g}))}}),l.a.createElement(y,{exact:!0,path:"/feed",user:p.loggedUser,component:X}),l.a.createElement(y,{exact:!0,path:"/activity-composer",user:p.loggedUser,component:ee}),l.a.createElement(y,{exact:!0,path:"/place-composer",user:p.loggedUser,component:Ee}),l.a.createElement(y,{exact:!0,path:"/story-composer",user:p.loggedUser,component:ye}),l.a.createElement(y,{exact:!0,path:"/dashboard",user:p.loggedUser,component:ce}),l.a.createElement(o.b,{exact:!0,path:"/activities",render:function(e){return l.a.createElement(se,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/places",render:function(e){return l.a.createElement(Ne,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/stories",render:function(e){return l.a.createElement(je,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(y,{path:"/activities/:id/edit",user:p.loggedUser,component:ke}),l.a.createElement(y,{path:"/places/:id/edit",user:p.loggedUser,component:we}),l.a.createElement(y,{path:"/stories/:id/edit",user:p.loggedUser,component:xe}),l.a.createElement(o.b,{exact:!0,path:"/activities/:id",render:function(e){return l.a.createElement(ue,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/places/:id",render:function(e){return l.a.createElement(ve,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/stories/:id",render:function(e){return l.a.createElement(fe,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/users/:id",render:function(e){return l.a.createElement(pe,Object.assign({},e,{user:p.loggedUser,getUserDetails:g}))}}),l.a.createElement(o.b,{exact:!0,path:"/users",render:function(e){return l.a.createElement(ge,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(y,{path:"/bookmarks",user:p.loggedUser,component:Ce}),l.a.createElement(o.b,{exact:!0,path:"/search",render:function(e){return l.a.createElement(Oe,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{path:"*",component:_e})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(z.a,null,l.a.createElement(Le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,a,t){e.exports=t.p+"static/media/MADE-Tommy-Soft-Black-PERSONAL-USE.1406dd01.woff"},78:function(e,a,t){e.exports=t.p+"static/media/Inter-Regular.9a9eeddb.otf"},93:function(e,a,t){e.exports=t(127)},98:function(e,a,t){},99:function(e,a,t){}},[[93,1,2]]]);
//# sourceMappingURL=main.21bbdfb4.chunk.js.map