(this.webpackJsonpgetaways=this.webpackJsonpgetaways||[]).push([[0],{127:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(17),r=t.n(c),i=(t(98),t(8)),o=t(14),s=t(141),m=(t(99),t(100),t(76)),u=t(79),d=t(77),p=t.n(d),h=t(78),g=t.n(h);function v(){var e=Object(m.a)(["\n@font-face {\n    font-family: 'MADE';\n    src: url(",") format('truetype');\n    font-weight: bold;\n    font-style: normal;\n    font-display: auto;\n}\n\n@font-face {\n    font-family: 'INTER';\n    src: url(",") format('truetype');\n    font-weight: regular;\n    font-style: normal;\n    font-display: auto;\n}"]);return v=function(){return e},e}var E=Object(u.a)(v(),p.a,g.a),b=t(91),y=function(e){var a=e.component,t=e.user,n=Object(b.a)(e,["component","user"]);return l.a.createElement(o.b,Object.assign({},n,{render:function(e){return null!==t?l.a.createElement(a,Object.assign({},e,{user:t})):l.a.createElement(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},f=t(133),k=t(134),w=t(83),x=t(1),N=t(138),C=t(139),_=t(85),j=t(25),O=t.n(j),L=function(){var e,a={location:void 0,hasLocation:!1,queryLocation:"",queryPlaceType:[],queryActivityCategory:[],queryPlaceCategory:[],activeTab:"activities",isSubmittable:!1},t=Object(n.useState)(a),c=Object(i.a)(t,2),r=c[0],s=c[1],m=Object(o.g)(),u=function(e){"activities"===e.target.id?s(Object(x.a)(Object(x.a)({},r),{},{queryPlaceType:[],queryPlaceCategory:[],activeTab:"activities"})):s(Object(x.a)(Object(x.a)({},r),{},{queryActivityCategory:[],activeTab:"places"}))},d=function(e){var a=r.queryActivityCategory;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}s(Object(x.a)(Object(x.a)({},r),{},{queryActivityCategory:a}))},p=function(e){var a=r.queryPlaceCategory;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}s(Object(x.a)(Object(x.a)({},r),{},{queryPlaceCategory:a}))},h=function(e){var a=r.queryPlaceType;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}s(Object(x.a)(Object(x.a)({},r),{},{queryPlaceType:a}))};Object(n.useEffect)((function(){r.hasLocation&&s(Object(x.a)(Object(x.a)({},r),{},{isSubmittable:!0}))}),[r.hasLocation]),e=!r.isSubmittable;var g,v,E,b,y=function(e){e.preventDefault(),"activities"===r.activeTab?r.queryActivityCategory.length>0?m.push("/search?activityLocation=".concat(r.queryLocation,"&").concat(r.queryActivityCategory)):m.push("/search?activityLocation=".concat(r.queryLocation)):"places"===r.activeTab&&(r.queryPlaceType.length>0&&r.queryPlaceCategory.length>0?m.push("/search?placeLocation=".concat(r.queryLocation,"&").concat(r.queryPlaceType,"&").concat(r.queryPlaceCategory)):r.queryPlaceType.length>0?m.push("/search?placeLocation=".concat(r.queryLocation,"&").concat(r.queryPlaceType)):r.queryPlaceCategory.length>0?m.push("/search?placeLocation=".concat(r.queryLocation,"&").concat(r.queryPlaceCategory)):m.push("/search?placeLocation=".concat(r.queryLocation)))};if("activities"===r.activeTab)if(r.queryActivityCategory.length>0){var f=[];r.queryActivityCategory.forEach((function(e,a){return 0===a?f.push(e.slice(17)):f.push(e)})),g=f.map((function(e,a){return l.a.createElement("span",{key:a,className:"search-tag"},e)}))}else g="Select categories to filter";else if(r.queryPlaceCategory.length>0){var k=[];r.queryPlaceCategory.forEach((function(e,a){return 0===a?k.push(e.slice(14)):k.push(e)})),g=k.map((function(e,a){return l.a.createElement("span",{key:a,className:"search-tag"},e)}))}else g="Select categories to filter";if(r.queryPlaceType.length>0){var w=[];r.queryPlaceType.forEach((function(e,a){return 0===a?w.push(e.slice(10)):w.push(e)})),v=w.map((function(e,a){return l.a.createElement("span",{key:a,className:"search-tag"},e)}))}else v="Select types to filter";return E=r.location||r.location?r.location.activity_full_address||r.location.place_full_address:void 0,b="activities"===r.activeTab?l.a.createElement(N.a,{key:1,className:"header-form d-flex align-items-center"},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,{className:"input-label"},"Location"),l.a.createElement(O.a,{className:"location-control form-control",apiKey:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&",style:{width:"100%"},defaultValue:E,onPlaceSelected:function(e){var a,t,n,l,c,i;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(c=e.long_name)}));var o=[];[t,n,l,c].forEach((function(e){void 0!==e&&o.push(e),i=o[0]})),s(Object(x.a)(Object(x.a)({},r),{},{location:{activity_full_address:a,activity_locality:t,activity_province:n,activity_state:l,activity_country:c},hasLocation:!0,queryLocation:i}))},types:[],placeholder:"Type to select where to escape",fields:["address_components","formatted_address"]})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,{className:"input-label"},"Category"),l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"none",id:"dropdownCategories"},l.a.createElement("div",{className:"form-control"},g)),l.a.createElement(C.a.Menu,{className:"pac-container"},l.a.createElement(N.a.Check,{label:"Romantic",name:"activityCategory",id:"romantic",className:"pac-item",onClick:d}),l.a.createElement(N.a.Check,{label:"Adventure",name:"activityCategory",id:"adventure",className:"pac-item",onClick:d}),l.a.createElement(N.a.Check,{label:"Gastronomic",name:"activityCategory",id:"gastronomic",className:"pac-item",onClick:d}),l.a.createElement(N.a.Check,{label:"Cultural",name:"activityCategory",id:"cultural",className:"pac-item",onClick:d}),l.a.createElement(N.a.Check,{label:"Relax",name:"activityCategory",id:"relax",className:"pac-item",onClick:d})))),l.a.createElement(N.a.Group,{className:"header-form---submit"},l.a.createElement(_.a,{disabled:e,className:"button-submit",type:"submit",onClick:y},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"10",cy:"10",r:"7"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"15",y2:"15"})),"Search"))):l.a.createElement(N.a,{key:2,className:"header-form d-flex align-items-center places"},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,{className:"input-label"},"Location"),l.a.createElement(O.a,{className:"location-control form-control",apiKey:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&",style:{width:"100%"},defaultValue:E,onPlaceSelected:function(e){var a,t,n,l,c,i;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(c=e.long_name)}));var o=[];[t,n,l,c].forEach((function(e){void 0!==e&&o.push(e),i=o[0]})),s(Object(x.a)(Object(x.a)({},r),{},{location:{place_full_address:a,place_locality:t,place_province:n,place_state:l,place_country:c},hasLocation:!0,queryLocation:i}))},types:[],placeholder:"Type to select where to escape",fields:["address_components","formatted_address"]})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,{className:"input-label"},"Type"),l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"none",id:"dropdownTypes"},l.a.createElement("div",{className:"form-control"},v)),l.a.createElement(C.a.Menu,{className:"pac-container"},l.a.createElement(N.a.Check,{label:"Hotel",name:"placeType",id:"hotel",className:"pac-item",onClick:h}),l.a.createElement(N.a.Check,{label:"Apartment",name:"placeType",id:"apartment",className:"pac-item",onClick:h}),l.a.createElement(N.a.Check,{label:"Cabin",name:"placeType",id:"cabin",className:"pac-item",onClick:h}),l.a.createElement(N.a.Check,{label:"Treehouse",name:"placeType",id:"treehouse",className:"pac-item",onClick:h}),l.a.createElement(N.a.Check,{label:"Ruralhouse",name:"placeType",id:"ruralhouse",className:"pac-item",onClick:h}),l.a.createElement(N.a.Check,{label:"Trailer",name:"placeType",id:"trailer",className:"pac-item",onClick:h})))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,{className:"input-label"},"Category"),l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"none",id:"dropdownCategories"},l.a.createElement("div",{className:"form-control"},g)),l.a.createElement(C.a.Menu,{className:"pac-container"},l.a.createElement(N.a.Check,{label:"Romantic",name:"placeCategory",id:"romantic",className:"pac-item",onClick:p}),l.a.createElement(N.a.Check,{label:"Adventure",name:"placeCategory",id:"adventure",className:"pac-item",onClick:p}),l.a.createElement(N.a.Check,{label:"Gastronomic",name:"placeCategory",id:"gastronomic",className:"pac-item",onClick:p}),l.a.createElement(N.a.Check,{label:"Cultural",name:"placeCategory",id:"cultural",className:"pac-item",onClick:p}),l.a.createElement(N.a.Check,{label:"Relax",name:"placeCategory",id:"relax",className:"pac-item",onClick:p})))),l.a.createElement(N.a.Group,{className:"header-form---submit"},l.a.createElement(_.a,{disabled:e,className:"button-submit",type:"submit",onClick:y},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"10",cy:"10",r:"7"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"15",y2:"15"})),"Search"))),l.a.createElement("div",{className:"search-form"},l.a.createElement("div",{className:"tab-bar"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(_.a,{className:"activities"===r.activeTab?"active":null,variant:"none",id:"activities",onClick:u},"Activities")),l.a.createElement("li",null,l.a.createElement(_.a,{className:"places"===r.activeTab?"active":null,variant:"none",id:"places",onClick:u},"Places")))),b)},M=function(e){var a=e.background_url,t=e.title,n=e.subtitle;return l.a.createElement("section",{id:"hero",style:{background:"linear-gradient(rgba(46,105,228,.2), rgba(46,105,228,.3)),url('".concat(a,"')")}},l.a.createElement(f.a,{className:"mw-1200"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12},l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"header-col left"},l.a.createElement("h1",{className:"header-title"},t),l.a.createElement("p",{className:"header-subtitle"},n),l.a.createElement(L,null))))),l.a.createElement("div",{className:"header-indicator d-flex align-items-center"})))},S=t(140),T=t(142),A=function(e){var a=void 0;return void 0===e.user&&(a=l.a.createElement("div",{className:"content-bar"},l.a.createElement(f.a,{fluid:!0},l.a.createElement("div",{className:"content-bar---wrapper d-flex align-items-center"},l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 20l-7 -7a4 4 0 0 1 6.5 -6a.9 .9 0 0 0 1 0a4 4 0 0 1 6.5 6l-7 7"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Romantic",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-directions",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 5h10l2 2l-2 2h-10a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),l.a.createElement("path",{d:"M13 13h-7l-2 2l2 2h7a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1"}),l.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"17"}),l.a.createElement("line",{x1:"12",y1:"13",x2:"12",y2:"9"}),l.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"3"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Adventure",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-droplet",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 3l5 5a7 7 0 1 1 -10 0l5 -5"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Relax",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-glass",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"21"}),l.a.createElement("path",{d:"M16 4l1 6a5 5 0 0 1 -10 0l1 -6z"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Gastronomic",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-snowflake",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(60 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(120 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(180 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(240 12 12)"}),l.a.createElement("path",{d:"M10 4l2 1l2 -1m-2 -2v6.5l3 1.72",transform:"rotate(300 12 12)"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Winter",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-sun",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M3 12h1M12 3v1M20 12h1M12 20v1M5.6 5.6l.7 .7M18.4 5.6l-.7 .7M17.7 17.7l.7 .7M6.3 17.7l-.7 .7"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Summer",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-car",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"7",cy:"17",r:"2"}),l.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),l.a.createElement("path",{d:"M5 17h-2v-6l2-5h9l4 5h1a2 2 0 0 1 2 2v4h-2m-4 0h-6m-6 -6h15m-6 0v-5"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Weekend",l.a.createElement("br",null),"Getaways"))),l.a.createElement("div",{className:"content-bar---item"},l.a.createElement("div",{className:"content-bar---col left"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-building-bridge",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"6",y1:"5",x2:"6",y2:"19"}),l.a.createElement("line",{x1:"18",y1:"5",x2:"18",y2:"19"}),l.a.createElement("line",{x1:"2",y1:"15",x2:"22",y2:"15"}),l.a.createElement("path",{d:"M3 8a7.5 7.5 0 0 0 3 -2a6.5 6.5 0 0 0 12 0a7.5 7.5 0 0 0 3 2"}),l.a.createElement("line",{x1:"12",y1:"10",x2:"12",y2:"15"}))),l.a.createElement("div",{className:"content-bar---col right"},l.a.createElement("p",null,"Cultural",l.a.createElement("br",null),"Getaways"))))))),l.a.createElement("div",null,a)},B=function(e){var a=Object(n.useState)({searchQuery:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=e.logo_url,m=e.user,u=e.path,d=Object(o.g)(),p="null"!==m&&m?void 0:{boxShadow:"none",borderBottom:"1px solid #e8e8e8"},h="null"!==m&&m&&void 0!==m?"/feed":"/",g=void 0;return g=m&&"null"!==m?l.a.createElement(S.a,{className:"logged-user"},l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"none",id:"dropdown-basic"},l.a.createElement("div",{className:"avatar avatar-nav"},l.a.createElement("img",{src:m.avatar,alt:m.fullName})),l.a.createElement("div",{className:"user-meta"},m.fullName,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("polyline",{points:"6 9 12 15 18 9"})))),l.a.createElement(C.a.Menu,null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(S.a.Link,{href:"/dashboard"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-list",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),l.a.createElement("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})),"Dashboard")),l.a.createElement("li",null,l.a.createElement(S.a.Link,{href:"/users/".concat(m._id)},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-user",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"7",r:"4"}),l.a.createElement("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})),"See your profile")),l.a.createElement("li",null,l.a.createElement(S.a.Link,{href:"/bookmarks"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))," ","Bookmarks")),l.a.createElement("li",null,l.a.createElement(S.a.Link,{href:"/logout"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-power",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 6a7.75 7.75 0 1 0 10 0"}),l.a.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"12"}))," ","Logout")))))):l.a.createElement(S.a,null,l.a.createElement(S.a.Link,{href:"/login"},"Log in"),l.a.createElement(S.a.Link,{href:"/signup",className:"btn signup"},"Sign up")),"/activity-composer"===u||"/place-composer"===u||"/story-composer"===u?l.a.createElement("header",{style:p},l.a.createElement(T.a,null,l.a.createElement(f.a,{fluid:!0,className:"align-items-center"},l.a.createElement("div",{className:"nav-col left d-flex"},l.a.createElement(T.a.Brand,{href:h},l.a.createElement("img",{src:s,alt:"Logo Getaways.guru"}))),l.a.createElement("div",{className:"nav-col right d-flex"},g))),l.a.createElement(A,{user:m})):"/signup/complete-account"===u?l.a.createElement("header",{style:p},l.a.createElement(T.a,null,l.a.createElement(f.a,{fluid:!0,className:"align-items-center"},l.a.createElement("div",{className:"nav-col left d-flex"},l.a.createElement(T.a.Brand,null,l.a.createElement("img",{src:s,alt:"Logo Getaways.guru"}))),l.a.createElement("div",{className:"nav-col right d-flex"},l.a.createElement(S.a,{className:"logged-user"},l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"none",id:"dropdown-basic"},l.a.createElement("div",{className:"avatar avatar-nav"},l.a.createElement("img",{src:m.avatar,alt:m.fullName})),l.a.createElement("div",{className:"user-meta"},m.fullName,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("polyline",{points:"6 9 12 15 18 9"})))),l.a.createElement(C.a.Menu,null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(S.a.Link,{href:"/logout"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-power",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 6a7.75 7.75 0 1 0 10 0"}),l.a.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"12"}))," ","Logout"))))))))),l.a.createElement(A,{user:m})):l.a.createElement("header",{style:p},l.a.createElement(T.a,null,l.a.createElement(f.a,{fluid:!0,className:"align-items-center"},l.a.createElement("div",{className:"nav-col left d-flex"},l.a.createElement(T.a.Brand,{href:h},l.a.createElement("img",{src:s,alt:"Logo Getaways.guru"})),l.a.createElement(S.a,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"10",cy:"10",r:"7"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"15",y2:"15"})),l.a.createElement(N.a,null,l.a.createElement(N.a.Control,{onKeyDown:function(e){var a=e.target.value;r(Object(x.a)(Object(x.a)({},c),{},{searchQuery:a})),13===e.keyCode&&(e.preventDefault(),d.push("/search?query=".concat(a)))},type:"text",placeholder:"Search your next getaway..."}),l.a.createElement("span",{className:"search-helper"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-corner-down-left",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M18 6v6a3 3 0 0 1 -3 3h-10l5 -5m0 10l-5 -5"})),"Press enter to search")))),l.a.createElement("div",{className:"nav-col right d-flex"},l.a.createElement(S.a,null,l.a.createElement(S.a.Link,{href:"/activities"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),"Activities"),l.a.createElement(S.a.Link,{href:"/places"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bed",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M3 7v11m0 -4h18m0 4v-8a2 2 0 0 0 -2 -2h-8v6"}),l.a.createElement("circle",{cx:"7",cy:"10",r:"1"})),"Places"),l.a.createElement(S.a.Link,{href:"/stories"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-notebook",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18"}),l.a.createElement("line",{x1:"13",y1:"8",x2:"15",y2:"8"}),l.a.createElement("line",{x1:"13",y1:"12",x2:"15",y2:"12"})),"Stories")),g))),l.a.createElement(A,{user:m}))},P=t(6),D=function(e){var a=e.logo_url,t=new Date;return t=t.getFullYear(),l.a.createElement("section",{id:"footer"},l.a.createElement(f.a,{className:"mw-1200"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:4},l.a.createElement("div",{className:"footer-intro"},l.a.createElement("img",{src:a,alt:"Getawaysy.guru logo",className:"footer-logo"}),l.a.createElement("span",null,"Getaways.guru is the community to search, find and bookmark your next perfect getaway near Barcelona. Join now to connect with local travellers."),l.a.createElement("span",{className:"footer-copyright-timestamp"},"Copyright \xa9 ",t,". All rights reserved. ",l.a.createElement("br",null),"Designed and coded with"," ",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{fill:"red",stroke:"none",d:"M12 20l-7 -7a4 4 0 0 1 6.5 -6a.9 .9 0 0 0 1 0a4 4 0 0 1 6.5 6l-7 7"})),"by"," ",l.a.createElement("a",{href:"https://github.com/juliramon",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("u",null,"Juli Ramon"))," ","in Barcelona."))),l.a.createElement(w.a,{lg:2}),l.a.createElement(w.a,{lg:2},l.a.createElement("div",{className:"footer-about"},l.a.createElement("h4",{className:"footer-header"},"About"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(P.b,{to:"#"},"About Us")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"#"},"Our Journal"))))),l.a.createElement(w.a,{lg:2},l.a.createElement("div",{className:"footer-support"},l.a.createElement("h4",{className:"footer-header"},"Support"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(P.b,{to:"#"},"Privacy Policy")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"#"},"Terms of Use")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"#"},"General Conditions")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"#"},"Cookies Policy")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"#"},"Security Statement"))))),l.a.createElement(w.a,{lg:2},l.a.createElement("div",{className:"footer-connect"},l.a.createElement("h4",{className:"footer-header"},"Connect"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(P.b,{to:"https://github.com/juliramon"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-github",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 19c-4.286 1.35-4.286-2.55-6-3m12 5v-3.5c0-1 .099-1.405-.5-2 2.791-.3 5.5-1.366 5.5-6.04a4.567 4.567 0 0 0 -1.333 -3.21a4.192 4.192 0 0 0 -.08 -3.227s-1.05-.3-3.476 1.267a12.334 12.334 0 0 0 -6.222 0C6.462 2.723 5.413 3.023 5.413 3.023a4.192 4.192 0 0 0 -.08 3.227A4.566 4.566 0 0 0 4 9.486c0 4.64 2.709 5.68 5.5 6.014-.591.589-.56 1.183-.5 2V21"})),"Github")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"https://www.linkedin.com/in/juliramon/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-linkedin",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"8",y1:"11",x2:"8",y2:"16"}),l.a.createElement("line",{x1:"8",y1:"8",x2:"8",y2:"8.01"}),l.a.createElement("path",{d:"M12 16v-5"}),l.a.createElement("path",{d:"M16 16v-3a2 2 0 0 0 -4 0"})),"LinkedIn")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"https://twitter.com/juligoodie"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-twitter",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84 0 0 0 .497 -3.753C20.18 7.773 21.692 5.25 22 4.009z"})),"Twitter")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"hello@getaways.guru"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"})),"E-mail"))))))))},G=t(9),R=t.n(G),U=t(13),z=t(59),F=t(67).default,H=function e(){var a=this;Object(z.a)(this,e),this.activity=function(e,t,n,l,c,r,i,o,s,m,u,d,p,h,g,v,E,b,y,f,k,w){return a.service.post("/activity",{type:e,title:t,subtitle:n,categories:l,seasons:c,region:r,image:i,description:o,phone:s,website:m,activity_full_address:u,activity_locality:d,activity_province:p,activity_state:h,activity_country:g,activity_lat:v,activity_lng:E,activity_rating:b,activity_place_id:y,activity_opening_hours:f,duration:k,price:w}).then((function(e){return e.data}))},this.activities=function(){return a.service.get("/activities").then((function(e){return e.data}))},this.userActivities=function(e){return a.service.get("/users/".concat(e,"/activities")).then((function(e){return e.data}))},this.activityDetails=function(e){return a.service.get("/activities/".concat(e)).then((function(e){return e.data}))},this.removeActivity=function(e){return a.service.put("/activities/".concat(e),{isRemoved:!0}).then((function(e){return e.data}))},this.editActivity=function(e,t,n,l,c,r,i,o,s,m,u,d,p,h,g,v,E,b,y,f,k,w){return a.service.put("/activities/".concat(e),{title:t,subtitle:n,categories:l,seasons:c,region:r,images:i,description:o,phone:s,website:m,activity_full_address:u,activity_locality:d,activity_province:p,activity_state:h,activity_country:g,activity_lat:v,activity_lng:E,activity_rating:b,activity_place_id:y,activity_opening_hours:f,duration:k,price:w})},this.uploadFile=function(e){return a.service.post("/upload",e).then((function(e){return e.data}))},this.getUserProfile=function(e){return a.service.get("/users/".concat(e)).then((function(e){return e.data}))},this.editProfile=function(e,t,n,l,c,r){return a.service.put("/users/".concat(e),{avatar:t,fullName:n,username:l,bio:c,location:r})},this.editUserCover=function(e,t){return a.service.put("/users/".concat(e),{cover:t})},this.getAllUsers=function(){return a.service.get("/users").then((function(e){return e.data}))},this.place=function(e,t,n,l,c,r,i,o,s,m,u,d,p,h,g,v,E,b,y,f,k,w){return a.service.post("/place",{type:e,title:t,subtitle:n,categories:l,seasons:c,region:r,placeType:i,image:o,description:s,phone:m,website:u,place_full_address:d,place_locality:p,place_province:h,place_state:g,place_country:v,place_lat:E,place_lng:b,place_rating:y,place_id:f,place_opening_hours:k,price:w}).then((function(e){return e.data}))},this.getAllPlaces=function(){return a.service.get("/places").then((function(e){return e.data}))},this.getPlaceDetails=function(e){return a.service.get("/places/".concat(e)).then((function(e){return e.data}))},this.removePlace=function(e){return a.service.put("/places/".concat(e),{isRemoved:!0}).then((function(e){return e.data}))},this.editPlace=function(e,t,n,l,c,r,i,o,s,m,u,d,p,h,g,v,E,b,y,f,k,w){return a.service.put("/places/".concat(e),{title:t,subtitle:n,categories:l,seasons:c,region:r,placeType:i,images:o,description:s,phone:m,website:u,place_full_address:d,place_locality:p,place_province:h,place_state:g,place_country:v,place_lat:E,place_lng:b,place_rating:y,place_place_id:f,place_opening_hours:k,price:w})},this.getUserPlaces=function(e){return a.service.get("/users/".concat(e,"/places")).then((function(e){return e.data}))},this.story=function(e,t,n,l,c){return a.service.post("/story",{type:e,title:t,subtitle:n,image:l,description:c}).then((function(e){return e.data}))},this.getAllStories=function(){return a.service.get("/stories").then((function(e){return e.data}))},this.getStoryDetails=function(e){return a.service.get("/stories/".concat(e)).then((function(e){return e.data}))},this.getUserStories=function(e){return a.service.get("/users/".concat(e,"/stories")).then((function(e){return e.data}))},this.editStory=function(e,t,n,l,c,r){return a.service.put("/stories/".concat(e),{title:t,subtitle:n,description:l,location:c,status:r})},this.removeStory=function(e){return a.service.delete("/stories/".concat(e)).then((function(e){return e.data}))},this.bookmark=function(e,t){return a.service.post("/bookmark",{listingId:e,listingType:t}).then((function(e){return e.data}))},this.getUserActiveBookmarks=function(){return a.service.get("/activebookmarks").then((function(e){return e.data}))},this.getUserAllBookmarks=function(){return a.service.get("/bookmarks").then((function(e){return e.data}))},this.searchPlaces=function(e,t,n,l){return a.service.get("/searchPlaces?".concat(e,"&").concat(t,"&").concat(n,"&").concat(l)).then((function(e){return e.data}))},this.searchActivities=function(e,t,n){return a.service.get("/searchActivities?".concat(e,"&").concat(t,"&").concat(n)).then((function(e){return e.data}))},this.searchBarQuery=function(e){return a.service.get("/searchQuery".concat(e)).then((function(e){return e.data}))},this.getUserCustomActivities=function(){return a.service.get("/searchUserCustomActivities").then((function(e){return e.data}))},this.getUserCustomPlaces=function(){return a.service.get("/searchUserCustomPlaces").then((function(e){return e.data}))};var t=F.create({baseURL:"".concat("https://getaways-guru.herokuapp.com/api"),withCredentials:!0});this.service=t},W=function(e){var a,t=e.id,n=e.type,c=e.cover_url,r=e.title,i=e.subtitle,o=e.rating,s=e.location,m=i.slice(0,70);return"activity"===n?a="activities":"place"===n&&(a="places"),l.a.createElement("div",{id:"listingSquareBox"},l.a.createElement(P.b,{to:"/".concat(a,"/").concat(t)},l.a.createElement("div",{className:"listing-box-wrapper"},l.a.createElement("div",{className:"listing-cover",style:{backgroundImage:"url('".concat(c,"')")}}),l.a.createElement("div",{className:"listing-rating-wrapper"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-star",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{fill:"#abc3f4",stroke:"none",d:"M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z"})),l.a.createElement("span",{className:"listing-rating"},o)),l.a.createElement("h3",{className:"listing-title"},r),l.a.createElement("p",{className:"listing-subtitle"},m,"..."),s)))},q=function(){var e,a,t,c=Object(n.useState)({isFetching:!1,romanticGetaways:[],popularRegions:[],adventureGetaways:[],mostRatedGetaways:[],gastronomicGetaways:[]}),r=Object(i.a)(c,2),o=r[0],s=r[1],m=new H;if(Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a,t,n,l,c,r,i,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(x.a)(Object(x.a)({},o),{},{isFetching:!0})),e.next=3,m.activities();case 3:return a=e.sent,e.next=6,m.getAllPlaces();case 6:t=e.sent,n=[],a.length>0&&a.forEach((function(e){return n.push(e)})),t.length>0&&t.forEach((function(e){return n.push(e)})),(l=n.length>0)&&(c=[],r=[],i=[],u=[],n.forEach((function(e){e.categories.includes("adventure")&&r.push(e),e.categories.includes("romantic")&&c.push(e),e.categories.includes("gastronomic")&&i.push(e),(e.activity_rating>4||e.place_rating>4)&&u.push(e)})),s(Object(x.a)(Object(x.a)({},o),{},{romanticGetaways:c,adventureGetaways:r,gastronomicGetaways:i,mostRatedGetaways:u,isFetching:l})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o.romanticGetaways.length>0){var u=o.romanticGetaways.map((function(e){var a;return"activity"===e.type&&(a=l.a.createElement("span",{className:"listing-location"},"".concat(void 0===e.activity_locality?"":e.activity_locality).concat(void 0===e.activity_locality?"":","," ").concat(e.activity_province||e.activity_state,", ").concat(e.activity_country))),"place"===e.type&&(a=l.a.createElement("span",{className:"listing-location"},"".concat(void 0===e.place_locality?"":e.place_locality).concat(void 0===e.place_locality?"":","," ").concat(e.place_province||e.place_state,", ").concat(e.place_country))),l.a.createElement(W,{key:e._id,id:e._id,type:e.type,cover_url:e.images[0],title:e.title,subtitle:e.subtitle,rating:e.activity_rating||e.place_rating,location:a})}));e=l.a.createElement("section",{className:"homepage-section"},l.a.createElement("h2",{className:"homepage-section-title"},"Best romantic getaways"),l.a.createElement("div",{className:"section-listings"},l.a.createElement("div",{className:"section-listings-wrapper"},u)))}if(o.adventureGetaways.length>0){var d=o.adventureGetaways.map((function(e){var a;return"activity"===e.type&&(a=l.a.createElement("span",{className:"listing-location"},"".concat(void 0===e.activity_locality?"":e.activity_locality).concat(void 0===e.activity_locality?"":","," ").concat(e.activity_province||e.activity_state,", ").concat(e.activity_country))),"place"===e.type&&(a=l.a.createElement("span",{className:"listing-location"},"".concat(void 0===e.place_locality?"":e.place_locality).concat(void 0===e.place_locality?"":","," ").concat(e.place_province||e.place_state,", ").concat(e.place_country))),l.a.createElement(W,{key:e._id,id:e._id,type:e.type,cover_url:e.images[0],title:e.title,subtitle:e.subtitle,rating:e.activity_rating||e.place_rating,location:a})}));a=l.a.createElement("section",{className:"homepage-section"},l.a.createElement("h2",{className:"homepage-section-title"},"Adventure is calling"),l.a.createElement("div",{className:"section-listings"},l.a.createElement("div",{className:"section-listings-wrapper"},d)))}if(o.gastronomicGetaways.length>0){var p=o.gastronomicGetaways.map((function(e){var a;return"activity"===e.type&&(a=l.a.createElement("span",{className:"listing-location"},"".concat(void 0===e.activity_locality?"":e.activity_locality).concat(void 0===e.activity_locality?"":","," ").concat(e.activity_province||e.activity_state,", ").concat(e.activity_country))),"place"===e.type&&(a=l.a.createElement("span",{className:"listing-location"},"".concat(void 0===e.place_locality?"":e.place_locality).concat(void 0===e.place_locality?"":","," ").concat(e.place_province||e.place_state,", ").concat(e.place_country))),l.a.createElement(W,{key:e._id,id:e._id,type:e.type,cover_url:e.images[0],title:e.title,subtitle:e.subtitle,rating:e.activity_rating||e.place_rating,location:a})}));t=l.a.createElement("section",{className:"homepage-section"},l.a.createElement("h2",{className:"homepage-section-title"},"Best gastronomic getaways"),l.a.createElement("div",{className:"section-listings"},l.a.createElement("div",{className:"section-listings-wrapper"},p)))}return l.a.createElement("div",{id:"homePageResults"},l.a.createElement(f.a,{className:"mw-1200"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12},e,a,t))))},I=function(e){var a=Object(n.useState)("perfect"),t=Object(i.a)(a,2),c=t[0],r=t[1],o=["weekend","romantic","gastronomic","adventure","relax","cultural","winter","summer"];Object(n.useEffect)((function(){var e=setInterval((function(){var e=o[Math.floor(o.length*Math.random())];r(e)}),3500);return function(){return clearInterval(e)}}));var s=l.a.createElement(l.a.Fragment,null,"Your next ",c," getaway",l.a.createElement("br",null)," near Barcelona starts here"),m=l.a.createElement(l.a.Fragment,null,"Search, find and bookmark thousands",l.a.createElement("br",null)," of verified getaways from local travellers");return l.a.createElement("div",{id:"homepage"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg"}),l.a.createElement(M,{background_url:"../jumbotron-bg.jpg",title:s,subtitle:m}),l.a.createElement(q,null),l.a.createElement(D,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg"}))},V=t(12),Z=t(135),Y=t(67).default,K=function e(){var a=this;Object(z.a)(this,e),this.signup=function(e,t,n){return a.service.post("/auth/signup",{fullName:e,email:t,password:n}).then((function(){return void 0===a.error?a.response:a.error}))},this.completeAccount=function(e,t,n,l,c){return a.service.put("/auth/complete-account",{accountCompleted:e,typesToFollow:t,categoriesToFollow:n,regionsToFollow:l,seasonsToFollow:c})},this.login=function(e,t){return a.service.post("/auth/login",{username:e,password:t}).then((function(){return void 0===a.error?a.response:a.error}))},this.logout=function(){return a.service.post("/auth/logout",{}).then((function(e){return e.data}))},this.googleAuth=function(e,t,n){return a.service.post("/auth/googlesignup",{fullName:e,email:t,imageUrl:n}).then((function(){return void 0===a.error?a.response:a.error}))};var t=Y.create({baseURL:"".concat("https://getaways-guru.herokuapp.com/api"),withCredentials:!0});t.interceptors.response.use((function(e){return a.response=e.data}),(function(e){if(!(e.response.status>=400&&e.response.status<=500))return Promise.reject(e);a.error={message:e.response.data.message,status:e.response.status}})),this.service=t,this.error=void 0,this.response=void 0},Q=t(86),X=t.n(Q),J=function(e){var a=Object(o.g)();e.user&&"null"!==e.user&&a.push("/feed");var t,c={formData:{fullName:"",email:"",password:""},errorMessage:{},googleResponse:{received:!1,data:{}}},r=Object(n.useState)(c),s=Object(i.a)(r,2),m=s[0],u=s[1],d=new K,p=function(e){u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},Object(V.a)({},e.target.name,e.target.value))}))},h=function(e){u(Object(x.a)(Object(x.a)({},m),{},{googleResponse:{received:!0,data:e.profileObj}}))};return Object(n.useEffect)((function(){m.googleResponse.received&&function(){if(m.googleResponse.data){var t=m.googleResponse.data,n=t.name,l=t.email,r=t.imageUrl;d.googleAuth(n,l,r).then((function(t){t.status?u(Object(x.a)(Object(x.a)({},m),{},{errorMessage:t,googleResponse:Object(x.a)(Object(x.a)({},m.googleResponse),{},{received:!1})})):(u(c),e.getUserDetails(t),a.push("/feed"))}))}}()})),m.errorMessage.message?"Please provide fullname, email and password"===m.errorMessage.message?t=l.a.createElement(Z.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shield-x",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"}),l.a.createElement("path",{d:"M10 10l4 4m0 -4l-4 4"})),m.errorMessage.message):"Please provide a stronger password of at least 8 alphanumeric characters"===m.errorMessage.message?t=l.a.createElement(Z.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-key",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"8",cy:"15",r:"4"}),l.a.createElement("line",{x1:"10.85",y1:"12.15",x2:"19",y2:"4"}),l.a.createElement("line",{x1:"18",y1:"5",x2:"20",y2:"7"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"17",y2:"10"})),m.errorMessage.message):"Email already exists. Choose another one"===m.errorMessage.message&&(t=l.a.createElement(Z.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"})),m.errorMessage.message)):t=null,l.a.createElement("section",{id:"signup"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"signup-col left"},l.a.createElement("div",{className:"title-area"},l.a.createElement(P.b,{to:"/"},l.a.createElement("img",{src:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",alt:""})),l.a.createElement("h2",null,"Discover the world's top getaways and places to escape to.")),l.a.createElement("div",{className:"graphic"},l.a.createElement("img",{src:"../../signup-graphic.svg",alt:""}))),l.a.createElement("div",{className:"signup-col right"},l.a.createElement("div",{className:"signup-col-wrapper right"},l.a.createElement("div",{className:"navlink"},"Already have an account? ",l.a.createElement(P.b,{to:"/login"},"Log in")),l.a.createElement("div",{className:"title-area"},l.a.createElement("h1",null,"Sign up to Getaways.guru"),l.a.createElement("p",{className:"sub-h1"},"Create an account to easily search, find and book your next perfect getaways.")),l.a.createElement("div",{className:"social-signup d-flex align-items-center"},l.a.createElement(X.a,{clientId:"1001464092709-hi8kknnaqhokalsior0s2kukhtupa7a8.apps.googleusercontent.com",render:function(e){return l.a.createElement("button",{type:"submit",className:"btn google",onClick:e.onClick,disabled:e.disabled},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-google",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M17.788 5.108A9 9 0 1021 12h-8"})),"Sign up with Google")},buttonText:"Sign up with Google",onSuccess:h,onFailure:h,cookiePolicy:"single_host_origin"}),l.a.createElement("button",{type:"submit",className:"btn facebook"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-facebook",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"none",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",style:{fill:"#173572"}})))),l.a.createElement(N.a,{onSubmit:function(t){t.preventDefault();var n=m.formData,l=n.fullName,r=n.email,i=n.password;d.signup(l,r,i).then((function(t){t.status?u(Object(x.a)(Object(x.a)({},m),{},{errorMessage:t})):(u(c),e.getUserDetails(t),a.push("/signup/complete-account"))}))}},t,l.a.createElement("div",{className:"d-flex"},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Name"),l.a.createElement(N.a.Control,{type:"text",name:"fullName",onChange:p,placeholder:"Enter your full name"}))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Email"),l.a.createElement(N.a.Control,{type:"email",name:"email",onChange:p,placeholder:"Enter your email address"})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Password"),l.a.createElement(N.a.Control,{type:"password",name:"password",onChange:p,placeholder:"6+ characters"})),l.a.createElement(_.a,{type:"submit"},"Create account"))))))},$=function(e){var a=Object(o.g)();e.user&&"null"!==e.user&&a.push("/feed");var t,c={formData:{email:"",password:""},errorMessage:{}},r=Object(n.useState)(c),s=Object(i.a)(r,2),m=s[0],u=s[1],d=new K,p=function(e){u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},Object(V.a)({},e.target.name,e.target.value))}))};return m.errorMessage.message?"Missing credentials"===m.errorMessage.message?t=l.a.createElement(Z.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shield-x",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"}),l.a.createElement("path",{d:"M10 10l4 4m0 -4l-4 4"})),m.errorMessage.message):"Incorrect email"===m.errorMessage.message?t=l.a.createElement(Z.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"})),m.errorMessage.message):"Incorrect password"===m.errorMessage.message&&(t=l.a.createElement(Z.a,{variant:"danger"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-key",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"8",cy:"15",r:"4"}),l.a.createElement("line",{x1:"10.85",y1:"12.15",x2:"19",y2:"4"}),l.a.createElement("line",{x1:"18",y1:"5",x2:"20",y2:"7"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"17",y2:"10"})),m.errorMessage.message)):t=null,l.a.createElement("section",{id:"signup"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"signup-col left"},l.a.createElement("div",{className:"title-area"},l.a.createElement(P.b,{to:"/"},l.a.createElement("img",{src:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",alt:""})),l.a.createElement("h2",null,"Discover the world's top getaways and places to escape to.")),l.a.createElement("div",{className:"graphic"},l.a.createElement("img",{src:"../../signup-graphic.svg",alt:""}))),l.a.createElement("div",{className:"signup-col right"},l.a.createElement("div",{className:"signup-col-wrapper right"},l.a.createElement("div",{className:"navlink"},"Not have an account yet? ",l.a.createElement(P.b,{to:"/signup"},"Sign up")),l.a.createElement("div",{className:"title-area"},l.a.createElement("h1",null,"Log in to Getaways.guru"),l.a.createElement("p",{className:"sub-h1"},"Access your account to easily search, find and book your next perfect getaways.")),l.a.createElement("div",{className:"social-signup d-flex align-items-center"},l.a.createElement("button",{type:"submit",className:"btn google"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-google",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M17.788 5.108A9 9 0 1021 12h-8"})),"Log in with Google"),l.a.createElement("button",{type:"submit",className:"btn facebook"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-facebook",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"none",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",style:{fill:"#666666"}})))),l.a.createElement(N.a,{onSubmit:function(t){t.preventDefault();var n=m.formData,l=n.email,r=n.password;d.login(l,r).then((function(t){t.status?u(Object(x.a)(Object(x.a)({},m),{},{errorMessage:t})):(u(c),e.getUserDetails(t),a.push("/feed"))}))}},t,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Email"),l.a.createElement(N.a.Control,{type:"email",name:"email",onChange:p,placeholder:"Enter your email address"})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Password"),l.a.createElement(N.a.Control,{type:"password",name:"password",onChange:p,placeholder:"6+ characters"})),l.a.createElement(_.a,{type:"submit"},"Log in"))))))},ee=function(e){return(new K).logout().then((function(){e.getUserDetails(null)})).catch((function(e){return console.log(e)})),l.a.createElement(o.a,{to:"/"})},ae=t(136),te=t(137),ne=function(e){var a=e.visibility,t=e.hideModal;return l.a.createElement(te.a,{show:a,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"publicationModal"},l.a.createElement(te.a.Header,{closeButton:!0},l.a.createElement(te.a.Title,null,"Create a post")),l.a.createElement(te.a.Body,null,l.a.createElement("ul",{className:"d-flex flex-column"},l.a.createElement("li",null,l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Activity"),l.a.createElement("p",null,"Lorem ipsum")),l.a.createElement("div",{className:"col"},l.a.createElement(P.b,{to:"/activity-composer",className:"btn btn-primary"},"Create"))),l.a.createElement("li",null,l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Place"),l.a.createElement("p",null,"Lorem ipsum")),l.a.createElement("div",{className:"col"},l.a.createElement(P.b,{to:"/place-composer",className:"btn btn-primary"},"Create"))),l.a.createElement("li",null,l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Story"),l.a.createElement("p",null,"Lorem ipsum")),l.a.createElement("div",{className:"col"},l.a.createElement(P.b,{to:"/story-composer",className:"btn btn-primary"},"Create"))))))},le=function(e){var a=e.user,t={loggedUser:a,isFetching:!1,hasActivities:!1,hasPlaces:!1,userCustomActivities:[],userCustomPlaces:[],categoriesToFollow:a.categoriesToFollow,regionsToFollow:a.regionsToFollow,seasonsToFollow:a.seasonsToFollow,typesToFollow:a.typesToFollow},c=Object(n.useState)(t),r=Object(i.a)(c,2),o=r[0],s=r[1],m=new H,u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],h=d[1];Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a,t,n,l,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(x.a)(Object(x.a)({},o),{},{isFetching:!0})),e.next=3,m.getUserCustomActivities();case 3:return a=e.sent,e.next=6,m.getUserCustomPlaces();case 6:t=e.sent,n=a.length>0,l=t.length>0,c=a.length>0&&t.length>0,s(Object(x.a)(Object(x.a)({},o),{},{hasListings:c,hasActivities:n,hasPlaces:l,userCustomActivities:a,userCustomPlaces:t}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g,v=[];o.userCustomActivities.length>0&&o.userCustomActivities.map((function(e){return v.push(e)})),o.userCustomPlaces.length>0&&o.userCustomPlaces.map((function(e){return v.push(e)})),g=o.hasListings?v.map((function(e){var a;return"activity"===e.type&&(a=l.a.createElement("span",{className:"listing-location"},"".concat(void 0===e.activity_locality?"":e.activity_locality).concat(void 0===e.activity_locality?"":","," ").concat(e.activity_province||e.activity_state,", ").concat(e.activity_country))),"place"===e.type&&(a=l.a.createElement("span",{className:"listing-location"},"".concat(void 0===e.place_locality?"":e.place_locality).concat(void 0===e.place_locality?"":","," ").concat(e.place_province||e.place_state,", ").concat(e.place_country))),l.a.createElement(W,{key:e._id,id:e._id,type:e.type,cover_url:e.images[0],title:e.title,subtitle:e.subtitle,rating:e.activity_rating||e.place_rating,location:a})})):l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(ae.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var E=[];a.typesToFollow.length>0&&a.typesToFollow.map((function(e){return E.push(e)})),a.categoriesToFollow.length>0&&a.categoriesToFollow.map((function(e){return E.push(e)})),a.seasonsToFollow.length>0&&a.seasonsToFollow.map((function(e){return E.push(e)})),a.regionsToFollow.length>0&&a.regionsToFollow.map((function(e){return E.push(e)}));var b=E.map((function(e,a){return l.a.createElement("li",{key:a},l.a.createElement(P.b,{to:"/"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-hash",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"5",y1:"9",x2:"19",y2:"9"}),l.a.createElement("line",{x1:"5",y1:"15",x2:"19",y2:"15"}),l.a.createElement("line",{x1:"11",y1:"4",x2:"7",y2:"20"}),l.a.createElement("line",{x1:"17",y1:"4",x2:"13",y2:"20"}))," ",e))}));return l.a.createElement("div",{id:"feed"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"user-meta"},l.a.createElement("div",{className:"user-meta-wrapper"},l.a.createElement("div",{className:"avatar avatar-s"},l.a.createElement("img",{src:o.loggedUser.avatar,alt:o.loggedUser.fullName})),l.a.createElement("div",{className:"user-text"},l.a.createElement("p",null,"Welcome back,"),l.a.createElement("h1",null,a.fullName)))),l.a.createElement("div",{className:"weather-meta"}),l.a.createElement("div",{className:"left-menu"},l.a.createElement("div",{className:"topics"},l.a.createElement("p",null,"Topics you follow"),l.a.createElement("ul",{className:"menu-topics"},b)),l.a.createElement("div",{className:"content"},l.a.createElement("p",null,"Explore and engage"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(P.b,{to:"/users"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-users",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),l.a.createElement("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),l.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),l.a.createElement("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})),"Community")))),l.a.createElement("div",{className:"links"},l.a.createElement("p",null,"Manage your account"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(P.b,{to:"/dashboard"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-list",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),l.a.createElement("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})),"Dashboard")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"/bookmarks"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"})),"Bookmarks")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"/users/".concat(o.loggedUser._id)},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-user",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0D1F44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"7",r:"4"}),l.a.createElement("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})),"Profile")))),l.a.createElement("div",{className:"new"},l.a.createElement(_.a,{className:"btn btn-primary text-center sidebar",onClick:function(){return h(!0)}},"Add getaway")))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"col-title"},l.a.createElement("p",{className:"small"},"Results based on the topics you follow")),l.a.createElement("div",{className:"col-results"},g))))),l.a.createElement(ne,{visibility:p,hideModal:function(){return h(!1)}}))},ce=t(31),re=function(e){var a=e.user,t=e.match,c={loggedUser:a,formData:{emptyForm:!0,type:"activity",title:"",subtitle:"",categories:[],seasons:[],region:"",images:[],description:"",phone:"",website:"",activity_full_address:"",activity_locality:"",activity_province:"",activity_state:"",activity_country:"",activity_lat:"",activity_lng:"",activity_rating:0,activity_place_id:"",activity_opening_hours:"",duration:"",price:"",isReadyToSubmit:!1}},r=Object(n.useState)(c),s=Object(i.a)(r,2),m=s[0],u=s[1],d=new H,p=Object(o.g)(),h=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),d.uploadFile(t).then((function(e){u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{images:[].concat(Object(ce.a)(m.formData.images),[e.path])})}))}))},g=function(e){var a=m.formData.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{categories:a})}))},v=function(e){var a=m.formData.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{seasons:a})}))},E=function(e){u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{region:e.target.id})}))},b=function(e){var a;u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},(a={},Object(V.a)(a,e.target.name,e.target.value),Object(V.a)(a,"emptyForm",!1),a))}))};return Object(n.useEffect)((function(){var e=m.formData,a=e.title,t=e.subtitle,n=e.categories,l=e.seasons,c=e.region,r=e.activity_full_address,i=e.phone,o=e.website,s=e.images,d=e.price,p=e.duration,h=e.description;a&&t&&n&&l&&c&&r&&i&&o&&s.length>0&&h&&p&&d&&u((function(e){return Object(x.a)(Object(x.a)({},e),{},{isReadyToSubmit:!0})}))}),[m.formData]),l.a.createElement("div",{id:"activity",className:"composer"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:a,path:t.path}),l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Create Activity"),l.a.createElement("p",{className:"sub-h1"},"Describe and publish your activity so others start enjoying it.")),l.a.createElement(N.a,null,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Title"),l.a.createElement(N.a.Control,{type:"text",name:"title",placeholder:"Activity title",onChange:b,value:m.formData.title})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Subtitle"),l.a.createElement(N.a.Control,{type:"text",name:"subtitle",placeholder:"Activity subtitle",onChange:b,value:m.formData.subtitle})),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Activity Category"),l.a.createElement(N.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:g}),l.a.createElement(N.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:g}),l.a.createElement(N.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:g}),l.a.createElement(N.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:g}),l.a.createElement(N.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:g}))),l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Activity Season"),l.a.createElement(N.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:v}),l.a.createElement(N.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:v}),l.a.createElement(N.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:v}),l.a.createElement(N.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:v}))),l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Activity Region"),l.a.createElement(N.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"activityRegion",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"activityRegion",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"girona",label:"Girona",name:"activityRegion",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"activityRegion",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"activityRegion",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"activityRegion",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"activityRegion",onChange:E}))))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Location"),l.a.createElement(O.a,{className:"location-control",apiKey:"".concat("AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&"),style:{width:"100%"},onPlaceSelected:function(e){var a,t,n,l,c,r,i,o,s,d;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(c=e.long_name)})),e.geometry.viewport&&(r=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(d=e.opening_hours.weekday_text),u(Object(x.a)(Object(x.a)({},m),{},{formData:Object(x.a)(Object(x.a)({},m.formData),{},{activity_full_address:a,activity_locality:t,activity_province:n,activity_state:l,activity_country:c,activity_lat:r,activity_lng:i,activity_rating:o,activity_id:s,activity_opening_hours:d})})),console.log(e)},types:["establishment"],placeholder:"Type the activity address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:6},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Phone Number"),l.a.createElement(N.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:b,value:m.formData.phone}))),l.a.createElement(w.a,{lg:6},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Website"),l.a.createElement(N.a.Control,{type:"url",name:"website",placeholder:"Activity website",onChange:b,value:m.formData.website})))),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:6},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Price (\u20ac)"),l.a.createElement(N.a.Control,{type:"number",name:"price",placeholder:"Activity price",onChange:b,value:m.formData.price}))),l.a.createElement(w.a,{lg:6},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Duration (h)"),l.a.createElement(N.a.Control,{type:"number",name:"duration",placeholder:"Activity duration",onChange:b,value:m.formData.duration})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Activity Images"),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:h}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:h}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:h}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:h}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:h}))))))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Description"),l.a.createElement(N.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Activity description",onChange:b,value:m.formData.description})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(f.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},m.isReadyToSubmit?l.a.createElement(_.a,{type:"submit",variant:"none",onClick:function(e){e.preventDefault(),function(){var e=m.formData,a=e.type,t=e.title,n=e.subtitle,l=e.categories,c=e.seasons,r=e.region,i=e.images,o=e.description,s=e.phone,h=e.website,g=e.activity_full_address,v=e.activity_locality,E=e.activity_province,b=e.activity_state,y=e.activity_country,f=e.activity_lat,k=e.activity_lng,w=e.activity_rating,N=e.activity_place_id,C=e.activity_opening_hours,_=e.duration,j=e.price;d.activity(a,t,n,l,c,r,i,o,s,h,g,v,E,b,y,f,k,w,N,C,_,j).then((function(){u(Object(x.a)(Object(x.a)({},m),{},{formData:{emptyForm:!0,type:"activity",title:"",subtitle:"",categories:[],seasons:[],region:"",images:[],description:"",phone:"",website:"",activity_full_address:"",activity_locality:"",activity_province:"",activity_state:"",activity_country:"",activity_lat:"",activity_lng:"",activity_rating:0,activity_place_id:"",activity_opening_hours:"",duration:"",price:"",isReadyToSubmit:!1}})),p.push("/dashboard")})).catch((function(e){return console.log(e)}))}()}},"Publish"):l.a.createElement(_.a,{type:"submit",variant:"none",disabled:!0},"Publish"))))))},ie=function(e){var a,t=e.type,n=e.id,c=e.image,r=e.title,i=e.subtitle,o=e.publicationDate,s=e.fetchData,m=i.slice(0,70),u=new H;return"activity"===t?a="activities":"place"===t?a="places":"story"===t&&(a="stories"),l.a.createElement("div",{className:"content box d-flex align-items-center"},l.a.createElement(P.b,{to:"/".concat(a,"/").concat(n),className:"d-flex align-items-center"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:c,alt:r})),l.a.createElement("h1",{className:"title"},r),l.a.createElement("p",{className:"subtitle"},m,"..."),l.a.createElement("p",{className:"date"},o)),l.a.createElement("div",{className:"crud-buttons"},l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"none"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-dots",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"5",cy:"12",r:"1"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),l.a.createElement("circle",{cx:"19",cy:"12",r:"1"}))),l.a.createElement(C.a.Menu,null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(P.b,{to:"/".concat(a,"/").concat(n)},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-eye",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"2"}),l.a.createElement("path",{d:"M2 12l1.5 2a11 11 0 0 0 17 0l1.5 -2"}),l.a.createElement("path",{d:"M2 12l1.5 -2a11 11 0 0 1 17 0l1.5 2"})),"View")),l.a.createElement("li",null,l.a.createElement(P.b,{to:"/".concat(a,"/").concat(n,"/edit")},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-pencil",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"}),l.a.createElement("line",{x1:"13.5",y1:"6.5",x2:"17.5",y2:"10.5"})),"Edit")),l.a.createElement("li",null,l.a.createElement(_.a,{variant:"none",onClick:function(){"activity"===t?u.removeActivity(n).then((function(){return s()})):"place"===t?u.removePlace(n).then((function(){return s()})):"story"===t&&u.removeStory(n).then((function(){return s()}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-trash",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),l.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),l.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),l.a.createElement("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),l.a.createElement("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})),"Remove")))))))},oe=function(e){var a=e.user,t={loggedUser:a,allListings:[],activities:[],places:[],stories:[],isFetching:!1,hasListings:!1,hasActivities:!1,hasPlaces:!1,hasStories:!1,sortedTitle:!1,activeTab:"all"},c=Object(n.useState)(t),r=Object(i.a)(c,2),o=r[0],s=r[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],p=u[1],h=function(){return p(!0)},g=new H;Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a,t,n,l,c,r,i,m;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(x.a)(Object(x.a)({},o),{},{isFetching:!0})),e.next=3,g.userActivities(o.loggedUser._id);case 3:return a=e.sent,e.next=6,g.getUserPlaces(o.loggedUser._id);case 6:return t=e.sent,e.next=9,g.getUserStories(o.loggedUser._id);case 9:n=e.sent,l=[],r=a.length>0,i=t.length>0,m=n.length>0,c=a.length>0||t.length>0||n.length>0,a.map((function(e){return l.push(e)})),t.map((function(e){return l.push(e)})),n.map((function(e){return l.push(e)})),s(Object(x.a)(Object(x.a)({},o),{},{allListings:l,activities:a,places:t,stories:n,isFetching:!1,hasListings:c,hasActivities:r,hasPlaces:i,hasStories:m}));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v,E,b,y,w,N,C,j=Object(n.useCallback)(Object(U.a)(R.a.mark((function e(){var a,t,n,l,c,r,i,m;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(x.a)(Object(x.a)({},o),{},{isFetching:!0})),e.next=3,g.userActivities(o.loggedUser._id);case 3:return a=e.sent,e.next=6,g.getUserPlaces(o.loggedUser._id);case 6:return t=e.sent,e.next=9,g.getUserStories(o.loggedUser._id);case 9:n=e.sent,c=a.length>0,r=t.length>0,i=n.length>0,l=a.length>0||t.length>0||n.length>0,m=[],a.map((function(e){return m.push(e)})),t.map((function(e){return m.push(e)})),n.map((function(e){return m.push(e)})),s(Object(x.a)(Object(x.a)({},o),{},{allListings:m,activities:a,places:t,stories:n,isFetching:!1,hasListings:l,hasActivities:c,hasPlaces:r,hasStories:i}));case 19:case"end":return e.stop()}}),e)}))),[g,o]);if(!0===o.isFetching&&!1===o.hasListings)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(ae.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));switch(o.activeTab){case"activities":w="activity",N="/activity-composer",C=l.a.createElement(P.b,{to:N,className:"btn btn-primary text-center"},"Add ",w);break;case"places":w="place",N="/place-composer",C=l.a.createElement(P.b,{to:N,className:"btn btn-primary text-center"},"Add ",w);break;case"stories":w="story",N="/story-composer",C=l.a.createElement(P.b,{to:N,className:"btn btn-primary text-center"},"Add ",w);break;default:w="getaway",N="/activity-composer",C=l.a.createElement(_.a,{className:"btn btn-primary text-center",onClick:h},"Add getaway")}var O=l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-results.svg",alt:"Graphic no results"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Oh no, this looks so empty.",l.a.createElement("br",null),"Create your first ",w," to inspire others."),C));!0===o.hasListings?(v=l.a.createElement("div",{className:"filter-box d-flex align-items-center justify-content-between"},l.a.createElement(_.a,{variant:"none"},"Image"),l.a.createElement(_.a,{variant:"none",className:"filter",onClick:function(){return function(e,a){if(!1===o.sortedTitle||"ZtoA"===o.sortedTitle){var t,n=e.sort((function(e,a){return e.title.toLowerCase()>a.title.toLowerCase()?-1:e.title.toLowerCase()<a.title.toLowerCase()?1:0})).reverse();s(Object(x.a)(Object(x.a)({},o),{},(t={},Object(V.a)(t,a,n),Object(V.a)(t,"sortedTitle","AtoZ"),t)))}else if("AtoZ"===o.sortedTitle){var l,c=e.sort((function(e,a){return e.title.toLowerCase()>a.title.toLowerCase()?-1:e.title.toLowerCase()<a.title.toLowerCase()?1:0}));s(Object(x.a)(Object(x.a)({},o),{},(l={},Object(V.a)(l,a,c),Object(V.a)(l,"sortedTitle","ZtoA"),l)))}}(b,y)}},"Title",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrows-sort",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#212529",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M3 9l4-4l4 4m-4 -4v14"}),l.a.createElement("path",{d:"M21 15l-4 4l-4-4m4 4v-14"}))),l.a.createElement(_.a,{variant:"none",className:"filter"},"Subtitle"),l.a.createElement(_.a,{variant:"none",className:"filter"},"Date"),l.a.createElement(_.a,{variant:"none"},"Actions")),"all"===o.activeTab&&(b=o.allListings,y="allListings",E=o.allListings.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:j})}))),"activities"===o.activeTab&&(!0===o.hasActivities?(b=o.activities,y="activities",E=o.activities.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:j})}))):(v=null,E=O)),"places"===o.activeTab&&(!0===o.hasPlaces?(y="places",b=o.places,E=o.places.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:j})}))):(v=null,E=O)),"stories"===o.activeTab&&(!0===o.hasStories?(b=o.stories,E=o.stories.map((function(e){return l.a.createElement(ie,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:j})}))):(v=null,E=O))):(v=null,E=O);var L={backgroundColor:"#abc3f4",borderRadius:"8px",cursor:"pointer",color:"#0d1f44"};return l.a.createElement("div",{id:"dashboard"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"top-nav"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title db"},"Dashboard"))),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("ul",null,l.a.createElement("li",{className:"list-title"},"Your getaways"),l.a.createElement("li",{className:"list-item",style:"all"===o.activeTab?L:null,onClick:function(){return s(Object(x.a)(Object(x.a)({},o),{},{activeTab:"all"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-list",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),l.a.createElement("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})),"All"),l.a.createElement("li",{className:"list-item",style:"activities"===o.activeTab?L:null,onClick:function(){return s(Object(x.a)(Object(x.a)({},o),{},{activeTab:"activities"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),"Activities"),l.a.createElement("li",{className:"list-item",style:"places"===o.activeTab?L:null,onClick:function(){return s(Object(x.a)(Object(x.a)({},o),{},{activeTab:"places"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bed",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M3 7v11m0 -4h18m0 4v-8a2 2 0 0 0 -2 -2h-8v6"}),l.a.createElement("circle",{cx:"7",cy:"10",r:"1"})),"Places"),l.a.createElement("li",{className:"list-item",style:"stories"===o.activeTab?L:null,onClick:function(){return s(Object(x.a)(Object(x.a)({},o),{},{activeTab:"stories"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-notebook",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18"}),l.a.createElement("line",{x1:"13",y1:"8",x2:"15",y2:"8"}),l.a.createElement("line",{x1:"13",y1:"12",x2:"15",y2:"12"})),"Stories")),l.a.createElement("div",{className:"new"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(_.a,{className:"btn btn-primary text-center sidebar",onClick:h},"Add getaway"))))),l.a.createElement("div",{className:"col right"},v,l.a.createElement("div",{className:"content-box-wrapper"},E))))),l.a.createElement(ne,{visibility:d,hideModal:function(){return p(!1)}}))},se=function(e){var a,t=e.id,n=e.image,c=e.title,r=e.subtitle,i=e.location,o=e.type,s=r.slice(0,105);return"activity"===o?a="activities":"place"===o?a="places":"story"===o&&(a="stories"),l.a.createElement("div",{id:"listing",className:"d-flex align-items-center justify-content-between"},l.a.createElement(P.b,{to:"/".concat(a,"/").concat(t),title:c,className:"listing-wrapper d-flex align-items-center"},l.a.createElement("div",{className:"listing-cover"},l.a.createElement("img",{src:n,alt:c})),l.a.createElement("div",{className:"listing-content"},l.a.createElement("h3",{className:"listing-title"},c),l.a.createElement("p",{className:"listing-subtitle"},s,"..."),l.a.createElement("p",{className:"listing-location"},i))))},me=t(34),ue=function(e){var a,t=e.user,c={loggedUser:t,activities:[],queryActivityRegion:[],queryActivityCategory:[],queryActivitySeason:[],updateSearch:!1,hasActivities:!1},r=Object(n.useState)(c),o=Object(i.a)(r,2),s=o[0],m=o[1],u=new H,d=Object(n.useCallback)((function(){u.activities("/activities").then((function(e){var a;e.length>0&&(a=!0),m(Object(x.a)(Object(x.a)({},s),{},{activities:e,hasActivities:a}))}))}),[s,u]);Object(n.useEffect)(d,[]),s.hasActivities&&(a=s.activities.map((function(e){return l.a.createElement(se,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,location:"".concat(void 0===e.activity_locality?"":e.activity_locality," ").concat(void 0===e.activity_locality?"":","," ").concat(e.activity_province||e.activity_state,", ").concat(e.activity_country)})})));var p=function(e){var a=s.queryActivityRegion;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryActivityRegion:a,updateSearch:!0}))},h=function(e){var a=s.queryActivityCategory;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryActivityCategory:a,updateSearch:!0}))},g=function(e){var a=s.queryActivitySeason;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryActivitySeason:a,updateSearch:!0}))},v={lat:41.3948976,lng:2.0787283};return Object(n.useEffect)((function(){!0===s.updateSearch&&u.searchActivities(s.queryActivityRegion,s.queryActivityCategory,s.queryActivitySeason).then((function(e){m(Object(x.a)(Object(x.a)({},s),{},{activities:e,updateSearch:!1}))}))}),[s.updateSearch]),l.a.createElement("div",{id:"contentList",className:"activity"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:t}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"filter-list"},l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Region"),l.a.createElement(N.a.Check,{label:"Barcelona",name:"activityRegion",id:"barcelona",onChange:p}),l.a.createElement(N.a.Check,{label:"Girona",name:"activityRegion",id:"girona",onChange:p}),l.a.createElement(N.a.Check,{label:"Lleida",name:"activityRegion",id:"lleida",onChange:p}),l.a.createElement(N.a.Check,{label:"Tarragona",name:"activityRegion",id:"tarragona",onChange:p}),l.a.createElement(N.a.Check,{label:"Costa Brava",name:"activityRegion",id:"costaBrava",onChange:p}),l.a.createElement(N.a.Check,{label:"Costa Daurada",name:"activityRegion",id:"costaDaurada",onChange:p}),l.a.createElement(N.a.Check,{label:"Pirineus",name:"activityRegion",id:"pirineus",onChange:p})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Category"),l.a.createElement(N.a.Check,{label:"Romantic",name:"activityCategory",id:"romantic",onChange:h}),l.a.createElement(N.a.Check,{label:"Adventure",name:"activityCategory",id:"adventure",onChange:h}),l.a.createElement(N.a.Check,{label:"Gastronomic",name:"activityCategory",id:"gastronomic",onChange:h}),l.a.createElement(N.a.Check,{label:"Cultural",name:"activityCategory",id:"cultural",onChange:h}),l.a.createElement(N.a.Check,{label:"Relax",name:"activityCategory",id:"relax",onChange:h})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Season"),l.a.createElement(N.a.Check,{label:"Winter",name:"activitySeason",id:"winter",onChange:g}),l.a.createElement(N.a.Check,{label:"Spring",name:"activitySeason",id:"spring",onChange:g}),l.a.createElement(N.a.Check,{label:"Summer",name:"activitySeason",id:"summer",onChange:g}),l.a.createElement(N.a.Check,{label:"Autumn",name:"activitySeason",id:"autumn",onChange:g})))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Activities"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 activities"),l.a.createElement("li",null,"2 contributors"))),a),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"map-wrapper"},l.a.createElement("div",{className:"map-block"},l.a.createElement(me.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},center:v,defaultCenter:v,defaultZoom:8,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t=new a.LatLngBounds;s.activities.forEach((function(n){var l={lat:parseFloat(n.activity_lat),lng:parseFloat(n.activity_lng)},c='<div id="infoview-wrapper">'+'<h1 id="firstHeading" class="firstHeading">'.concat(n.title,"</h1>")+"<p>".concat(n.subtitle,"</p>")+"</div>",r=new a.InfoWindow({content:c}),i=new a.Marker({position:l,map:e,icon:"../../map-marker.svg"});t.extend(i.position),i.addListener("click",(function(){return r.open(e,i)}))})),e.fitBounds(t)}(e.map,e.maps)}}))))))))},de=t(143),pe=function(e){var a=e.visibility,t=e.hideModal;return l.a.createElement(te.a,{show:a,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"signUpModal"},l.a.createElement(te.a.Body,null,l.a.createElement("div",{className:"body-wrapper"},l.a.createElement("img",{src:"../../sign-up-asset.svg",alt:"Sign up to Getaways.guru"}),l.a.createElement("h1",{className:"modal-title"},"Sign up to bookmark"),l.a.createElement("p",{className:"modal-subtitle"},"Create your free account to save, search and find your next perfect getaways"),l.a.createElement(P.b,{to:"/signup",className:"btn btn-primary text-center"},"Sign up"))))},he=function(e){var a={loggedUser:e.user,id:e.match.params.id,activity:{},isActivityLoaded:!1,owner:{},bookmarkDetails:{},isBookmarked:!1,showBookmarkToast:!1,toastMessage:""},t=Object(n.useState)(a),c=Object(i.a)(t,2),r=c[0],o=c[1],s=new H,m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],p=u[1];if(Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a,t,n,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.loggedUser||"null"===r.loggedUser){e.next=4;break}return e.next=3,s.getUserAllBookmarks();case 3:a=e.sent;case 4:return e.next=6,s.activityDetails(r.id);case 6:t=e.sent,a&&a.forEach((function(e){e.bookmarkActivityRef&&(n=e.bookmarkActivityRef._id===t._id?e:null)})),l=!!n&&!n.isRemoved,o(Object(x.a)(Object(x.a)({},r),{},{activity:t,isActivityLoaded:!0,owner:t.owner,bookmarkDetails:n,isBookmarked:l}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!1===r.isActivityLoaded)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(ae.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var h,g=r.activity,v=g.title,E=g.subtitle,b=g.description,y=function(){var e=r.activity._id,a=r.activity.type;s.bookmark(e,a).then((function(e){o(Object(x.a)(Object(x.a)({},r),{},{isBookmarked:!r.isBookmarked,showBookmarkToast:!0,toastMessage:e.message||"Listing bookmarked!"}))}))};h=e.user&&"null"!==e.user?!1===r.isBookmarked?l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return y()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Bookmark")):l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return y()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{fill:"#0d1f44",d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Unbookmark")):l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return p(!0)}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Bookmark"));var N,C,_=l.a.createElement(de.a,{onClose:function(){return o(Object(x.a)(Object(x.a)({},r),{},{showBookmarkToast:!1,toastMessage:""}))},show:r.showBookmarkToast,delay:5e3,autohide:!0},l.a.createElement(de.a.Header,null,l.a.createElement("img",{src:"../../logo-xs.svg",className:"rounded mr-2",alt:""}),l.a.createElement("strong",{className:"mr-auto"},"Getaways.guru")),l.a.createElement(de.a.Body,null,r.toastMessage," ",l.a.createElement("br",null)," ",l.a.createElement(P.b,{to:"/bookmarks"},"See all bookmarks")," ")),j={lat:parseFloat(r.activity.activity_lat),lng:parseFloat(r.activity.activity_lng)},O=r.activity.images.map((function(e,a){return l.a.createElement("div",{key:a,className:"cover",style:{backgroundImage:"url(".concat(e,")")}})}));r.activity.activity_opening_hours.length>0&&(N=r.activity.activity_opening_hours.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-hour"},e)})),C=l.a.createElement("div",{className:"listing-activity-hours"},l.a.createElement("ul",{className:"listing-activity-hours-list"},l.a.createElement("li",{className:"header"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),l.a.createElement("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),l.a.createElement("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),l.a.createElement("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"18"})),"Opening Hours"),N)));var L=r.activity.categories.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-category"},e," getaway")})),M=r.activity.seasons.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-season"},e)})),S=r.activity.region.map((function(e,a){return l.a.createElement("li",{key:a,className:"activity-region"},e)}));return l.a.createElement("div",{id:"listingPage"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1200"},r.showBookmarkToast?_:null,l.a.createElement("div",{className:"box"},l.a.createElement(k.a,null,l.a.createElement("section",{className:"listing-header-wrapper"},l.a.createElement(w.a,{lg:12},l.a.createElement("div",{className:"listing-header"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-title-wrapper"},l.a.createElement("h1",{className:"listing-title"},v)),l.a.createElement("div",{className:"listing-meta-bar"},l.a.createElement("ul",null,l.a.createElement("li",{className:"listing-type"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),l.a.createElement("span",null,r.activity.type)),l.a.createElement("li",{className:"listing-rating"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-star",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z"})),l.a.createElement("span",null,r.activity.activity_rating)),l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),l.a.createElement("span",null,"".concat(void 0===r.activity.activity_locality?"":r.activity.activity_locality).concat(void 0===r.activity.activity_locality?"":","," ").concat(r.activity.activity_province||r.activity.activity_state,", ").concat(r.activity.activity_country)))))),l.a.createElement("div",{className:"col right"},h)),l.a.createElement("div",{className:"listing-cover d-flex justify-space-between"},O)))),l.a.createElement(k.a,null,l.a.createElement("article",{className:"listing-body"},l.a.createElement(w.a,{lg:7},l.a.createElement("div",{className:"listing-body-wrapper d-flex justify-content-between align-items-center"},l.a.createElement("p",{className:"listing-subtitle"},E),l.a.createElement("div",{className:"listing-owner"},l.a.createElement(P.b,{to:"/users/".concat(r.owner._id)},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:r.owner.avatar,alt:r.owner.fullName})),l.a.createElement("p",{className:"listing-owner-name"},r.owner.fullName)))),l.a.createElement("div",{className:"listing-details-body d-flex"},l.a.createElement("div",{className:"listing-categories"},l.a.createElement("span",null,"Ideal for a"),l.a.createElement("ul",null,L)),l.a.createElement("div",{className:"listing-seasons"},l.a.createElement("span",null,"Must perform in"),l.a.createElement("ul",null,M)),l.a.createElement("div",{className:"d-flex right"},l.a.createElement("div",{className:"listing-region"},l.a.createElement("span",null,"Based in"),l.a.createElement("ul",null,S)),l.a.createElement("div",{className:"listing-duration"},l.a.createElement("span",null,"Duration"),r.activity.duration," hours"),l.a.createElement("div",{className:"listing-price"},l.a.createElement("span",null,"Activity price"),r.activity.price," \u20ac"))),l.a.createElement("div",{className:"listing-description"},b)),l.a.createElement(w.a,{lg:1}),l.a.createElement(w.a,{lg:4},l.a.createElement("div",{className:"listing-details-box"},l.a.createElement("div",{className:"listing-map"},l.a.createElement(me.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:j,defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t={lat:parseFloat(r.activity.activity_lat),lng:parseFloat(r.activity.activity_lng)};new a.Marker({position:t,map:e,title:"Hello"})}(e.map,e.maps)}})),C,l.a.createElement("ul",{className:"listing-details-list"},l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),r.activity.activity_full_address),l.a.createElement("li",{className:"listing-phone"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-phone-call",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"}),l.a.createElement("path",{d:"M15 7a2 2 0 0 1 2 2"}),l.a.createElement("path",{d:"M15 3a6 6 0 0 1 6 6"})),l.a.createElement("a",{href:"tel:".concat(r.activity.phone)},r.activity.phone)),l.a.createElement("li",{className:"listing-website"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-link",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"}),l.a.createElement("path",{d:"M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"})),l.a.createElement("a",{href:"http://".concat(r.activity.website)},r.activity.website))))))))),l.a.createElement(pe,{visibility:d,hideModal:function(){return p(!1)}}))},ge=function(e){var a=e.visibility,t=e.hideModal,c=e.user,r=e.refreshUserData,o={loggedUser:c,formData:{avatar:c.avatar,fullName:c.fullName,username:c.username,bio:c.bio,location:c.location}},s=Object(n.useState)(o),m=Object(i.a)(s,2),u=m[0],d=m[1],p=new H,h=function(e){d(Object(x.a)(Object(x.a)({},u),{},{formData:Object(x.a)(Object(x.a)({},u.formData),{},Object(V.a)({},e.target.name,e.target.value))}))};return l.a.createElement(te.a,{show:a,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"editProfileModal"},l.a.createElement(te.a.Header,{closeButton:!0},l.a.createElement(te.a.Title,null,"Edit profile")),l.a.createElement(te.a.Body,null,l.a.createElement("div",{className:"cover-picture box bordered",style:{backgroundImage:'url("'.concat(c.cover,'")')}}),l.a.createElement(N.a,{onSubmit:function(e){e.preventDefault();var a=u.loggedUser._id,n=u.formData,l=n.avatar,c=n.fullName,i=n.username,o=n.bio,s=n.location;console.log(a,l,c,i,o,s),p.editProfile(a,l,c,i,o,s).then((function(){t(),r()}))},className:"user-editor"},l.a.createElement(N.a.Group,{className:"user-avatar"},l.a.createElement("label",null,l.a.createElement(N.a.Control,{type:"file",onChange:function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),p.uploadFile(t).then((function(e){return d(Object(x.a)(Object(x.a)({},u),{},{formData:Object(x.a)(Object(x.a)({},u.formData),{},{avatar:e.path})}))}))},className:"input-avatar-user"}),l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:u.formData.avatar,alt:u.formData.fullName}),l.a.createElement("div",{className:"avatar-overlay"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-camera-plus",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"13",r:"3"}),l.a.createElement("path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h2m9 7v7a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2"}),l.a.createElement("line",{x1:"15",y1:"6",x2:"21",y2:"6"}),l.a.createElement("line",{x1:"18",y1:"3",x2:"18",y2:"9"})))))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Name"),l.a.createElement(N.a.Control,{type:"text",name:"fullName",defaultValue:u.formData.fullName,onChange:h,placeholder:"Enter your full name"})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Username"),l.a.createElement(N.a.Control,{type:"text",name:"username",defaultValue:u.formData.username,placeholder:"Choose your username",onChange:h})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Bio"),l.a.createElement(N.a.Control,{as:"textarea",rows:"3",type:"text",name:"bio",defaultValue:u.formData.bio,placeholder:"Enter your bio",onChange:h})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Location"),l.a.createElement(N.a.Control,{type:"text",name:"location",defaultValue:u.formData.location,placeholder:"Enter your location",onChange:h})),l.a.createElement(N.a.Group,null,l.a.createElement(_.a,{variant:"primary",type:"submit"},"Save changes")))))},ve=function(e){var a={loggedUser:e.user,id:e.match.params.id,joinedYear:0,userProfile:{},isUserAvailable:!1,activities:[],places:[],stories:[],isFetching:!1,hasListings:!1,hasActivities:!1,hasPlaces:!1,hasStories:!1,activeTab:"activities",cover:"",isCoverReadyToUpload:!1},t=Object(n.useState)(a),c=Object(i.a)(t,2),r=c[0],o=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),g=h[0],v=h[1],E=function(){return d(!0)},b=new H;Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a,t,n,l,c,i,s,m,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(Object(x.a)(Object(x.a)({},r),{},{isFetching:!0})),e.next=3,b.getUserProfile(r.id);case 3:return a=e.sent,e.next=6,b.userActivities(r.id);case 6:return t=e.sent,e.next=9,b.getUserPlaces(r.id);case 9:return n=e.sent,e.next=12,b.getUserStories(r.id);case 12:l=e.sent,i=t.length>0,s=n.length>0,m=l.length>0,c=t.length>0||n.length>0||l.length>0,function(){var e=new Date(a.createdAt);return u=e.getFullYear()}(),o(Object(x.a)(Object(x.a)({},r),{},{userProfile:a,joinedYear:u,isUserAvailable:!0,activities:t,places:n,stories:l,isFetching:!1,hasListings:c,hasActivities:i,hasPlaces:s,hasStories:m}));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y,w,N,C,j,O,L=function(){var e=Object(U.a)(R.a.mark((function e(){var a,t,n,l,c,i,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(Object(x.a)(Object(x.a)({},r),{},{isFetching:!0})),e.next=3,b.userActivities(r.id);case 3:return a=e.sent,e.next=6,b.getUserPlaces(r.loggedUser._id);case 6:return t=e.sent,e.next=9,b.getUserStories(r.loggedUser._id);case 9:n=e.sent,c=a.length>0,i=t.length>0,s=n.length>0,l=a.length>0||t.length>0||n.length>0,o(Object(x.a)(Object(x.a)({},r),{},{activities:a,places:t,stories:n,isFetching:!1,hasListings:l,hasActivities:c,hasPlaces:i,hasStories:s}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();switch(r.activeTab){case"activities":w="activity",N="/activity-composer",C=l.a.createElement(P.b,{to:N,className:"btn btn-primary text-center"},"Add ",w);break;case"places":w="place",N="/place-composer",C=l.a.createElement(P.b,{to:N,className:"btn btn-primary text-center"},"Add ",w);break;case"stories":w="story",N="/story-composer",C=l.a.createElement(P.b,{to:N,className:"btn btn-primary text-center"},"Add ",w);break;default:w="getaway",N="/activity-composer",C=l.a.createElement(_.a,{className:"btn btn-primary text-center",onClick:E},"Add getaway")}r.loggedUser&&"null"!==r.loggedUser?r.userProfile._id===r.loggedUser._id?(j=l.a.createElement(_.a,{className:"btn btn-primary text-center sidebar",onClick:E},"Edit profile"),O=l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-results.svg",alt:"Graphic no results"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Oh no, this looks so empty.",l.a.createElement("br",null),"Create your first ",w," to inspire others."),C))):j=void 0:(j=l.a.createElement(_.a,{className:"btn btn-primary text-center sidebar d-flex align-items-center",onClick:function(){return v(!0)}},"Sign up"),O=l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-results.svg",alt:"Graphic no results"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,l.a.createElement("span",{className:"profile-owner-name"},r.userProfile.fullName)," ","didn't publish any ",w," yet.",l.a.createElement("br",null),"Come back later to check what's new.")))),!0===r.hasListings?("activities"===r.activeTab&&(y=!0===r.hasActivities?r.activities.map((function(e){return l.a.createElement(se,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:L})})):O),"places"===r.activeTab&&(y=!0===r.hasPlaces?r.places.map((function(e){return l.a.createElement(se,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:L})})):O),"stories"===r.activeTab&&(y=!0===r.hasStories?r.stories.map((function(e){return l.a.createElement(se,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,publicationDate:e.createdAt,fetchData:L})})):O)):y=O;var M,S={backgroundColor:"#abc3f4",borderRadius:"8px",cursor:"pointer",color:"#0d1f44"},T=function(){var e=Object(U.a)(R.a.mark((function e(a){var t,n,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.files[0],(n=new FormData).append("imageUrl",t),e.next=5,b.uploadFile(n);case 5:l=e.sent,o(Object(x.a)(Object(x.a)({},r),{},{cover:l.path,isCoverReadyToUpload:!0}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=function(){b.getUserProfile(r.id).then((function(a){e.getUserDetails(a),o(Object(x.a)(Object(x.a)({},r),{},{userProfile:a,loggedUser:a,isCoverReadyToUpload:!1}))}))};return Object(n.useEffect)((function(){!0===r.isCoverReadyToUpload&&function(){var e=r.loggedUser._id,a=r.cover;b.editUserCover(e,a).then((function(){A()})),o(Object(x.a)(Object(x.a)({},r),{},{isCoverReadyToUpload:!1}))}()}),[r.isCoverReadyToUpload]),!0===r.isFetching?l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(ae.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading..."))):(e.user&&"null"!==e.user&&(M=l.a.createElement("label",{className:"edit-cover"},l.a.createElement("input",{type:"file",onChange:T}),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"}))," ","Edit cover")),l.a.createElement("div",{id:"userProfile"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:e.user}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"user box bordered"},l.a.createElement("div",{className:"avatar user-avatar"},l.a.createElement("img",{src:r.userProfile.avatar,alt:r.userProfile.fullName})),l.a.createElement("div",{className:"user-meta"},l.a.createElement("h1",{className:"user-fullName"},r.userProfile.fullName),l.a.createElement("ul",null,l.a.createElement("li",{className:"user-username"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-at",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),l.a.createElement("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"}))," ",r.userProfile.username||"username"),l.a.createElement("li",{className:"user-followers"},l.a.createElement("span",null,"225")," following"),l.a.createElement("li",{className:"user-following"},l.a.createElement("span",null,"65")," followers"),l.a.createElement("hr",null),l.a.createElement("li",{className:"user-bio"},r.userProfile.bio||"No bio"),l.a.createElement("hr",null),l.a.createElement("li",{className:"user-location d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),"Lives in ",r.userProfile.location||"not set"),l.a.createElement("li",{className:"user-registration d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),l.a.createElement("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),l.a.createElement("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),l.a.createElement("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"18"})),"Joined in ",r.joinedYear),l.a.createElement("li",{className:"user-verified d-flex align-items-center"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shield-check",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 12l2 2l4 -4"}),l.a.createElement("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"})),"Verified")),l.a.createElement("div",{className:"new"},l.a.createElement("ul",null,l.a.createElement("li",null,j)))))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"cover-picture box bordered",style:{backgroundImage:'url("'.concat(r.userProfile.cover,'")')}},M),l.a.createElement("div",{className:"filter-bar"},l.a.createElement(_.a,{className:"d-flex align-items-center justify-content-center",variant:"none",style:"activities"===r.activeTab?S:null,onClick:function(){return o(Object(x.a)(Object(x.a)({},r),{},{activeTab:"activities"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),"Activities"),l.a.createElement(_.a,{variant:"none",className:"d-flex align-items-center justify-content-center",style:"places"===r.activeTab?S:null,onClick:function(){return o(Object(x.a)(Object(x.a)({},r),{},{activeTab:"places"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-building-arch",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),l.a.createElement("path",{d:"M4 21v-15a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v15"}),l.a.createElement("path",{d:"M9 21v-8a3 3 0 0 1 6 0v8"})),"Places"),l.a.createElement(_.a,{variant:"none",className:"d-flex align-items-center justify-content-center",style:"stories"===r.activeTab?S:null,onClick:function(){return o(Object(x.a)(Object(x.a)({},r),{},{activeTab:"stories"}))}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-notebook",width:"28",height:"28",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18"}),l.a.createElement("line",{x1:"13",y1:"8",x2:"15",y2:"8"}),l.a.createElement("line",{x1:"13",y1:"12",x2:"15",y2:"12"})),"Stories")),l.a.createElement("div",{className:"content-bar"},y)),l.a.createElement("div",{className:"col right"})))),l.a.createElement(ge,{visibility:u,hideModal:function(){return d(!1)},user:r.userProfile,refreshUserData:A}),l.a.createElement(pe,{visibility:g,hideModal:function(){return v(!1)}})))},Ee=function(e){var a=e.id,t=e.avatar,c={id:a,fullname:e.fullname,avatar:t,username:e.username,bio:e.bio},r=Object(n.useState)(c),o=Object(i.a)(r,1)[0];return l.a.createElement("div",{id:"publicUserBox"},l.a.createElement(P.b,{to:"/users/".concat(o.id)},l.a.createElement("div",{className:"box-wrapper"},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:o.avatar,alt:o.fullname})),l.a.createElement("h3",null,o.fullname),l.a.createElement("p",null,o.username||"@username"),l.a.createElement("p",null,o.bio))))},be=function(e){var a=e.user,t={loggedUser:a,users:[]},c=Object(n.useState)(t),r=Object(i.a)(c,2),o=r[0],s=r[1],m=new H,u=Object(n.useCallback)((function(){m.getAllUsers("/users").then((function(e){return s(Object(x.a)(Object(x.a)({},o),{},{users:e}))}))}),[o,m]);Object(n.useEffect)(u,[]);var d=o.users.map((function(e){return l.a.createElement(Ee,{key:e._id,id:e._id,avatar:e.avatar,fullname:e.fullName})}));return l.a.createElement("div",{id:"usersList"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"top-nav"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Community"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 activities"),l.a.createElement("li",null,"2 contributors")))),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"box wrapper d-flex"},d))))))},ye=function(e){var a=e.user,t={loggedUser:a,formData:{emptyForm:!0,type:"place",title:"",subtitle:"",categories:[],seasons:[],region:"",placeType:"",images:[],description:"",phone:"",website:"",place_full_address:"",place_locality:"",place_province:"",place_state:"",place_country:"",place_lat:"",place_lng:"",place_rating:0,place_id:"",place_opening_hours:"",price:"",isReadyToSubmit:!1}},c=Object(n.useState)(t),r=Object(i.a)(c,2),s=r[0],m=r[1],u=new H,d=Object(o.g)(),p=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),u.uploadFile(t).then((function(e){m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{images:[].concat(Object(ce.a)(s.formData.images),[e.path])})}))}))},h=function(e){var a=s.formData.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{categories:a})}))},g=function(e){var a=s.formData.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{seasons:a})}))},v=function(e){m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{region:e.target.id})}))},E=function(e){m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{placeType:e.target.id})}))},b=function(e){var a;m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},(a={},Object(V.a)(a,e.target.name,e.target.value),Object(V.a)(a,"emptyForm",!1),a))}))};return Object(n.useEffect)((function(){var e=s.formData,a=e.title,t=e.subtitle,n=e.categories,l=e.seasons,c=e.region,r=e.placeType,i=e.place_full_address,o=e.phone,u=e.website,d=e.images,p=e.price,h=e.description;a&&t&&n&&l&&c&&r&&i&&o&&u&&d.length>0&&h&&p&&m((function(e){return Object(x.a)(Object(x.a)({},e),{},{isReadyToSubmit:!0})}))}),[s.formData]),l.a.createElement("div",{id:"place",className:"composer"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:a}),l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Create Place"),l.a.createElement("p",{className:"sub-h1"},"Describe and publish your place so others start enjoying it.")),l.a.createElement(N.a,null,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Title"),l.a.createElement(N.a.Control,{type:"text",name:"title",placeholder:"Place title",onChange:b,value:s.formData.title})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Subtitle"),l.a.createElement(N.a.Control,{type:"text",name:"subtitle",placeholder:"Place subtitle",onChange:b,value:s.formData.subtitle})),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:3},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Place Category"),l.a.createElement(N.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:h}),l.a.createElement(N.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:h}),l.a.createElement(N.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:h}),l.a.createElement(N.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:h}),l.a.createElement(N.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:h}))),l.a.createElement(w.a,{lg:3},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Place Season"),l.a.createElement(N.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:g}),l.a.createElement(N.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:g}),l.a.createElement(N.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:g}),l.a.createElement(N.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:g}))),l.a.createElement(w.a,{lg:3},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Place Region"),l.a.createElement(N.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"activitySeason",onChange:v}),l.a.createElement(N.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"activitySeason",onChange:v}),l.a.createElement(N.a.Check,{type:"radio",id:"girona",label:"Girona",name:"activitySeason",onChange:v}),l.a.createElement(N.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"activitySeason",onChange:v}),l.a.createElement(N.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"activitySeason",onChange:v}),l.a.createElement(N.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"activitySeason",onChange:v}),l.a.createElement(N.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"activitySeason",onChange:v})))),l.a.createElement(w.a,{lg:3},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Place Type"),l.a.createElement(N.a.Check,{type:"radio",id:"hotel",label:"Hotel",name:"placeType",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"apartment",label:"Apartment",name:"placeType",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"cabin",label:"Cabin",name:"placeType",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"treeHouse",label:"Treehouse",name:"placeType",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"ruralHouse",label:"Rural house",name:"placeType",onChange:E}),l.a.createElement(N.a.Check,{type:"radio",id:"trailer",label:"Trailer",name:"placeType",onChange:E}))))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Location"),l.a.createElement(O.a,{className:"location-control",apiKey:"".concat("AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&"),style:{width:"100%"},onPlaceSelected:function(e){var a,t,n,l,c,r,i,o,u,d;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(c=e.long_name)})),e.geometry.viewport&&(r=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,u=e.place_id,e.opening_hours&&(d=e.opening_hours.weekday_text),m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{place_full_address:a,place_locality:t,place_province:n,place_state:l,place_country:c,place_lat:r,place_lng:i,place_rating:o,place_id:u,place_opening_hours:d})})),console.log(e)},types:["establishment"],placeholder:"Type the place address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Phone Number"),l.a.createElement(N.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:b,value:s.formData.phone}))),l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Website"),l.a.createElement(N.a.Control,{type:"url",name:"website",placeholder:"Place website",onChange:b,value:s.formData.website}))),l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Price per night (\u20ac)"),l.a.createElement(N.a.Control,{type:"number",name:"price",placeholder:"Place price per night",onChange:b,value:s.formData.price})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Place Images"),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:p}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:p}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:p}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:p}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:p}))))))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Description"),l.a.createElement(N.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Place description",onChange:b,value:s.formData.description})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(f.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},s.isReadyToSubmit?l.a.createElement(_.a,{type:"submit",variant:"none",onClick:function(e){e.preventDefault(),function(){var e=s.formData,a=e.type,t=e.title,n=e.subtitle,l=e.categories,c=e.seasons,r=e.region,i=e.placeType,o=e.images,p=e.description,h=e.phone,g=e.website,v=e.place_full_address,E=e.place_locality,b=e.place_province,y=e.place_state,f=e.place_country,k=e.place_lat,w=e.place_lng,N=e.place_rating,C=e.place_id,_=e.place_opening_hours,j=e.price;u.place(a,t,n,l,c,r,i,o,p,h,g,v,E,b,y,f,k,w,N,C,_,j).then((function(){m(Object(x.a)(Object(x.a)({},s),{},{formData:{emptyForm:!0,type:"place",title:"",subtitle:"",categories:[],seasons:[],region:"",placeType:"",images:[],description:"",phone:"",website:"",place_full_address:"",place_locality:"",place_province:"",place_state:"",place_country:"",place_lat:"",place_lng:"",place_rating:0,place_id:"",place_opening_hours:"",price:"",isReadyToSubmit:!1}})),d.push("/dashboard")})).catch((function(e){return console.log(e)}))}()}},"Publish"):l.a.createElement(_.a,{type:"submit",variant:"none",disabled:!0},"Publish"))))))},fe=function(e){var a={loggedUser:e.user,id:e.match.params.id,place:{},placeLoaded:!1,owner:{},bookmarkDetails:{},isBookmarked:!1,showBookmarkToast:!1,toastMessage:""},t=Object(n.useState)(a),c=Object(i.a)(t,2),r=c[0],o=c[1],s=new H,m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],p=u[1];if(Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a,t,n,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.loggedUser||"null"===r.loggedUser){e.next=4;break}return e.next=3,s.getUserAllBookmarks();case 3:a=e.sent;case 4:return e.next=6,s.getPlaceDetails(r.id);case 6:t=e.sent,a&&a.forEach((function(e){e.bookmarkPlaceRef&&(n=e.bookmarkPlaceRef._id===t._id?e:null)})),l=!!n&&!n.isRemoved,o(Object(x.a)(Object(x.a)({},r),{},{place:t,placeLoaded:!0,owner:t.owner,bookmarkDetails:a,isBookmarked:l}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r.loggedUser]),!1===r.placeLoaded)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(ae.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var h,g=r.place,v=g.title,E=g.subtitle,b=g.description,y=function(){var e=r.place._id,a=r.place.type;s.bookmark(e,a).then((function(e){o(Object(x.a)(Object(x.a)({},r),{},{isBookmarked:!r.isBookmarked,showBookmarkToast:!0,toastMessage:e.message||"Listing bookmarked!"}))}))};h=e.user&&"null"!==e.user?!1===r.isBookmarked?l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return y()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Bookmark")):l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return y()}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{fill:"#0d1f44",d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Unbookmark")):l.a.createElement("div",{className:"listing-bookmark-wrapper",onClick:function(){return p(!0)}},l.a.createElement("button",{className:"listing-bookmark"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bookmark",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#0d1f44",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5-3l-5 3v-14a2 2 0 0 1 2 -2"}))),l.a.createElement("span",null,"Bookmark"));var N,C,_=l.a.createElement(de.a,{onClose:function(){return o(Object(x.a)(Object(x.a)({},r),{},{showBookmarkToast:!1,toastMessage:""}))},show:r.showBookmarkToast,delay:5e3,autohide:!0},l.a.createElement(de.a.Header,null,l.a.createElement("img",{src:"../../logo-xs.svg",className:"rounded mr-2",alt:""}),l.a.createElement("strong",{className:"mr-auto"},"Getaways.guru")),l.a.createElement(de.a.Body,null,r.toastMessage," ",l.a.createElement("br",null)," ",l.a.createElement(P.b,{to:"/bookmarks"},"See all bookmarks")," ")),j={lat:parseFloat(r.place.place_lat),lng:parseFloat(r.place.place_lng)},O=r.place.images.map((function(e,a){return l.a.createElement("div",{key:a,className:"cover",style:{backgroundImage:"url(".concat(e,")")}})}));r.place.place_opening_hours.length>0&&(N=r.place.place_opening_hours.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-hour"},e)})),C=l.a.createElement("div",{className:"listing-activity-hours"},l.a.createElement("ul",{className:"listing-activity-hours-list"},l.a.createElement("li",{className:"header"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),l.a.createElement("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),l.a.createElement("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),l.a.createElement("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),l.a.createElement("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),l.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"18"})),"Opening Hours"),N)));var L=r.place.categories.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-category"},e," getaway")})),M=r.place.seasons.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-season"},e)})),S=r.place.region.map((function(e,a){return l.a.createElement("li",{key:a,className:"place-region"},e)}));return l.a.createElement("div",{id:"listingPage"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1200"},r.showBookmarkToast?_:null,l.a.createElement("div",{className:"box"},l.a.createElement(k.a,null,l.a.createElement("section",{className:"listing-header-wrapper"},l.a.createElement(w.a,{lg:12},l.a.createElement("div",{className:"listing-header"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-title-wrapper"},l.a.createElement("h1",{className:"listing-title"},v)),l.a.createElement("div",{className:"listing-meta-bar"},l.a.createElement("ul",null,l.a.createElement("li",{className:"listing-type"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-route",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"6",cy:"19",r:"2"}),l.a.createElement("circle",{cx:"18",cy:"5",r:"2"}),l.a.createElement("path",{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"})),l.a.createElement("span",null,r.place.type)),l.a.createElement("li",{className:"listing-rating"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-star",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z"})),l.a.createElement("span",null,r.place.place_rating)),l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),l.a.createElement("span",null,"".concat(void 0===r.place.place_locality?"":r.place.place_locality).concat(void 0===r.place.place_locality?"":","," ").concat(r.place.place_province||r.place.place_state,", ").concat(r.place.place_country)))))),l.a.createElement("div",{className:"col right"},h)),l.a.createElement("div",{className:"listing-cover d-flex justify-space-between"},O)))),l.a.createElement(k.a,null,l.a.createElement("article",{className:"listing-body"},l.a.createElement(w.a,{lg:7},l.a.createElement("div",{className:"listing-body-wrapper d-flex justify-content-between align-items-center"},l.a.createElement("p",{className:"listing-subtitle"},E),l.a.createElement("div",{className:"listing-owner"},l.a.createElement(P.b,{to:"/users/".concat(r.owner._id)},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:r.owner.avatar,alt:r.owner.fullName})),l.a.createElement("p",{className:"listing-owner-name"},r.owner.fullName)))),l.a.createElement("div",{className:"listing-details-body d-flex"},l.a.createElement("div",{className:"listing-categories"},l.a.createElement("span",null,"Ideal for a"),l.a.createElement("ul",null,L)),l.a.createElement("div",{className:"listing-seasons"},l.a.createElement("span",null,"Must visit in"),l.a.createElement("ul",null,M)),l.a.createElement("div",{className:"d-flex right"},l.a.createElement("div",{className:"listing-type"},l.a.createElement("span",null,"Place is a"),l.a.createElement("ul",null,r.place.placeType)),l.a.createElement("div",{className:"listing-region"},l.a.createElement("span",null,"Based in"),l.a.createElement("ul",null,S)),l.a.createElement("div",{className:"listing-price"},l.a.createElement("span",null,"Night price"),r.place.price," \u20ac"))),l.a.createElement("div",{className:"listing-description"},b)),l.a.createElement(w.a,{lg:1}),l.a.createElement(w.a,{lg:4},l.a.createElement("div",{className:"listing-details-box"},l.a.createElement("div",{className:"listing-map"},l.a.createElement(me.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:j,defaultZoom:11,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t={lat:parseFloat(r.place.place_lat),lng:parseFloat(r.place.place_lng)};new a.Marker({position:t,map:e,title:"Hello"})}(e.map,e.maps)}})),C,l.a.createElement("ul",{className:"listing-details-list"},l.a.createElement("li",{className:"listing-location"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-map-pin",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"11",r:"3"}),l.a.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"})),r.place.place_full_address),l.a.createElement("li",{className:"listing-phone"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-phone-call",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"}),l.a.createElement("path",{d:"M15 7a2 2 0 0 1 2 2"}),l.a.createElement("path",{d:"M15 3a6 6 0 0 1 6 6"})),l.a.createElement("a",{href:"tel:".concat(r.place.phone)},r.place.phone)),l.a.createElement("li",{className:"listing-website"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-link",width:"22",height:"22",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"}),l.a.createElement("path",{d:"M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"})),l.a.createElement("a",{href:"http://".concat(r.place.website)},r.place.website))))))))),l.a.createElement(pe,{visibility:d,hideModal:function(){return p(!1)}}))},ke=t(144),we=function(e){var a=e.user,t={loggedUser:a,formData:{emptyForm:!0,type:"story",title:"",subtitle:"",images:[],description:"",isSubmitted:!1}},c=Object(n.useState)(t),r=Object(i.a)(c,2),s=r[0],m=r[1],u=new H,d=Object(o.g)(),p=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),u.uploadFile(t).then((function(e){m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},{images:[].concat(Object(ce.a)(s.formData.images),[e.path])})}))}))},h=function(e){var a;m(Object(x.a)(Object(x.a)({},s),{},{formData:Object(x.a)(Object(x.a)({},s.formData),{},(a={},Object(V.a)(a,e.target.name,e.target.value),Object(V.a)(a,"emptyForm",!1),a))}))};return l.a.createElement("div",{id:"place"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:4,className:"sided-shadow"},l.a.createElement(ke.a,null,l.a.createElement(ke.a.Item,{href:"#"},"Home"),l.a.createElement(ke.a.Item,{href:"#"},"Create story")),l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Create Story")),l.a.createElement(N.a,{onSubmit:function(e){e.preventDefault(),function(){var e=s.formData,a=e.type,t=e.title,n=e.subtitle,l=e.images,c=e.description;u.story(a,t,n,l,c).then((function(){m(Object(x.a)(Object(x.a)({},s),{},{formData:{emptyForm:!0,type:"story",title:"",subtitle:"",images:[],description:"",isSubmitted:!1}})),d.push("/dashboard")})).catch((function(e){return console.log(e)}))}()}},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Title"),l.a.createElement(N.a.Control,{type:"text",name:"title",placeholder:"Story title",onChange:h,value:s.formData.title})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Subtitle"),l.a.createElement(N.a.Control,{type:"text",name:"subtitle",placeholder:"Story subtitle",onChange:h,value:s.formData.subtitle})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Image"),l.a.createElement(N.a.Control,{type:"file",onChange:p})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Image"),l.a.createElement(N.a.Control,{type:"file",onChange:p})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Image"),l.a.createElement(N.a.Control,{type:"file",onChange:p})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Image"),l.a.createElement(N.a.Control,{type:"file",onChange:p})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Image"),l.a.createElement(N.a.Control,{type:"file",onChange:p})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Body"),l.a.createElement(N.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Story body",onChange:h,value:s.formData.description})),l.a.createElement("div",{className:"buttons d-flex justify-space-between"},l.a.createElement(_.a,{type:"submit",variant:"primary"},"Post")))),l.a.createElement(w.a,{lg:8}))))},xe=function(e){var a={loggedUser:e.user,id:e.match.params.id,story:{},storyLoaded:!1,owner:{}},t=Object(n.useState)(a),c=Object(i.a)(t,2),r=c[0],o=c[1],s=new H,m=Object(n.useCallback)((function(){s.getStoryDetails(r.id).then((function(e){console.log(e),o(Object(x.a)(Object(x.a)({},r),{},{story:e,storyLoaded:!0,owner:e.owner}))}))}),[r,s]);Object(n.useEffect)(m,[]);var u,d,p,h,g,v=r.story,E=v.title,b=v.subtitle,y=v.description;if(!r.storyLoaded)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(ae.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var w=r.story.images;return u=w[0],d=w[1],p=w[2],h=w[3],g=w[4],l.a.createElement("div",{id:"listingPage"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1200"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("section",{className:"col"},l.a.createElement("div",{className:"listing-cover d-flex justify-space-between"},l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(u,"')")}}),l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(d,"')")}}),l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(p,"')")}}),l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(h,"')")}})),l.a.createElement("div",{className:"cover",style:{backgroundImage:"url('".concat(g,"')")}}))),l.a.createElement("article",{className:"d-flex listing-content"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-wrapper"},l.a.createElement("div",{className:"listing-header"},l.a.createElement("h1",{className:"listing-title"},E),l.a.createElement("div",{className:"d-flex listing-meta-wrapper"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"listing-owner"},l.a.createElement(P.b,{to:"/users/".concat(r.owner._id)},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:r.owner.avatar,alt:r.owner.fullName})),l.a.createElement("p",{className:"listing-owner-name"},r.owner.fullName)))),l.a.createElement("div",{className:"col right"},l.a.createElement("p",{className:"listing-subtitle"},b)))),l.a.createElement("div",{className:"listing-body"},l.a.createElement("div",{className:"listing-description"},y)))),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"listing-details-box"})))))))},Ne=function(e){var a,t,c,r,s,m,u,d,p,h,g,v,E,b,y,C,j={loggedUser:e.user,id:e.match.params.id,activity:{},isActivityLoaded:!1},L=Object(n.useState)(j),M=Object(i.a)(L,2),S=M[0],T=M[1],A=new H,P=Object(o.g)();Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.activityDetails(S.id);case 2:a=e.sent,T(Object(x.a)(Object(x.a)({},S),{},{activity:a,isActivityLoaded:!0}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!0===S.isActivityLoaded&&(a=!!S.activity.categories.includes("romantic"),t=!!S.activity.categories.includes("adventure"),c=!!S.activity.categories.includes("gastronomic"),r=!!S.activity.categories.includes("cultural"),s=!!S.activity.categories.includes("relax"),m=!!S.activity.seasons.includes("winter"),u=!!S.activity.seasons.includes("spring"),d=!!S.activity.seasons.includes("summer"),p=!!S.activity.seasons.includes("autumn"),h=!!S.activity.region.includes("barcelona"),g=!!S.activity.region.includes("tarragona"),v=!!S.activity.region.includes("girona"),E=!!S.activity.region.includes("lleida"),b=!!S.activity.region.includes("costaBrava"),y=!!S.activity.region.includes("costaDaurada"),C=!!S.activity.region.includes("pirineus"));var D=S.activity,G=D.title,z=D.subtitle,F=D.activity_full_address,W=D.phone,q=D.website,I=D.price,Z=D.duration,Y=D.description,K=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),A.uploadFile(t).then((function(e){T(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{images:[].concat(Object(ce.a)(S.activity.images),[e.path])})}))}))},Q=function(e){var a=S.activity.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);console.log(t),a.splice(t,1)}T(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{categories:a})}))},X=function(e){var a=S.activity.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}T(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{seasons:a})}))},J=function(e){T(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{region:e.target.id})}))},$=function(e){return T(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},Object(V.a)({},e.target.name,e.target.value))}))},ee=function(e){e.preventDefault();var a=S.activity,t=a._id,n=a.title,l=a.subtitle,c=a.categories,r=a.seasons,i=a.region,o=a.images,s=a.description,m=a.phone,u=a.website,d=a.activity_full_address,p=a.activity_locality,h=a.activity_province,g=a.activity_state,v=a.activity_country,E=a.activity_lat,b=a.activity_lng,y=a.activity_rating,f=a.activity_place_id,k=a.activity_opening_hours,w=a.duration,x=a.price;A.editActivity(t,n,l,c,r,i,o,s,m,u,d,p,h,g,v,E,b,y,f,k,w,x).then((function(){return P.push("/dashboard")}))};return l.a.createElement("div",{id:"activity",className:"composer"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Edit Activity"),l.a.createElement("p",{className:"sub-h1"},"Edit and submit your activity so others start enjoying it.")),l.a.createElement(N.a,{onSubmit:ee},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Title"),l.a.createElement(N.a.Control,{type:"text",name:"title",placeholder:"Activity title",defaultValue:G,onChange:$})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Subtitle"),l.a.createElement(N.a.Control,{type:"text",name:"subtitle",placeholder:"Activity subtitle",defaultValue:z,onChange:$})),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Activity Category"),l.a.createElement(N.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:Q,checked:a}),l.a.createElement(N.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:Q,checked:t}),l.a.createElement(N.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:Q,checked:c}),l.a.createElement(N.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:Q,checked:r}),l.a.createElement(N.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:Q,checked:s}))),l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Activity Season"),l.a.createElement(N.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:X,checked:m}),l.a.createElement(N.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:X,checked:u}),l.a.createElement(N.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:X,checked:d}),l.a.createElement(N.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:X,checked:p}))),l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Activity Region"),l.a.createElement(N.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"activitySeason",onChange:J,checked:h}),l.a.createElement(N.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"activitySeason",onChange:J,checked:g}),l.a.createElement(N.a.Check,{type:"radio",id:"girona",label:"Girona",name:"activitySeason",onChange:J,checked:v}),l.a.createElement(N.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"activitySeason",onChange:J,checked:E}),l.a.createElement(N.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"activitySeason",onChange:J,checked:b}),l.a.createElement(N.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"activitySeason",onChange:J,checked:y}),l.a.createElement(N.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"activitySeason",onChange:J,checked:C}))))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Location"),l.a.createElement(O.a,{className:"location-control",apiKey:"".concat("AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&"),style:{width:"100%"},defaultValue:F,onPlaceSelected:function(e){var a,t,n,l,c,r,i,o,s,m;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(c=e.long_name)})),e.geometry.viewport&&(r=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(m=e.opening_hours.weekday_text),T(Object(x.a)(Object(x.a)({},S),{},{activity:Object(x.a)(Object(x.a)({},S.activity),{},{activity_full_address:a,activity_locality:t,activity_province:n,activity_state:l,activity_country:c,activity_lat:r,activity_lng:i,activity_rating:o,activity_id:s,activity_opening_hours:m})}))},types:["establishment"],placeholder:"Type the activity address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:6},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Phone Number"),l.a.createElement(N.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:$,value:W}))),l.a.createElement(w.a,{lg:6},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Website"),l.a.createElement(N.a.Control,{type:"url",name:"website",placeholder:"Activity website",onChange:$,value:q})))),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:6},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Price (\u20ac)"),l.a.createElement(N.a.Control,{type:"number",name:"price",placeholder:"Activity price",onChange:$,value:I}))),l.a.createElement(w.a,{lg:6},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Duration (h)"),l.a.createElement(N.a.Control,{type:"number",name:"duration",placeholder:"Activity duration",onChange:$,value:Z})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Activity Images"),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:K}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:K}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:K}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:K}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:K}))))))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Description"),l.a.createElement(N.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Activity description",defaultValue:Y,onChange:$})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(f.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},l.a.createElement(_.a,{type:"submit",variant:"none",onClick:ee},"Save changes"))))))},Ce=function(e){var a,t,c,r,s,m,u,d,p,h,g,v,E,b,y,C,j,L,M,S,T,A,P={loggedUser:e.user,id:e.match.params.id,place:{},isPlaceLoaded:!1},D=Object(n.useState)(P),G=Object(i.a)(D,2),z=G[0],F=G[1],W=new H,q=Object(o.g)();Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getPlaceDetails(z.id);case 2:a=e.sent,F(Object(x.a)(Object(x.a)({},z),{},{place:a,isPlaceLoaded:!0}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!0===z.isPlaceLoaded&&(a=!!z.place.categories.includes("romantic"),t=!!z.place.categories.includes("adventure"),c=!!z.place.categories.includes("gastronomic"),r=!!z.place.categories.includes("cultural"),s=!!z.place.categories.includes("relax"),m=!!z.place.seasons.includes("winter"),u=!!z.place.seasons.includes("spring"),d=!!z.place.seasons.includes("summer"),p=!!z.place.seasons.includes("autumn"),h=!!z.place.region.includes("barcelona"),g=!!z.place.region.includes("tarragona"),v=!!z.place.region.includes("girona"),E=!!z.place.region.includes("lleida"),b=!!z.place.region.includes("costaBrava"),y=!!z.place.region.includes("costaDaurada"),C=!!z.place.region.includes("pirineus"),j=!!z.place.placeType.includes("apartment"),L=!!z.place.placeType.includes("cabin"),M=!!z.place.placeType.includes("treeHouse"),S=!!z.place.placeType.includes("ruralHouse"),T=!!z.place.placeType.includes("trailer"),A=!!z.place.placeType.includes("hotel"));var I=z.place,Z=I.title,Y=I.subtitle,K=I.place_full_address,Q=I.phone,X=I.website,J=I.price,$=I.description,ee=function(e){var a=e.target.files[0],t=new FormData;t.append("imageUrl",a),W.uploadFile(t).then((function(e){F(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{images:[].concat(Object(ce.a)(z.place.images),[e.path])})}))}))},ae=function(e){var a=z.place.categories;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}F(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{categories:a})}))},te=function(e){var a=z.place.seasons;if(!0===e.target.checked)a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}F(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{seasons:a})}))},ne=function(e){F(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{region:e.target.id})}))},le=function(e){F(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{placeType:e.target.id})}))},re=function(e){return F(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},Object(V.a)({},e.target.name,e.target.value))}))},ie=function(e){e.preventDefault();var a=z.place,t=a._id,n=a.title,l=a.subtitle,c=a.categories,r=a.seasons,i=a.region,o=a.placeType,s=a.images,m=a.description,u=a.phone,d=a.website,p=a.place_full_address,h=a.place_locality,g=a.place_province,v=a.place_state,E=a.place_country,b=a.place_lat,y=a.place_lng,f=a.place_rating,k=a.place_id,w=a.place_opening_hours,x=a.price;W.editPlace(t,n,l,c,r,i,o,s,m,u,d,p,h,g,v,E,b,y,f,k,w,x).then((function(){return q.push("/dashboard")}))};return l.a.createElement("div",{id:"editForm",className:"composer"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:e.user}),l.a.createElement(f.a,{className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12,className:"sided-shadow"},l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Edit Place"),l.a.createElement("p",{className:"sub-h1"},"Edit and submit your place so others start enjoying it.")),l.a.createElement(N.a,{onSubmit:ie},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Title"),l.a.createElement(N.a.Control,{type:"text",name:"title",placeholder:"Place title",defaultValue:Z,onChange:re})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Subtitle"),l.a.createElement(N.a.Control,{type:"text",name:"subtitle",placeholder:"Place subtitle",defaultValue:Y,onChange:re})),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:3},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Place Category"),l.a.createElement(N.a.Check,{type:"checkbox",name:"romantic",id:"romantic",label:"Romantic",onChange:ae,checked:a}),l.a.createElement(N.a.Check,{type:"checkbox",name:"adventure",id:"adventure",label:"Adventure",onChange:ae,checked:t}),l.a.createElement(N.a.Check,{type:"checkbox",name:"gastronomic",id:"gastronomic",label:"Gastronomic",onChange:ae,checked:c}),l.a.createElement(N.a.Check,{type:"checkbox",name:"cultural",id:"cultural",label:"Cultural",onChange:ae,checked:r}),l.a.createElement(N.a.Check,{type:"checkbox",name:"relax",id:"relax",label:"Relax",onChange:ae,checked:s}))),l.a.createElement(w.a,{lg:3},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Place Season"),l.a.createElement(N.a.Check,{type:"checkbox",name:"winter",id:"winter",label:"Winter",onChange:te,checked:m}),l.a.createElement(N.a.Check,{type:"checkbox",name:"spring",id:"spring",label:"Spring",onChange:te,checked:u}),l.a.createElement(N.a.Check,{type:"checkbox",name:"summer",id:"summer",label:"Summer",onChange:te,checked:d}),l.a.createElement(N.a.Check,{type:"checkbox",name:"autumn",id:"autumn",label:"Autumn",onChange:te,checked:p}))),l.a.createElement(w.a,{lg:3},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Place Region"),l.a.createElement(N.a.Check,{type:"radio",id:"barcelona",label:"Barcelona",name:"placeRegion",onChange:ne,checked:h}),l.a.createElement(N.a.Check,{type:"radio",id:"tarragona",label:"Tarragona",name:"placeRegion",onChange:ne,checked:g}),l.a.createElement(N.a.Check,{type:"radio",id:"girona",label:"Girona",name:"placeRegion",onChange:ne,checked:v}),l.a.createElement(N.a.Check,{type:"radio",id:"lleida",label:"Lleida",name:"placeRegion",onChange:ne,checked:E}),l.a.createElement(N.a.Check,{type:"radio",id:"costaBrava",label:"Costa Brava",name:"placeRegion",onChange:ne,checked:b}),l.a.createElement(N.a.Check,{type:"radio",id:"costaDaurada",label:"Costa Daurada",name:"placeRegion",onChange:ne,checked:y}),l.a.createElement(N.a.Check,{type:"radio",id:"pirineus",label:"Pirineus",name:"placeRegion",onChange:ne,checked:C})))),l.a.createElement(w.a,{lg:3},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Place Type"),l.a.createElement(N.a.Check,{type:"radio",id:"hotel",label:"Hotel",name:"placeType",onChange:le,checked:A}),l.a.createElement(N.a.Check,{type:"radio",id:"apartment",label:"Apartment",name:"placeType",onChange:le,checked:j}),l.a.createElement(N.a.Check,{type:"radio",id:"cabin",label:"Cabin",name:"placeType",onChange:le,checked:L}),l.a.createElement(N.a.Check,{type:"radio",id:"treeHouse",label:"Treehouse",name:"placeType",onChange:le,checked:M}),l.a.createElement(N.a.Check,{type:"radio",id:"ruralHouse",label:"Rural house",name:"placeType",onChange:le,checked:S}),l.a.createElement(N.a.Check,{type:"radio",id:"trailer",label:"Trailer",name:"placeType",onChange:le,checked:T}))))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Location"),l.a.createElement(O.a,{className:"location-control",apiKey:"".concat("AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw&"),style:{width:"100%"},defaultValue:K,onPlaceSelected:function(e){var a,t,n,l,c,r,i,o,s,m;a=e.formatted_address,e.address_components.forEach((function(e){"locality"===e.types[0]&&(t=e.long_name),"administrative_area_level_2"===e.types[0]&&(n=e.long_name),"administrative_area_level_1"===e.types[0]&&(l=e.long_name),"country"===e.types[0]&&(c=e.long_name)})),e.geometry.viewport&&(r=e.geometry.viewport.Za?e.geometry.viewport.Za.i:e.geometry.viewport.ab.i,i=e.geometry.viewport.Va.i),o=e.rating,s=e.place_id,e.opening_hours&&(m=e.opening_hours.weekday_text),F(Object(x.a)(Object(x.a)({},z),{},{place:Object(x.a)(Object(x.a)({},z.place),{},{place_full_address:a,place_locality:t,place_province:n,place_state:l,place_country:c,place_lat:r,place_lng:i,place_rating:o,place_id:s,place_opening_hours:m})})),console.log(e)},types:["establishment"],placeholder:"Type the place address",fields:["rating","place_id","opening_hours","address_components","formatted_address","geometry"]})),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Phone Number"),l.a.createElement(N.a.Control,{type:"tel",name:"phone",placeholder:"Phone number for contact details",onChange:re,value:Q}))),l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Website"),l.a.createElement(N.a.Control,{type:"url",name:"website",placeholder:"Place website",onChange:re,value:X}))),l.a.createElement(w.a,{lg:4},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Price per night (\u20ac)"),l.a.createElement(N.a.Control,{type:"number",name:"price",placeholder:"Place price",onChange:re,value:J})))),l.a.createElement("div",{className:"images"},l.a.createElement("span",null,"Place Images"),l.a.createElement(N.a.Row,null,l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:ee}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:ee}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:ee}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:ee}))))),l.a.createElement(w.a,{lg:2},l.a.createElement(N.a.Group,null,l.a.createElement("div",{className:"image-drop-zone"},l.a.createElement(N.a.Label,null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("line",{x1:"15",y1:"8",x2:"15.01",y2:"8"}),l.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3"}),l.a.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l 5 5"}),l.a.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l 2 2"})),l.a.createElement(N.a.Control,{type:"file",onChange:ee}))))))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Description"),l.a.createElement(N.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Place description",defaultValue:$,onChange:re})))))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(f.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},l.a.createElement(_.a,{type:"submit",variant:"none",onClick:ie},"Save changes"))))))},_e=function(e){var a={loggedUser:e.user,id:e.match.params.id,story:{}},t=Object(n.useState)(a),c=Object(i.a)(t,2),r=c[0],s=c[1],m=new H,u=Object(o.g)(),d=Object(n.useCallback)((function(){m.getStoryDetails(r.id).then((function(e){s(Object(x.a)(Object(x.a)({},r),{},{story:e}))}))}),[r,m]);Object(n.useEffect)(d,[]);var p=r.story,h=p.title,g=p.subtitle,v=p.image,E=p.description,b=function(e){return s(Object(x.a)(Object(x.a)({},r),{},{story:Object(x.a)(Object(x.a)({},r.story),{},Object(V.a)({},e.target.name,e.target.value))}))};return l.a.createElement("div",{id:"editForm",className:"composer"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:e.user}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:4,className:"sided-shadow"},l.a.createElement(ke.a,null,l.a.createElement(ke.a.Item,{href:"#"},"Home"),l.a.createElement(ke.a.Item,{href:"#"},"Edit Story")),l.a.createElement("div",{className:"form-composer"},l.a.createElement("h1",null,"Edit Story")),l.a.createElement(N.a,{onSubmit:function(e){e.preventDefault();var a=r.story,t=a._id,n=a.title,l=a.subtitle,c=a.description;m.editStory(t,n,l,c).then((function(){return u.push("/dashboard")}))}},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Title"),l.a.createElement(N.a.Control,{type:"text",name:"title",placeholder:"Story title",defaultValue:h,onChange:b})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Subtitle"),l.a.createElement(N.a.Control,{type:"text",name:"subtitle",placeholder:"Story subtitle",defaultValue:g,onChange:b})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Image"),l.a.createElement(N.a.Control,{type:"text",name:"image",placeholder:"Story image",defaultValue:v,onChange:b})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Description"),l.a.createElement(N.a.Control,{as:"textarea",rows:"5",type:"text",name:"description",placeholder:"Story description",defaultValue:E,onChange:b})),l.a.createElement("div",{className:"buttons d-flex justify-space-between"},l.a.createElement(_.a,{type:"submit",variant:"primary"},"Post")))),l.a.createElement(w.a,{lg:8}))))},je=function(e){var a,t=e.user,c={loggedUser:t,places:[],queryPlaceType:[],queryPlaceRegion:[],queryPlaceCategory:[],queryPlaceSeason:[],updateSearch:!1,hasPlaces:!1},r=Object(n.useState)(c),o=Object(i.a)(r,2),s=o[0],m=o[1],u=new H,d=Object(n.useCallback)((function(){u.getAllPlaces("/places").then((function(e){var a;e.length>0&&(a=!0),m(Object(x.a)(Object(x.a)({},s),{},{places:e,hasPlaces:a}))}))}),[s,u]);Object(n.useEffect)(d,[]),!0===s.hasPlaces&&(a=s.places.map((function(e){return l.a.createElement(se,{key:e._id,type:e.type,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,location:"".concat(void 0===e.place_locality?"":e.place_locality).concat(void 0===e.place_locality?"":","," ").concat(e.place_province||e.place_state,", ").concat(e.place_country)})})));var p=function(e){var a=s.queryPlaceType;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryPlaceType:a,updateSearch:!0}))},h=function(e){var a=s.queryPlaceRegion;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryPlaceRegion:a,updateSearch:!0}))},g=function(e){var a=s.queryPlaceCategory;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryPlaceCategory:a,updateSearch:!0}))},v=function(e){var a=s.queryPlaceSeason;if(!0===e.target.checked)a.length<1?a.push("".concat(e.target.name,"=").concat(e.target.id)):a.push(e.target.id);else{var t=a.indexOf(e.target.id);a.splice(t,1)}m(Object(x.a)(Object(x.a)({},s),{},{queryPlaceSeason:a,updateSearch:!0}))};return Object(n.useEffect)((function(){!0===s.updateSearch&&u.searchPlaces(s.queryPlaceType,s.queryPlaceRegion,s.queryPlaceCategory,s.queryPlaceSeason).then((function(e){m(Object(x.a)(Object(x.a)({},s),{},{places:e,updateSearch:!1}))}))}),[s.updateSearch]),l.a.createElement("div",{id:"contentList",className:"place"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:t}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"filter-list"},l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Place type"),l.a.createElement(N.a.Check,{label:"Hotel",name:"placeType",id:"hotel",onChange:p}),l.a.createElement(N.a.Check,{label:"Apartment",name:"placeType",id:"apartment",onChange:p}),l.a.createElement(N.a.Check,{label:"Cabin",name:"placeType",id:"cabin",onChange:p}),l.a.createElement(N.a.Check,{label:"Treehouse",name:"placeType",id:"treehouse",onChange:p}),l.a.createElement(N.a.Check,{label:"Ruralhouse",name:"placeType",id:"ruralhouse",onChange:p}),l.a.createElement(N.a.Check,{label:"Trailer",name:"placeType",id:"trailer",onChange:p})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Region"),l.a.createElement(N.a.Check,{label:"Barcelona",name:"placeRegion",id:"barcelona",onChange:h}),l.a.createElement(N.a.Check,{label:"Girona",name:"placeRegion",id:"girona",onChange:h}),l.a.createElement(N.a.Check,{label:"Lleida",name:"placeRegion",id:"lleida",onChange:h}),l.a.createElement(N.a.Check,{label:"Tarragona",name:"placeRegion",id:"tarragona",onChange:h}),l.a.createElement(N.a.Check,{label:"Costa Brava",name:"placeRegion",id:"costaBrava",onChange:h}),l.a.createElement(N.a.Check,{label:"Costa Daurada",name:"placeRegion",id:"costaDaurada",onChange:h}),l.a.createElement(N.a.Check,{label:"Pirineus",name:"placeRegion",id:"pirineus",onChange:h})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Category"),l.a.createElement(N.a.Check,{label:"Romantic",name:"placeCategory",id:"romantic",onChange:g}),l.a.createElement(N.a.Check,{label:"Adventure",name:"placeCategory",id:"adventure",onChange:g}),l.a.createElement(N.a.Check,{label:"Gastronomic",name:"placeCategory",id:"gastronomic",onChange:g}),l.a.createElement(N.a.Check,{label:"Cultural",name:"placeCategory",id:"cultural",onChange:g}),l.a.createElement(N.a.Check,{label:"Relax",name:"placeCategory",id:"relax",onChange:g})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Season"),l.a.createElement(N.a.Check,{label:"Winter",name:"placeSeason",id:"winter",onChange:v}),l.a.createElement(N.a.Check,{label:"Spring",name:"placeSeason",id:"spring",onChange:v}),l.a.createElement(N.a.Check,{label:"Summer",name:"placeSeason",id:"summer",onChange:v}),l.a.createElement(N.a.Check,{label:"Autumn",name:"placeSeason",id:"autumn",onChange:v})))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Places"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 places"),l.a.createElement("li",null,"2 contributors"))),a),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"map-wrapper"},l.a.createElement("div",{className:"map-block"},l.a.createElement(me.a,{bootstrapURLKeys:{key:"AIzaSyAUENym8OVt2pBPNIMzvYLnXj_C7lIZtSw"},defaultCenter:{lat:41.3948976,lng:2.0787283},defaultZoom:8,options:function(e){return{disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",styles:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){var t=new a.LatLngBounds;s.places.forEach((function(n){var l={lat:parseFloat(n.place_lat),lng:parseFloat(n.place_lng)},c='<div id="infoview-wrapper">'+'<h1 id="firstHeading" class="firstHeading">'.concat(n.title,"</h1>")+"<p>".concat(n.subtitle,"</p>")+"</div>",r=new a.InfoWindow({content:c}),i=new a.Marker({position:l,map:e,icon:"../../map-marker.svg"});t.extend(i.position),i.addListener("click",(function(){return r.open(e,i)}))})),e.fitBounds(t)}(e.map,e.maps)}}))))))))},Oe=function(e){var a=e.user,t={loggedUser:a,stories:[]},c=Object(n.useState)(t),r=Object(i.a)(c,2),o=r[0],s=r[1],m=new H,u=Object(n.useCallback)((function(){m.getAllStories("/stories").then((function(e){s(Object(x.a)(Object(x.a)({},o),{},{stories:e}))}))}),[o,m]);Object(n.useEffect)(u,[]);var d=o.stories.map((function(e){return l.a.createElement(se,{key:e._id,id:e._id,image:e.images[0],title:e.title,subtitle:e.subtitle,location:e.location,type:e.type})}));return l.a.createElement("div",{id:"contentList",className:"activity"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:a}),l.a.createElement(f.a,{fluid:!0,className:"top-nav"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Stories"),l.a.createElement("p",{className:"top-nav-subtitle"},"Wear your best boots, your swimsuit, your backpack or your skis. There's a whole world waiting to be discovered. Get away and enjoy with the activities below."),l.a.createElement("ul",{className:"top-nav-meta d-flex align-items-center"},l.a.createElement("li",null,"3 stories"),l.a.createElement("li",null,"2 contributors")))),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"filter-list"},l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Verified"),l.a.createElement(N.a.Check,{label:"Yes"}),l.a.createElement(N.a.Check,{label:"No"})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Price"),l.a.createElement(N.a.Check,{label:"Free"}),l.a.createElement(N.a.Check,{label:"\u20ac"}),l.a.createElement(N.a.Check,{label:"\u20ac\u20ac"}),l.a.createElement(N.a.Check,{label:"\u20ac\u20ac\u20ac"})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Location"),l.a.createElement(N.a.Check,{label:"> 100 km"}),l.a.createElement(N.a.Check,{label:"50 - 100 km"}),l.a.createElement(N.a.Check,{label:"20 - 50 km"}),l.a.createElement(N.a.Check,{label:"< 20 km"})),l.a.createElement("div",{className:"filter-block"},l.a.createElement("span",{className:"block-title"},"Category"),l.a.createElement(N.a.Check,{label:"Romantic"}),l.a.createElement(N.a.Check,{label:"Adventure"}),l.a.createElement(N.a.Check,{label:"Gastronomic"}),l.a.createElement(N.a.Check,{label:"Cultural"}),l.a.createElement(N.a.Check,{label:"Winter"}),l.a.createElement(N.a.Check,{label:"Summer"}),l.a.createElement(N.a.Check,{label:"Health & Wellness"})))),l.a.createElement("div",{className:"col center"},d),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"an-wrapper"},l.a.createElement("div",{className:"an-block"})))))))},Le=function(e){var a={loggedUser:e.user,id:e.match.params.id,bookmarks:[],hasBookmarks:!1},t=Object(n.useState)(a),c=Object(i.a)(t,2),r=c[0],o=c[1],s=new H;if(Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a,t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getUserActiveBookmarks();case 2:a=e.sent,t=[],a.map((function(e){return t.push(e)})),n=!!t,o(Object(x.a)(Object(x.a)({},r),{},{bookmarks:t,hasBookmarks:n}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!1===r.hasBookmarks)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(ae.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var m,u=r.bookmarks;return console.log(u),m=!0===r.hasBookmarks?u.map((function(e){return e.bookmarkActivityRef?(console.log("activity"),l.a.createElement(se,{key:e._id,type:e.bookmarkActivityRef.type,id:e.bookmarkActivityRef._id,title:e.bookmarkActivityRef.title,subtitle:e.bookmarkActivityRef.subtitle,image:e.bookmarkActivityRef.images[0],location:"".concat(void 0===e.bookmarkActivityRef.activity_locality?"":e.bookmarkActivityRef.activity_locality," ").concat(void 0===e.bookmarkActivityRef.activity_locality?"":","," ").concat(e.bookmarkActivityRef.activity_province||e.bookmarkActivityRef.activity_state,", ").concat(e.bookmarkActivityRef.activity_country)})):(console.log("hello"),l.a.createElement(se,{key:e._id,type:e.bookmarkPlaceRef.type,id:e.bookmarkPlaceRef._id,title:e.bookmarkPlaceRef.title,subtitle:e.bookmarkPlaceRef.subtitle,image:e.bookmarkPlaceRef.images[0],location:"".concat(void 0===e.bookmarkPlaceRef.place_locality?"":e.bookmarkPlaceRef.place_locality).concat(void 0===e.bookmarkPlaceRef.place_locality?"":","," ").concat(e.bookmarkPlaceRef.place_province||e.bookmarkPlaceRef.place_state,", ").concat(e.bookmarkPlaceRef.place_country)}))})):l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../no-bookmarks.svg",alt:"Graphic no bookmarks"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Oh no, this looks so empty.",l.a.createElement("br",null),"Search and bookmark listings to read them",l.a.createElement("br",null)," when you are ready."))),l.a.createElement("div",{id:"bookmarksList"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:e.user}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"},l.a.createElement("div",{className:"box bordered"},l.a.createElement("div",{className:"page-meta"},l.a.createElement("div",{className:"page-header d-flex"},l.a.createElement("h1",{className:"page-title"},"Bookmarks")),l.a.createElement("ul",null,l.a.createElement("li",{className:"page-bookmarks"},l.a.createElement("span",null,r.bookmarks.length)," ",r.bookmarks.length>1?"bookmarks":"bookmark"),l.a.createElement("hr",null),l.a.createElement("li",{className:"page-description"},"Find here your bookmarked activities, places and stories."))))),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"content-bar"},m)),l.a.createElement("div",{className:"col right"})))))},Me=function(){return l.a.createElement("div",{id:"404NotFound"},l.a.createElement(f.a,null,l.a.createElement(k.a,null,l.a.createElement(w.a,{lg:12},l.a.createElement("h1",null,"Oops! 404 not found"),l.a.createElement(P.b,{to:"/"},"Go home")))))},Se=function(e){var a,t,c={loggedUser:e.user,searchQuery:e.location.search,isFetching:!1,hasResults:!1,searchResults:[],activitiesFound:[],placesFound:[],updatedSearch:!1},r=Object(n.useState)(c),o=Object(i.a)(r,2),s=o[0],m=o[1],u=new H;if(Object(n.useEffect)((function(){(function(){var e=Object(U.a)(R.a.mark((function e(){var a,t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(x.a)(Object(x.a)({},s),{},{isFetching:!0})),e.next=3,u.searchBarQuery(s.searchQuery);case 3:(a=e.sent)instanceof Array?(t=a.length>0,m(Object(x.a)(Object(x.a)({},s),{},{isFetching:!1,hasResults:t,searchResults:a}))):a instanceof Object&&(n=a.places.length>0||a.activities.length>0,m(Object(x.a)(Object(x.a)({},s),{},{isFetching:!1,hasResults:n,activitiesFound:a.activities,placesFound:a.places})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){s.searchQuery!==e.location.search&&function(){var a=Object(U.a)(R.a.mark((function a(){var t,n;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.searchBarQuery(e.location.search);case 2:t=a.sent,n=t.places.length>0||t.activities.length>0,m(Object(x.a)(Object(x.a)({},s),{},{isFetching:!1,hasResults:n,activitiesFound:t.activities,placesFound:t.places}));case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()()}),[s.searchQuery,e.location.search]),s.isFetching)return l.a.createElement(f.a,{className:"spinner d-flex justify-space-between"},l.a.createElement(ae.a,{animation:"border",role:"status",variant:"primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")));if(t=s.searchResults.length>0?s.searchResults.length:s.activitiesFound.length+s.placesFound.length,s.activitiesFound.length>0||s.placesFound.length>0){var d=[];s.activitiesFound.map((function(e){return d.push(e)})),s.placesFound.map((function(e){return d.push(e)})),a=d.map((function(e){var a;return a="activity"===e.type?"".concat(void 0===e.activity_locality?"":e.activity_locality," ").concat(void 0===e.activity_locality?"":","," ").concat(e.activity_province||e.activity_state,", ").concat(e.activity_country):"".concat(void 0===e.place_locality?"":e.place_locality).concat(void 0===e.place_locality?"":","," ").concat(e.place_province||e.place_state,", ").concat(e.place_country),l.a.createElement(se,{key:e._id,image:e.images[0],id:e._id,title:e.title,subtitle:e.subtitle,type:e.type,location:a})}))}else a=0===t&&0===s.activitiesFound.length&&0===s.placesFound.length?l.a.createElement("div",{className:"box empty d-flex"},l.a.createElement("div",{className:"media"},l.a.createElement("img",{src:"../../empty-search-results.svg",alt:"Graphic no results"})),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Damn, this looks so empty.",l.a.createElement("br",null),"Refine your search to get better results."),l.a.createElement(P.b,{to:"/",className:"btn btn-primary text-center"},"Search again"))):s.searchResults.map((function(e){var a;return a="activity"===e.type?"".concat(void 0===e.activity_locality?"":e.activity_locality," ").concat(void 0===e.activity_locality?"":","," ").concat(e.activity_province||e.activity_state,", ").concat(e.activity_country):"".concat(void 0===e.place_locality?"":e.place_locality).concat(void 0===e.place_locality?"":","," ").concat(e.place_province||e.place_state,", ").concat(e.place_country),l.a.createElement(se,{key:e._id,image:e.images[0],id:e._id,title:e.title,subtitle:e.subtitle,type:e.type,location:a})}));return l.a.createElement("div",{id:"searchPage"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:e.user}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Search results"),l.a.createElement("p",{className:"top-nav-subtitle"},"We have found ",l.a.createElement("span",null,t," results")," based on your search query")),a),l.a.createElement("div",{className:"col left"})))))},Te=function(e){var a=e.user,t=e.match,c=e.refreshUserData,r=Object(o.g)();a&&"null"!==a&&!0===a.accountCompleted&&r.push("/feed");var s={loggedUser:a,typesToFollow:[],categoriesToFollow:[],regionsToFollow:[],seasonsToFollow:[],hasTypes:!1,hasCategories:!1,hasRegions:!1,hasSeasons:!1,accountCompleted:!1,isReadyToSubmit:!1},m=Object(n.useState)(s),u=Object(i.a)(m,2),d=u[0],p=u[1],h=new K,g=new H,v=function(e){var a=d.regionsToFollow,t=d.typesToFollow,n=d.categoriesToFollow,l=d.seasonsToFollow;if("region"===e.target.name)if(!0===e.target.checked)a.push(e.target.id),p(Object(x.a)(Object(x.a)({},d),{},{regionsToFollow:a,hasRegions:!0}));else{var c=a.indexOf(e.target.id);a.splice(c,1),a.length>0?p(Object(x.a)(Object(x.a)({},d),{},{regionsToFollow:a,hasRegions:!0})):p(Object(x.a)(Object(x.a)({},d),{},{regionsToFollow:a,hasRegions:!1}))}else if("type"===e.target.name)if(!0===e.target.checked)t.push(e.target.id),p(Object(x.a)(Object(x.a)({},d),{},{typesToFollow:t,hasTypes:!0}));else{var r=t.indexOf(e.target.id);t.splice(r,1),t.length>0?p(Object(x.a)(Object(x.a)({},d),{},{typesToFollow:t,hasTypes:!0})):p(Object(x.a)(Object(x.a)({},d),{},{typesToFollow:t,hasTypes:!1}))}else if("category"===e.target.name)if(!0===e.target.checked)n.push(e.target.id),p(Object(x.a)(Object(x.a)({},d),{},{categoriesToFollow:n,hasCategories:!0}));else{var i=n.indexOf(e.target.id);n.splice(i,1),n.length>0?p(Object(x.a)(Object(x.a)({},d),{},{categoriesToFollow:n,hasCategories:!0})):p(Object(x.a)(Object(x.a)({},d),{},{categoriesToFollow:n,hasCategories:!1}))}else if("season"===e.target.name)if(!0===e.target.checked)l.push(e.target.id),p(Object(x.a)(Object(x.a)({},d),{},{seasonsToFollow:l,hasSeasons:!0}));else{var o=l.indexOf(e.target.id);l.splice(o,1),l.length>0?p(Object(x.a)(Object(x.a)({},d),{},{seasonsToFollow:l,hasSeasons:!0})):p(Object(x.a)(Object(x.a)({},d),{},{seasonsToFollow:l,hasSeasons:!1}))}};Object(n.useEffect)((function(){d.hasCategories&&d.hasRegions&&d.hasTypes&&d.hasSeasons&&p(Object(x.a)(Object(x.a)({},d),{},{accountCompleted:!0,isReadyToSubmit:!0}))}),[d.hasCategories,d.hasRegions,d.hasTypes,d.hasSeasons]);var E=function(){var e=d.accountCompleted,a=d.typesToFollow,t=d.categoriesToFollow,n=d.regionsToFollow,l=d.seasonsToFollow;h.completeAccount(e,a,t,n,l).then((function(){p(Object(x.a)(Object(x.a)({},d),{},{formData:{typesToFollow:[],categoriesToFollow:[],regionsToFollow:[],seasonsToFollow:[],hasTypes:!1,hasCategories:!1,hasRegions:!1,hasSeasons:!1,accountCompleted:!1,isReadyToSubmit:!1}})),g.getUserProfile(d.loggedUser._id).then((function(e){return c(e)})),r.push("/feed")})).catch((function(e){return console.log(e)}))};return l.a.createElement("section",{id:"completeAccountPage"},l.a.createElement(B,{logo_url:"https://res.cloudinary.com/juligoodie/image/upload/c_scale,q_100,w_135/v1600008855/getaways-guru/static-files/logo-getaways-guru_vvbikk.svg",user:a,path:t.path}),l.a.createElement(f.a,{fluid:!0,className:"mw-1600"},l.a.createElement(k.a,null,l.a.createElement("div",{className:"box d-flex"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"},l.a.createElement("div",{className:"top-nav-wrapper"},l.a.createElement("h1",{className:"top-nav-title"},"Select topics to follow"),l.a.createElement("p",{className:"top-nav-subtitle"},"Select which regions, categories or places are of most interest to you to get inspired.",l.a.createElement("br",null),"You will later be ablet to modify your selection.")),l.a.createElement("div",{className:"selection-box"},l.a.createElement(N.a.Check,{label:"Barcelona",name:"region",id:"barcelona",onChange:v}),l.a.createElement(N.a.Check,{label:"Girona",name:"region",id:"girona",onChange:v}),l.a.createElement(N.a.Check,{label:"Lleida",name:"region",id:"lleida",onChange:v}),l.a.createElement(N.a.Check,{label:"Tarragona",name:"region",id:"tarragona",onChange:v}),l.a.createElement(N.a.Check,{label:"Costa Brava",name:"region",id:"costaBrava",onChange:v}),l.a.createElement(N.a.Check,{label:"Costa Daurada",name:"region",id:"costaDaurada",onChange:v}),l.a.createElement(N.a.Check,{label:"Pirineus",name:"region",id:"pirineus",onChange:v}),l.a.createElement(N.a.Check,{label:"Romantic",name:"category",id:"romantic",onChange:v}),l.a.createElement(N.a.Check,{label:"Adventure",name:"category",id:"adventure",onChange:v}),l.a.createElement(N.a.Check,{label:"Gastronomic",name:"category",id:"gastronomic",onChange:v}),l.a.createElement(N.a.Check,{label:"Cultural",name:"category",onChange:v,id:"cultural"}),l.a.createElement(N.a.Check,{label:"Relax",name:"category",onChange:v,id:"relax"}),l.a.createElement(N.a.Check,{label:"Winter",name:"season",onChange:v,id:"winter"}),l.a.createElement(N.a.Check,{label:"Spring",name:"season",onChange:v,id:"spring"}),l.a.createElement(N.a.Check,{label:"Summer",name:"season",onChange:v,id:"summer"}),l.a.createElement(N.a.Check,{label:"Autumn",name:"season",onChange:v,id:"autumn"}),l.a.createElement(N.a.Check,{label:"Summer",name:"season",onChange:v,id:"summer"}),l.a.createElement(N.a.Check,{label:"Apartment",name:"type",onChange:v,id:"apartment"}),l.a.createElement(N.a.Check,{label:"Cabin",name:"type",id:"cabin",onChange:v}),l.a.createElement(N.a.Check,{label:"Tree house",name:"type",id:"treehouse",onChange:v}),l.a.createElement(N.a.Check,{label:"Rural house",name:"type",id:"ruralhouse",onChange:v}),l.a.createElement(N.a.Check,{label:"Trailer",name:"type",id:"trailer",onChange:v}),l.a.createElement(N.a.Check,{label:"Hotel",name:"type",id:"hotel",onChange:v}))),l.a.createElement("div",{className:"col left"})))),l.a.createElement("div",{className:"progress-bar-outter"},l.a.createElement(f.a,{className:"d-flex align-items-center"},l.a.createElement("div",{className:"col left"}),l.a.createElement("div",{className:"col center"}),l.a.createElement("div",{className:"col right"},l.a.createElement("div",{className:"buttons d-flex justify-space-between justify-content-end"},d.isReadyToSubmit?l.a.createElement(_.a,{type:"submit",variant:"none",onClick:function(e){e.preventDefault(),E()}},"Save & continue"):l.a.createElement(_.a,{type:"submit",variant:"none",disabled:!0},"Save & continue"))))))};var Ae=function(){var e,a=Object(s.a)(""),t=Object(i.a)(a,2),c=t[0],r=t[1];c.loggedInUser&&null!==c.loggedInUser&&(e=c.loggedInUser);var m={loggedUser:e},u=Object(n.useState)(m),d=Object(i.a)(u,2),p=d[0],h=d[1],g=new Date,v=new Date;v.setFullYear(g.getFullYear()+1);var b=function(e){h({loggedUser:e}),r("loggedInUser",e,{expires:v})},f=function(e){h({loggedUser:e}),r("loggedInUser",e,{expires:v})};return l.a.createElement("div",{className:"app"},l.a.createElement(E,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{exact:!0,path:"/",render:function(e){return l.a.createElement(I,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/signup",render:function(e){return l.a.createElement(J,Object.assign({},e,{user:p.loggedUser,getUserDetails:b}))}}),l.a.createElement(o.b,{exact:!0,path:"/signup/complete-account",render:function(e){return l.a.createElement(Te,Object.assign({},e,{user:p.loggedUser,refreshUserData:f}))}}),l.a.createElement(o.b,{exact:!0,path:"/login",render:function(e){return l.a.createElement($,Object.assign({},e,{user:p.loggedUser,getUserDetails:b}))}}),l.a.createElement(o.b,{exact:!0,path:"/logout",render:function(e){return l.a.createElement(ee,Object.assign({},e,{getUserDetails:b}))}}),l.a.createElement(y,{exact:!0,path:"/feed",user:p.loggedUser,component:le}),l.a.createElement(y,{exact:!0,path:"/activity-composer",user:p.loggedUser,component:re}),l.a.createElement(y,{exact:!0,path:"/place-composer",user:p.loggedUser,component:ye}),l.a.createElement(y,{exact:!0,path:"/story-composer",user:p.loggedUser,component:we}),l.a.createElement(y,{exact:!0,path:"/dashboard",user:p.loggedUser,component:oe}),l.a.createElement(o.b,{exact:!0,path:"/activities",render:function(e){return l.a.createElement(ue,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/places",render:function(e){return l.a.createElement(je,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/stories",render:function(e){return l.a.createElement(Oe,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(y,{path:"/activities/:id/edit",user:p.loggedUser,component:Ne}),l.a.createElement(y,{path:"/places/:id/edit",user:p.loggedUser,component:Ce}),l.a.createElement(y,{path:"/stories/:id/edit",user:p.loggedUser,component:_e}),l.a.createElement(o.b,{exact:!0,path:"/activities/:id",render:function(e){return l.a.createElement(he,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/places/:id",render:function(e){return l.a.createElement(fe,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/stories/:id",render:function(e){return l.a.createElement(xe,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{exact:!0,path:"/users/:id",render:function(e){return l.a.createElement(ve,Object.assign({},e,{user:p.loggedUser,getUserDetails:b}))}}),l.a.createElement(o.b,{exact:!0,path:"/users",render:function(e){return l.a.createElement(be,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(y,{path:"/bookmarks",user:p.loggedUser,component:Le}),l.a.createElement(o.b,{exact:!0,path:"/search",render:function(e){return l.a.createElement(Se,Object.assign({},e,{user:p.loggedUser}))}}),l.a.createElement(o.b,{path:"*",component:Me})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(P.a,null,l.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,a,t){e.exports=t.p+"static/media/MADE-Tommy-Soft-Black-PERSONAL-USE.1406dd01.woff"},78:function(e,a,t){e.exports=t.p+"static/media/Inter-Regular.9a9eeddb.otf"},93:function(e,a,t){e.exports=t(127)},98:function(e,a,t){},99:function(e,a,t){}},[[93,1,2]]]);
//# sourceMappingURL=main.f9bfedd5.chunk.js.map